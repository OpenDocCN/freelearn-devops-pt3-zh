# 13

# 收集用户反馈

在前一章中，您学习了如何衡量应用程序在生产中的运行情况。您学会了如何收集崩溃报告和日志，以及如何对应用程序进行仪器化。然而，软件的目的不仅仅是交付完美运行的应用程序，而是创造业务价值。收集用户反馈是必要的，以确定您的应用程序是否也实现了这一更高的目标。在本章中，您将学习如何测量用户是否满意、他们使用哪些功能以及不使用哪些功能，以及如何利用这些信息来引导未来的开发。

为此，本章首先介绍了持续反馈的概念。接下来，它将介绍不同的方法来向用户请求反馈并记录他们的响应。这既可以是应用内的方式，也可以通过其他渠道进行。除了直接收集反馈之外，您还可以利用其他间接渠道。例如，在 Twitter 上对软件的反应和应用程序中功能的使用。最后，本章将介绍假设驱动开发，这是微软实践的一种软件开发方法。

本章将涵盖以下主题：

+   理解持续反馈

+   请求反馈

+   收集间接反馈

+   实施假设驱动开发

# 理解持续反馈

如在*第一章*中所解释的，*DevOps 简介*，DevOps 是一场文化运动，试图将开发人员和运维人员更紧密地联系在一起，以帮助他们更快速、更可靠地提供业务价值。反馈循环是实现这一目标的重要元素。在前一章中，我们看到了许多反馈循环：

+   开发者可以在本地机器上运行单元测试，以验证他们的更改是否破坏了现有的行为。

+   在源代码检入后，所有单元测试将再次运行，并启动更多测试的流水线。

+   除了功能测试，还可以运行安全测试和依赖扫描。

+   发布后，收集日志和指标以确定应用程序是否运行顺畅。

所有这些都提供了关于工作技术质量的反馈，现在是时候增加一个更多的反馈循环——一个旨在验证应用程序是否真正满足用户需求的循环。

尽管这听起来很明显，但比大多数开发者愿意承认的更容易被忽视。在许多公司中，对产品所有者或业务分析师有信心，他们被信任能预测用户需要哪些功能并按优先级排序。

我们知道软件开发是一项复杂的活动，其中变更的结果通常无法事先预测。在这种情况下，持续寻求用户反馈以确定功能是否提供了应有的价值是非常重要的。

持续寻求反馈将有助于做出如下决策：

+   移除大多数用户未使用的功能；这样可以减少对这些功能的维护需求，从而降低成本，并释放开发时间。

+   扩展用户最常使用的功能，使其在界面中更加突出。

+   根据用户对应用程序的感知质量，增加或减少测试工作量。

进一步推理下去，我们可能会得出结论，无法预测一个功能是否会真正提供足够的商业价值来证明其存在的必要性。做此类工作的公司通常会采用假设驱动开发的做法，稍后将讨论这一点。

下一部分将介绍请求应用用户反馈的不同方法。

## 请求直接反馈

收集用户反馈的一个非常直接的方式就是直接向用户询问。近年来，越来越多的应用程序在其内部嵌入了反馈机制。其他常见的方法包括发布公开的产品路线图并直接与客户互动。

## 产品内反馈的优势

收集产品内反馈是获取直接用户反馈的好方法。产品内反馈的例子包括评分特定视图或操作，给出点赞或点踩，或发送开心或难过的表情符号。

收集产品内反馈具有以下优势：

+   这是客户提供反馈最简单的方式，几乎不占用他们的时间。

+   由于这种方法的非侵入性，许多终端用户可能会选择回应。

+   记录的反馈可以是上下文感知的。

+   在记录评分、表情符号或点赞和点踩反馈时，应用程序还可以记录当前状态和最近的用户活动，并将这些信息与用户反馈一起发送。这使得用户的一次点击比表面看起来更有价值。它能够快速洞察应用程序中最受欢迎和最不受欢迎的部分。

+   最后，允许产品内反馈能让用户感到自己被听到和重视。

提示

当然，记录有关用户及其使用应用程序的数据需要获得他们的同意。你对收集用户信息的意图需要完全透明。同时，通常需要明确的内容选择加入（opt-in），并提供撤销先前同意的选项。具体要求因国家而异，是一个法律考虑因素。

这种反馈类型的缺点是，分析这些反馈可能会过于繁琐。此外，由于结果通常是匿名的，无法跟进反馈。这使得很难理解*为什么*用户对某个应用功能感到满意或不满意。有时，通过在反馈框下方添加一个复选框来反制这一点，复选框内容可能是*我同意被联系讨论这个问题*。

如果你想理解用户反馈的原因，其他反馈机制，如访谈或焦点小组，可能更为合适。

## 拥有一个公开的路线图

另一种收集用户反馈的方法是公开分享当前待办事项中已完成的和未完成的任务。一个公开分享他们正在处理哪些功能的团队是 Azure DevOps 团队。当然，这个列表并不包含产品团队计划的所有功能。原因可能是为了保持竞争优势，或者为了保密一些新功能，直到重大公告发布。然而，他们的待办事项提供了一个关于当前正在开发的功能的良好洞察。

采用这种做法可以让产品的用户参与并评论这个公开的列表。用户可以请求将某些功能在优先级列表中上移或下移，并分享他们缺失哪些功能。

这能为公司带来以下好处：当用户参与反馈功能列表时，他们会被鼓励具体说明为什么提出某个请求。这可能提供关于客户需求的新见解，并可能导致优先级的调整。

这种方法也有一些缺点：

+   并非所有用户都会参与并提供关于公开待办事项的反馈。这可能导致在提供反馈的群体中，偏向那些更为活跃或要求更多的客户。虽然这不一定是问题，但需要注意这一点。

+   与用户就功能请求或他们希望在列表中上移或下移的功能进行互动可能非常耗时。尤其是与产品内反馈相比，这种方式需要更多的时间。

除了拥有公开的功能路线图外，还有其他方法可以让用户了解公司目前在做什么以及他们的计划。以下是一些例子：

+   **UserVoice**：UserVoice 是一个平台，允许用户提出新功能并对其他人提出的功能进行投票。它使得在不对用户开放实际待办事项的情况下收集用户的想法成为可能。

+   **Bugtrackers**：如果客户非常积极地报告应用程序中的错误和故障，开放一个 Bugtracker 可能会有所帮助。这允许用户查看哪些问题已知，并且是否以及何时可能被修复。

公开的待办事项和像 UserVoice 这样的反馈平台比开放的待办事项更为常见。公开的错误或问题列表更多地出现在开源开发中。

## 使用访谈或焦点小组

其他形式的用户反馈请求包括一对一面谈和焦点小组。尽管这些比开放式需求池和公开讨论更耗时，但它们也有利于选择更加平衡的用户。

例如，如果一个应用明显针对四个不同的市场段，那么有五个焦点小组可能是有利的——每个市场段一个，以及一个混合市场段的额外小组。前四个将使我们能够专注于每个群体的特定需求，而第五个将引发大量讨论，并揭示不同群体的不同愿望如何比较。

面谈和焦点小组还更适合不仅获取反馈，还了解用户的推理方式。面对面与用户交谈使我们能够探索他们的推理方式以及他们如何看待应用程序。

这里结束了对直接用户反馈的讨论。下一节将讨论间接用户反馈。

# 收集间接反馈

软件开发中一个众所周知的说法是用户*不知道他们想要什么*。虽然这听起来有些苛刻，但直接来自讨论、面谈和焦点小组的用户反馈并不一定导致良好的产品反馈的原因有几个：

+   其中一个原因是每个人都想被喜欢。在进行面谈或与一群用户交谈时，他们可能只会说出他们认为面试官想听到的话。

+   这需要很高的周转时间。安排面谈和焦点小组需要时间，找到每个人都能参加的时间可能需要数天甚至数周。

+   每隔几周不断向同一组用户询问反馈是困难的。这在尝试确定功能质量是否随着最新更新而改善时尤为重要。

基于这些理由，减少请求反馈而是测量用户在功能级别上如何与应用程序互动，以及他们是否对应用程序所提供的价值感到满意可能更值得一试。

一种方法是通过测量应用程序中的用户行为，并基于此发出指标。在*第十二章*，*应用程序监控*，**应用程序洞察**引入了收集应用程序级指标的功能。虽然传统上用于发出有关应用程序性能的指标，但也可以用于发出有关应用程序使用情况的指标。以下是一些示例：

+   每个页面访问频率有多高？

+   特定操作执行多少次？

+   完成某个视图需要多长时间？

+   多少用户打开特定表单，却从未完成？

收集这些指标可以提供重要的见解，了解用户如何与应用程序互动以及他们使用或不使用的部分。

除了使用情况，用户满意度的另一个指标可以是 Twitter 情感或支持请求的数量。

## 情感分析

除了收集产品内的指标外，还有一些可以在产品外收集的指标。一个信息来源的例子是 Twitter。利用 Azure 云和机器学习算法，现在可以持续分析所有指向某个 Twitter 账号或话题标签的推文，并自动检测到突发的变化。

这甚至扩展到一个 Azure Pipelines 插件，它可以持续地衡量 Twitter 情感，并在情感过于负面时取消将发布进程推进到下一个阶段。这个插件作为一个管道门控实现，可以在**Azure DevOps Marketplace**中找到。

## 支持请求

就像 Twitter 情感一样，可能还有其他能够自动收集的用户满意度指标。持续收集每分钟的支持电话或电子邮件数量，并检测到某个突发的高峰，可能是用户出现问题的明确指示。利用机器学习和系统集成，这可以用于自动化响应或将用户引导到相关结果。

采纳这样的实践可以在发现生产问题时节省几分钟或几个小时。获取用户反馈并根据情感做出决策甚至可以走得更远。这就是假设驱动开发，接下来将进行讨论。

# 实施假设驱动开发

软件开发中的一个风险是，团队忙于创建越来越多的功能，以至于忘记了反思其业务价值，而大家都知道，并不是每个功能都是成功的。有些功能可能根本不会被使用，甚至可能会被用户讨厌。作为一个行业，我们已经意识到产品负责人很难预测哪些功能会受到用户喜欢，哪些不会。即使使用了之前讨论过的所有反馈机制，预测用户需求依然是困难的。

另一个需要认识到的重要问题是，产品中的每一个功能也都会带来未来的成本。每个功能都需要文档、支持和维护。这意味着不必要的功能也会推高成本。从这个角度来看，不仅要保留有价值的功能，甚至应尽早从产品中移除那些无价值的功能。

假设驱动开发是一种实践，它首先承认无法预测一个功能是否会增加价值、没有价值，甚至更糟的是，降低业务价值。接下来，它建议将待办功能转化为快速、轻量的实验，在产品中运行，以确定新功能是否会增加价值。

这样的实验可以以类似用户故事的形式写成，例如：*我们相信用户希望通过一个新的单字段弹窗快速创建预约，而不是完整的对话框。我们确信这是事实，当我们看到超过 25%的预约是通过这个新对话框创建的，并且预约的平均批准率上升了 2 个百分点或更多时*。第一部分被称为假设，第二部分是验证假设的确认标准。

一旦写下这些内容，就创建一个最小化实现的单字段弹窗，并使用指标监控它的使用情况以及原始表单的使用情况。根据测量结果，可能会发生以下情况：

+   假设中提出的信念被确认是真实的，并且新特性增加了价值。更多与该特性相关的故事可以被添加到待办事项中，以增加产品提供的业务价值。

+   假设中提出的信念尚未得到确认，且进一步的实验预计不会产生不同的结果。该特性已从待办事项中删除，当前的最小化实现甚至可能从产品中移除。

+   假设中提出的信念尚未得到确认，但实验仍在继续。这种情况可能发生在有大量用户抱怨某个功能，而团队决心修复它时。如果一种方法不起作用，他们可能会尝试另一种方法。

采用之前提到的方法，团队可以通过减少在实验后确认不增加价值的特性上花费的时间，来提高他们对业务价值的影响，甚至将这些特性从产品中移除。

通常，假设驱动的开发会与分阶段发布机制如**功能标志**或**部署环**结合使用。实验只会在一小部分用户中进行，这使得如果该功能未能增加足够的价值时，能够更容易地将其撤回。

这完成了关于收集和使用用户反馈以及用户反馈如何与 DevOps 目标（为最终用户提供业务价值）相关的讨论。

# 总结

在本章中，你学习了如何衡量软件开发活动的业务成果。首先，你了解了反馈的重要性，以及如何通过反馈帮助理解客户需求以及这些需求是否得到了满足。然后，介绍了多种请求反馈的方法，包括直接和间接的。

最后，你了解了假设驱动的开发以及实验心态如何帮助减少浪费。

通过这些知识，你现在可以选择并实施反馈机制，帮助你了解用户对你的应用程序的情感反馈。你现在能够采取基于实验的方法来创建软件，专注于增加价值的特性，忽略或甚至移除那些不增加价值的特性。

在接下来的章节中，你将学习容器的所有知识。容器正在迅速改变软件交付的方式，并且常常用于将 DevOps 原则应用于现有应用程序和新应用程序。

# 问题

在我们总结时，以下是一些问题，供你测试自己对本章内容的理解。你可以在*附录*中的*评估*部分找到答案：

1.  判断题：公开共享路线图没有任何缺点。

1.  在评估公共路线图上的用户反馈时，需牢记的一个重要问题是什么？

1.  哪两个间接的用户满意度指标相对容易捕捉？

1.  以下哪项不是假设的一部分，假设驱动开发中使用的假设？

    1.  假设

    1.  确认阈值

    1.  结论

1.  面试或焦点小组相较于其他收集反馈的方式，具有哪两个优势？

# 进一步阅读

+   计划在 Azure DevOps 上发布的功能列表可以在[`docs.microsoft.com/en-us/azure/devops/release-notes/features-timeline`](https://docs.microsoft.com/en-us/azure/devops/release-notes/features-timeline)找到。

+   Twitter 情感分析扩展可以在 Azure DevOps Marketplace 找到，网址为[`marketplace.visualstudio.com/items?itemName=ms-devlabs.vss-services-twittersentimentanalysis`](https://marketplace.visualstudio.com/items?itemName=ms-devlabs.vss-services-twittersentimentanalysis)。

# 第五部分 – 高级话题

在本部分的最后，你将学习到在组织中采纳良好的 DevOps 文化的好处。你将探索一些可作为指导的情境，帮助你准备企业云采用计划，这可能会直接影响你的业务成果。在本书的最后，你可以通过参加模拟考试来测试自己是否为认证做好准备。

本书的这一部分包括以下章节：

+   *第十四章*，*采纳持续改进文化*

+   *第十五章*，*通过 DevOps 加速云的采用*

+   *第十六章*，*容器*

+   *第十七章*，*规划你的 Azure DevOps 组织*

+   *第十八章*，*AZ-400 模拟考试*
