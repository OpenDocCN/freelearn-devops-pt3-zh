# <st c="0">前言</st>

<st c="8">安全性是企业的一个重要问题。</st> <st c="53">60%的组织报告称，由于开发过程的速度、自动化和去中心化增加，他们的 DevOps 计划面临安全挑战。</st> <st c="235">我们写这本书的目标是帮助你（读者）清晰理解如何在采纳 Azure 云及其服务和</st> <st c="475">DevOps 工具链的组织中，将持续安全融入 DevOps 工作流的每个阶段。</st>

<st c="492">本书通过动手实验，带你从基础知识深入了解如何在 DevOps 工作流中尽早集成安全。</st> <st c="662">通过本书的学习，您将全面掌握如何加固整个 DevOps 工作流，从软件规划到编码，再到源代码控制、持续集成，直到运行 Azure</st> <st c="871">云工作负载。</st>

# <st c="887">本书适合谁阅读</st>

<st c="908">本书专为过渡到公共云环境或迈向 DevSecOps 范式的开发人员和安全专业人员量身定制。</st> <st c="1065">它同样适合 DevOps 工程师，或任何希望以实际方式掌握 DevSecOps 实施的读者。</st> <st c="1189">此外，寻求了解如何将安全检查、测试和其他控制措施整合到 Azure 云持续交付管道中的读者，将会发现本书非常有价值。</st> <st c="1370">对 DevOps 原则和实践的先前知识以及对安全基础知识的理解</st> <st c="1472">将有助于阅读本书。</st>

# <st c="1486">本书内容概览</st>

*<st c="1508">第一章</st>*<st c="1518">,</st> *<st c="1520">敏捷、DevOps 与 Azure 概述</st>*<st c="1553">, 将介绍我们将在本书中使用的 DevOps 工作定义。</st> <st c="1646">我们将讨论 DevOps 工作流中的各个阶段和五项核心 DevOps 实施实践。</st> <st c="1745">我们还将解释敏捷、DevOps 和云之间的关系；实施 DevOps 的安全挑战；以及组织如何开始应对</st> <st c="1908">这些挑战。</st>

*<st c="1925">第二章</st>*<st c="1935">,</st> *<st c="1937">DevOps 工作流的安全挑战</st>*<st c="1979">, 将探讨实施 DevOps 实践所带来的独特安全风险和威胁。</st> <st c="2079">我们将研究组织如何有效地开始解决这些</st> <st c="2140">挑战。</st>

*<st c="2163">第三章</st>*<st c="2173">，*<st c="2175">在 DevOps 计划阶段实施安全性</st>* *<st c="2204">，讨论了 DevOps 的 PLAN 阶段如何专注于从关键利益相关者和客户收集需求和反馈，制定一个不断演变的产品路线图，优先考虑关键需求，并设计灵活的软件架构。</st> <st c="2467">在此阶段实施 DevSecOps 时，应重点关注在开发人员开始编写代码之前可以解决的安全挑战！</st> <st c="2605">此阶段的活动应包括实施敏捷威胁建模流程，以便更早地识别设计层级的安全问题；并为团队实施安全培训。</st> <st c="2792">在本章中，我们将讨论在实施持续威胁建模过程中有效的方法。</st> <st c="2898">我们还将讨论安全的代码到云的不同成熟度水平</st> <st c="2975">培训项目。</st>

*<st c="2992">第四章</st>*<st c="3002">，*<st c="3004">实施提交前安全控制</st>*<st c="3045">，将专注于可以在开发人员将代码更改提交到版本控制系统之前实施的安全措施和检查。</st> <st c="3191">这包括实施安全控制措施以降低开发环境风险，并建立安全保障措施，以便在代码提交到本地</st> <st c="3406">代码库之前识别并修复漏洞和常见错误。</st>

*<st c="3422">第五章</st>*<st c="3432">，*<st c="3434">实施源代码控制安全性</st>*<st c="3470">，探讨了 DevOps 中的源代码控制是如何通过使用</st> **<st c="3572">源代码控制管理(SCM)</st>** <st c="3603">系统（如 Git 或</st> **<st c="3626">团队基础版本控制(TFVC)</st>**<st c="3664">）来组织和跟踪项目代码的。</st> <st c="3789">在源代码控制中实施 DevSecOps 时，考虑代码库的管理和安全性至关重要。</st> <st c="3919">如果代码库的访问权限被破坏或保护措施容易被绕过，那么很难信任存储在其中的代码。</st> <st c="4040">为了确保代码库的安全，我们应该实施代码签名过程，以验证代码更改的真实性。</st> <st c="4096">我们还应保护敏感分支并实施</st> <st c="4096">安全控制措施。</st>

*第六章*<st c="4124">，*<st c="4126">在 DevOps 的</st>* *<st c="4155">构建</st>* *<st c="4160">阶段实现安全性</st>*<st c="4176">，将重点理解 DevOps 的持续构建阶段，确保 CI 环境和过程的安全，加固构建过程以增强安全性，并将 SAST、SCA 和密钥扫描集成到</st> <st c="4389">构建过程中。</st>

*第七章*<st c="4413">，*<st c="4415">在 DevOps 的</st>* *<st c="4444">测试</st>* *<st c="4448">和</st>* *<st c="4453">发布</st>* *<st c="4460">阶段实现安全性</st>*<st c="4477">，将重点确保发布的构件来自受保护的分支，实施代码审查过程，选择安全的构件源，并验证构件的完整性。</st> <st c="4667">此外，我们还将讨论在发布阶段如何安全地管理密钥，实现基础设施即代码（Infrastructure-as-Code）的安全扫描，并通过发布门控验证和强制执行运行时安全性。</st>

*第八章*<st c="4870">，*<st c="4872">在 Azure 上的持续安全监控</st>*<st c="4911">，将重点理解 DevOps 中的持续监控，实施 Azure 中的运行时护栏，以及在运行时防止、检测和修复应用程序风险。</st> <st c="5077">在运行时。</st>

# <st c="5088">为了充分利用本书内容</st>

<st c="5121">对 Azure 云的基本理解是充分理解本书内容的前提。</st><st c="5211">要跟随实际操作练习，您需要</st> <st c="5272">以下内容：</st>

+   <st c="5286">一台有互联网连接的 PC</st>

+   <st c="5319">一个有效的 Azure 订阅</st>

+   <st c="5348">一个 Azure DevOps 组织</st>

+   <st c="5377">一个 GitHub 企业组织</st>

# <st c="5410">下载示例代码文件</st>

<st c="5442">您可以从 GitHub 下载本书的示例代码文件，网址为</st> [<st c="5512">https://github.com/PacktPublishing/DevSecOps-for-Azure</st>](https://github.com/PacktPublishing/DevSecOps-for-Azure)<st c="5566">。如果代码有更新，将会在</st> <st c="5628">GitHub 仓库中进行更新。</st>

<st c="5646">我们还提供了来自丰富书籍和视频目录的其他代码包，您可以在以下网址查看：</st> [<st c="5734">https://github.com/PacktPublishing/</st>](https://github.com/PacktPublishing/)<st c="5769">。快去看看吧！</st>

# <st c="5786">使用的约定</st>

<st c="5803">本书中使用了多种文本约定。</st>

`<st c="5869">文本中的代码</st>`<st c="5882">：表示文本中的代码词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟网址、用户输入和 Twitter 用户名。</st> <st c="6035">这是一个例子：</st> `<st c="6090">DevSecOps-Book-RG</st>` **<st c="6107">|</st>** **<st c="6110">确定</st>**<st c="6112">。</st>

<st c="6113">代码块设置如下：</st> <st c="6137">如下所示：</st>

```
 apiVersion: v1
kind: Pod
metadata:
  name: non-root-pod
spec:
  containers:
  - name: mycontainer
    image: myimage
    securityContext:
      runAsUser: 1000
      runAsGroup: 3000
```

<st c="6305">任何命令行输入或输出如下所示：</st> <st c="6350">如下：</st>

```
 pip install pre-commit
```

**<st c="6384">粗体</st>**<st c="6389">：表示新术语、重要单词或屏幕上显示的词汇。</st> <st c="6465">例如，菜单或对话框中的文字以</st> **<st c="6520">粗体</st>**<st c="6524">显示。这里是一个例子：“点击</st> **<st c="6556">登录</st>**<st c="6563">。”</st><st c="6564">”</st>

<st c="6566">提示或重要说明</st>

<st c="6589">显示如下。</st>

# <st c="6607">联系我们</st>

<st c="6620">我们欢迎读者的反馈</st> <st c="6650">。</st>

**<st c="6665">一般反馈</st>**<st c="6682">：如果你对本书的任何部分有疑问，请通过电子邮件联系我们</st> <st c="6750">customercare@packtpub.com</st> <st c="6775">并在邮件主题中提及书名。</st> <st c="6821">你的信息。</st>

**<st c="6834">勘误</st>**<st c="6841">：虽然我们已经尽力确保内容的准确性，但错误确实会发生。</st> <st c="6937">如果你在本书中发现了错误，我们非常感激你报告给我们。</st> <st c="7032">请访问</st> [<st c="7045">www.packtpub.com/support/errata</st>](http://www.packtpub.com/support/errata) <st c="7076">并填写</st> <st c="7089">表单。</st>

**<st c="7098">盗版</st>**<st c="7105">：如果你在互联网上发现任何我们作品的非法副本，我们将非常感激你提供该副本的网址或网站名称。</st> <st c="7276">请通过</st> <st c="7297">copyright@packt.com</st> <st c="7316">与我们联系并提供</st> <st c="7332">该材料的链接。</st>

**<st c="7345">如果你有兴趣成为作者</st>**<st c="7389">：如果你在某个话题上有专长并且有兴趣撰写或贡献一本书，请</st> <st c="7514">访问</st> [<st c="7520">authors.packtpub.com</st>](http://authors.packtpub.com)<st c="7540">。</st>

# <st c="7541">分享你的想法</st>

<st c="7561">阅读完</st> *<st c="7579">Azure 的 DevSecOps</st>*<st c="7598">后，我们非常希望听到你的想法！</st> <st c="7633">请</st> [<st c="7640">点击这里直接访问亚马逊书籍评价页面</st>](https://packt.link/r/1837631115) <st c="7691">并分享</st> <st c="7716">你的反馈。</st>

<st c="7730">您的评价对我们以及技术社区至关重要，将帮助我们确保提供卓越的</st> <st c="7839">优质内容。</st>

# <st c="7855">下载此书的免费 PDF 副本</st>

<st c="7893">感谢购买</st> <st c="7916">本书！</st>

<st c="7926">您是否喜欢随时随地阅读，但无法携带您的纸质书籍到处走动？</st>

<st c="8009">您的电子书购买是否无法与您选择的设备兼容？</st>

<st c="8079">别担心，现在购买每本 Packt 书籍时，您将免费获得该书的无 DRM PDF 版本</st> <st c="8166">，无需额外费用。</st>

<st c="8174">随时随地，在任何设备上阅读。</st> <st c="8216">直接从您最喜欢的技术书籍中搜索、复制并粘贴代码到</st> <st c="8294">您的应用程序。</st>

<st c="8311">福利不止于此，您还可以获得独家折扣、新闻简报，以及每天通过电子邮件发送的精彩免费内容。</st>

<st c="8438">按照以下简单步骤即可享受</st> <st c="8472">这些福利：</st>

1.  <st c="8485">扫描二维码或访问以下</st> <st c="8516">链接</st>

![](img/B19710_QR_Free_PDF.jpg)

[<st c="8528">https://packt.link/free-ebook/9781837631117</st>](https://packt.link/free-ebook/9781837631117)

1.  <st c="8571">提交您的购买凭证</st> <st c="8590">以证明购买</st>

1.  <st c="8601">就是这样！</st> <st c="8613">我们将直接将您的免费 PDF 和其他福利发送到您的</st> <st c="8665">电子邮件</st>

# <st c="0">第一部分：了解 DevOps 和 DevSecOps</st>

<st c="43">在这一部分，我们将讨论 DevOps 工作流的各个阶段、实施 DevOps 的安全挑战，以及组织如何开始解决</st> <st c="198">这些挑战。</st>

<st c="215">本部分包含以下章节：</st> <st c="239">以下章节：</st>

+   *<st c="258">第一章</st>*<st c="268">,</st> *<st c="270">敏捷、DevOps 和 Azure 概述</st>*

+   *<st c="303">第二章</st>*<st c="313">,</st> *<st c="315">DevOps 工作流的安全挑战</st>*
