# 前言

Salesforce 是全球领先的企业系统平台。这一地位是在过去十年中逐步建立的，其业务范围已从销售和客户服务的根基扩展到涵盖广泛的业务领域。

然而，随着 Salesforce 的增长，承载它的技术环境的复杂性也在增加。伴随这种复杂性的增加，一些常见的错误也随之出现，往往导致 Salesforce 项目在多种有趣的方式中脱轨。

这些错误我们将称之为反模式，并在本书中以结构化的方式进行探讨。市场上已经有不少关于 Salesforce 架构的书籍，但它们都从规范视角出发，基于良好的实践来探讨这一主题。

本书从不同的角度来看待这个问题。我们关注 Salesforce 项目中常见的错误做法，而这些做法在你做出决策时，实际上看起来可能是个好主意。

通过这样做，我们可以看到当事情未按照计划进行时会发生什么——当你没有做出正确的决策，导致你的解决方案受到影响。这样，我们就能为回顾关键架构概念和良好实践提供一个很好的背景，并且这些概念和实践适用于多种场景。

在本书中，您将获得基于**认证技术架构师**（**CTA**）考试路线图的七个领域的信息结构。这样，尽管所有信息都基于真实世界的案例，但如果你正在走向或考虑走向 CTA 的道路，你将能够直接应用这些知识。

在本版中，我们加入了许多新的反模式，并更新了现有内容。特别是，我们增加了关于人工智能和 DevOps 在 Salesforce 生态系统中日益增长应用的章节和参考资料。

# 本书的目标读者

本书适用于任何在 Salesforce 实施中有责任岗位的人，并希望避免那些困扰许多项目的常见错误。尽管主要读者是架构师或有志成为架构师的人，但项目经理、业务分析师、功能顾问和监督 Salesforce 项目的高管也将从中受益。

# 本书的内容

*第一章*，*为什么我们需要理解 Salesforce 反模式？*，首先通过多种不同的定义和视角来解释什么是反模式。接着，您将了解到，理解这些常见错误的产生过程以及它们在当时如何看起来像一个好主意，可以帮助您深化对架构的理解。最后，本章将帮助您理解本书的内容以及如何处理这些内容。

*第二章*，*如何保持系统架构的清晰*，引导你了解与系统环境、你在解决方案中使用的系统组合以及它们如何相互结合的常见反模式。我们将从描述系统组合和范围问题的最高级别反模式开始。然后，我们将探讨那些会导致高度耦合和脆弱系统环境的反模式，接着我们将讨论如何选择正确的系统来包括在内的反模式。最后，本章将以对现实生活中的关键要点和 CTA 评审委员会的回顾结束。

*第三章*，*如何避免在安全性方面产生混淆*，包含了与确保 Salesforce 组织安全相关的反模式。首先，我们将回顾关于 Salesforce 的共享安全模型的一个关键反模式。然后，我们将分析当你将其他事物误认为是安全时可能出现的反模式。接着，我们将继续探讨如何避免在共享模型中搞乱安全设置，最后再次通过回顾关键要点来结束本章。

*第四章*，*数据管理中的错误做法*，包含了与数据架构、建模和治理相关的反模式。我们将从未考虑 Salesforce 的对象模型设计时出现的问题开始。然后，我们将探讨围绕数据治理的常见灾难。接着，我们将深入探讨数据同步及其可能出错的方式，最后以生活中的关键要点和 CTA 评审委员会的回顾作结。

*第五章*，*解决方案架构故障分析*，涵盖了与你的解决方案架构相关的反模式。我们将从与你选择解决方案相关的反模式开始。接着，我们将讨论在进行功能设计时可能出现的错误。第三，我们将关注一些影响定制化的特定反模式，首先是概念层面的，随后是代码层面的。最后，我们将通过总结关键要点来结束本章。

*第六章*，*保持集成清晰*，探讨了你与其他系统集成相关的反模式。本章的第一部分讨论了集成环境和集成模式的反模式。第二部分分析了接口设计和使用中可能出现的问题，第三部分则聚焦于特定集成风格的问题，如基于事件的架构和批量传输。像往常一样，我们通过提炼关键要点来结束本章。

*第七章* ，*防止开发生命周期偏离轨道* ，探讨了与开发过程、治理和 DevOps 相关的反模式。我们将从解决一些重要的过程级反模式开始，然后转向处理 DevOps 和打包相关的反模式。最后，我们将讨论一个常见且非常不幸的反模式，涉及测试。章节末尾，我们将总结现实生活中的关键收获以及 CTA 审查委员会的经验。

*第八章* ，*无误传达的沟通* ，讨论了围绕向不同受众传达架构的反模式。第一部分涉及与信息控制相关的反模式。接着，我们探讨与沟通清晰度相关的一些反模式。第三部分关注的是关于创建架构文档的反模式。和之前一样，章节末尾我们将总结关键收获。

*第九章* ，*总结* ，概述了本书的内容，包括前几章的主要收获。接着，它解释了如何在自己的工作中使用反模式方法和视角来提升架构技能。最后，给出一些指引，帮助您在这个方向上进一步发展。

# 如何最大限度地利用本书

本书面向任何对使 Salesforce 项目成功的人士。尽管一些技术章节会假设读者具备一定的技术知识和经验，但唯一的真正前提是对 Salesforce 平台有一定的了解和兴趣。

# 使用的约定

本书中使用了许多文本约定。

**文本中的代码** ：表示文本中的代码词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟网址、用户输入以及 Twitter 账户名。以下是一个示例：“Salesforce 的架构师之一 Pranit 提出了一个建议，通过创建一个 **CentralDispatch** Apex 类来简化当前的系统架构，该类将承担调度调用到其他代码或流程的角色。”

提示或重要注意事项

如下所示。

# 联系我们

我们总是欢迎读者的反馈。

**一般反馈** ：如果您对本书的任何内容有疑问，请通过电子邮件联系我们：[customercare@packtpub.com](http://customercare@packtpub.com)，并在邮件主题中注明书名。

**勘误** ：虽然我们已经尽最大努力确保内容的准确性，但错误难免发生。如果您在本书中发现错误，欢迎您向我们报告。请访问 [www.packtpub.com/support/errata](http://www.packtpub.com/support/errata) 并填写表格。

**盗版**：如果你在互联网上发现我们作品的任何非法复制版本，我们将非常感激你提供该材料的地址或网站名称。请通过版权@packt.com 联系我们，并附上该材料的链接。

**如果你有兴趣成为作者**：如果你在某个领域有专业知识，并且有兴趣撰写或贡献书籍，请访问[authors.packtpub.com](http://authors.packtpub.com)。

# 分享你的想法

一旦你阅读了*Salesforce 反模式*，我们很想听听你的想法！[请点击这里直接访问亚马逊的本书评论页面](https://packt.link/r/1835467849)并分享你的反馈。

你的评论对我们以及技术社区非常重要，能帮助我们确保提供优质的内容。

# 下载本书的免费 PDF 副本

感谢购买本书！

你喜欢在旅途中阅读，但又不能随身携带纸质书籍吗？

你的电子书购买是否与你选择的设备不兼容？

别担心，现在每本 Packt 书籍都会附带免费的无 DRM 版本 PDF。

随时随地，在任何设备上阅读。直接从你最喜爱的技术书籍中搜索、复制并粘贴代码到你的应用中。

福利不止这些，你还可以每天在邮箱中收到独家的折扣、新闻通讯和精彩的免费内容。

按照以下简单步骤享受福利：

1.  扫描二维码或访问下面的链接

![img](img/B30991_QR_Free_PDF.jpg)

[`packt.link/free-ebook/978-1-83546-784-8`](https://packt.link/free-ebook/978-1-83546-784-8)

1.  提交你的购买凭证

1.  就是这样！我们会将免费的 PDF 文件和其他福利直接发送到你的邮箱。

# 第一部分：技术反模式

本部分将教你如何识别并缓解在系统架构、数据架构和安全架构等技术领域中的反模式。

本部分包括以下章节：

+   *第一章*，*我们为什么需要理解 Salesforce 反模式？*

+   *第二章*，*如何保持系统架构的整洁*

+   *第三章*，*如何避免在安全性上产生混淆*

+   *第四章*，*关于数据的禁忌*
