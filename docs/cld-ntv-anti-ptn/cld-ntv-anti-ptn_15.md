

# 向云原生良好习惯过渡

向云原生架构过渡不仅仅是一个技术任务；它是一个战略转型，涉及到组织的各个方面。它包括从传统思维方式和流程转变为优先考虑敏捷性、韧性和创新的现代方法。本章不仅仅讨论云采用的技术步骤，还深入探讨了使转型成功的关键要素：对齐利益相关者、定义战略性和灵活的路线图，以及建立持续改进的文化。这不仅仅是利用最新的技术；它是将这些技术整合到一个支持并为未来目标做准备的整体战略中。

在我们应对这一转型过程中，我们必须确保每一部分都无缝衔接，从利益相关者参与到执行。我们将探讨如何争取支持，并将团队凝聚在一个共同的愿景下，将认同转化为动力。本章旨在作为制定详细而灵活的路线图的指南，帮助我们精准且有目的地推动组织向前发展。最后，我们将强调建立反馈循环并培育持续改进文化的重要性，确保组织不仅适应变化，而且在不断发展的云环境中蓬勃发展。以下是本章将涵盖的内容：

+   利益相关者对齐

+   你的路线图

+   持续改进

让我们从探索利益相关者对齐这一关键步骤开始，这是成功云原生转型的基础。

# 利益相关者对齐

在我们在*第十四章*中建立的利益相关者对齐基础上，向云原生组织过渡不仅仅是技术上的变革；它还需要改变人们和团队如何合作、做决策，并与整体愿景对齐。在这一部分，我们将探讨利益相关者对齐的关键方面，强调吸引正确人员、管理依赖关系，以及确保团队为成功而构建的重要性。本节基于*第二章*的见解，*战略化你的云原生转型*，专注于有效对齐利益相关者的实用策略。

## 利益相关者管理考虑事项

成功的云原生转型依赖于有效的利益相关者管理。如果没有这一点，偏离目标、冲突和失败的项目将是可能的结果。为了应对这些挑战，理解各个利益相关者群体的需求和期望，并据此进行管理是至关重要的。

| **利益相关者群体** | **考虑事项** |
| --- | --- |
| 高层领导 | 如*第十四章*所讨论，提前参与以确保获得赞助和资源。展示投资回报和战略优势。 |
| 技术团队 | 包括架构师、开发人员和 SRE，确保技术决策和实施得到认可。 |
| 运维和安全 | 整合运维和安全团队，与 DevSecOps 实践保持一致，促进协作。 |
| 商业利益相关者 | 确保商业领导者理解云原生解决方案如何与目标和指标保持一致。这不仅仅涉及高级领导层，还涵盖了变革管理和人力资源领域，以应对文化变革。 |

表 15.1 - 利益相关者及考虑事项

建立一致的沟通对于成功的利益相关者参与至关重要。通过各种渠道定期更新信息，如会议、新闻通讯、仪表盘或项目管理工具，确保利益相关者在整个转型过程中保持知情和参与。透明的云原生计划进展、挑战和成就的洞察促进了信任，并创造了共享所有权的感觉，使利益相关者感到他们是这一过程的核心。通过建立这种参与度，我们鼓励一种协作氛围，利益相关者提供有价值的见解和反馈，这对于完善策略和克服障碍至关重要。

此外，互动式研讨会和培训课程对于构建对云原生原则的共同理解至关重要，特别是对于那些可能对其中的复杂性不太了解的非技术相关方。这些课程旨在解开云原生概念的神秘面纱，例如微服务、容器化和 CI/CD，同时以实际的商业价值为例，如在*第七章*中所述，*将您的商业目标表达为应用程序代码*。研讨会还专注于围绕共同目标使不同部门保持一致，推动早期的跨职能协作。进一步支持这种一致性需要通过 **RACI** 框架（即 **责任人、被问责人、咨询人、知情人**）明确角色和职责，通过明确责任和决策权来管理期望。提前建立这些边界有助于减少模糊性，增强协调性，确保努力朝着统一目标有序推进，并建立坚实的信任基础。清晰的沟通和相互理解的基础为下一步奠定了基础：确定合适的人选来推动转型。

### 确定所需人员

构建一个有效的云原生团队不仅仅是填补角色；它需要组建具备必要技能、思维方式和协作精神的个人，以应对转型过程中的复杂性。这个过程包括创建一个技术专家、战略思考者和跨职能合作者的平衡，他们能够无缝地合作。每个角色都应由具备技术专长且能够随着组织的发展不断学习和成长的人员担任，以下是一些例子：

+   **云架构师和平台工程师**：对于设计和管理符合业务需求的云原生架构至关重要，正如在*第七章*中讨论的那样。

+   **安全工程师**：在整个生命周期中嵌入安全措施，发挥着至关重要的作用，正如在*第五章*中强调的那样。

+   **产品负责人和商业分析师**：确保实施与业务目标一致并交付可衡量的成果，详细内容见*第三章**.*。

理解这些具体技能和职责对于组建一个能够应对转型挑战的团队至关重要。以下是云原生旅程中所需的关键角色和组织所需的技能：

| **角色** | **描述** | **关键技能** |
| --- | --- | --- |
| 云架构师 | 设计云架构并确保其符合云原生最佳实践 | 解决方案设计、云平台和自动化 |
| 平台工程师 | 管理云基础设施，专注于自动化和**基础设施即代码** (**laC**) 实践 | laC（Terraform、CloudFormation/CDK、ARM/Bicep）、自动化和脚本编写 |
| 开发人员/SRE | 构建、部署和维护云原生应用程序，重点关注可扩展性和可靠性 | CI/CD、容器化和微服务 |
| 安全工程师 | 实施持续的安全控制并监控云原生环境中的威胁和漏洞 | DevSecOps、自动化和威胁检测 |
| 产品负责人 | 确保技术实施与业务目标一致，弥合差距 | 商业分析和利益相关者管理 |

表 15.2 - 云原生旅程中的关键角色

一旦这些角色确立，就需要预见和管理可能在有效对齐这些利益相关者时出现的潜在挑战。

## 利益相关者对齐中的常见挑战

即使采用了结构化方法，云原生转型通常在与利益相关者的对齐方面面临重大挑战。这些挑战通常源于对云原生技术的熟悉程度不同、对变革的抵制或部门目标的冲突。*第二章*强调了将战略与业务目标对齐的重要性。在此基础上，我们探讨了在汇集利益相关者时出现的具体挑战，并提供了克服这些挑战的策略。

### 变革的阻力

在云原生转型中，经常面对抵制，尤其是在利益相关者对新方法不熟悉或持怀疑态度时。这些关切通常源于对现有工作流程干扰或与云原生实践相关风险的认知。为了解决这一问题，可以利用基于证据的案例研究和数据，展示诸如改善上市时间、增强敏捷性和整体业务价值等实际好处。通过将这些成功案例与组织的战略目标对齐，如*第二章*所强调的，我们可以减少抵制并在利益相关者中建立信心。

### 冲突的优先事项

通常存在冲突的优先事项，特别是在具有不同目标的部门之间。开发团队可能优先考虑快速发布，而运维团队则强调系统稳定性。这些冲突可能导致摩擦和进展缓慢。解决方案是促进合作研讨会，让利益相关者在平衡技术和业务需求的方法上达成一致。以下表格详细描述了旨在对齐这些优先事项的研讨会：

| **研讨会** | **重点** | **成果** |
| --- | --- | --- |
| **目标与关键结果** (**OKR**) 对齐研讨会 | 使开发和运维团队围绕共享的目标和指标达成一致 | 一组统一的 OKR，平衡速度和稳定性，为明确可衡量的前进路径提供支持 |
| 跨职能规划会议 | 汇集开发、运维、安全和业务单位代表，规划云原生路线图 | 一个协商一致的行动计划，整合技术和业务需求，以实现更顺畅的实施 |
| 发布策略和部署研讨会 | 建立对部署实践的共识，包括蓝绿部署、持续集成/持续部署和自动化技术 | 一个能够对开发和运维实现高效、可靠和安全部署的部署策略 |
| 风险管理和稳定性研讨会 | 制定减轻与快速部署相关风险、确保运营稳定性的策略 | 一个平衡速度需求和减少中断焦点的风险缓解框架 |
| 文化整合与协作工作坊 | 解决开发与运维团队之间的文化差异，促进沟通、共享责任和协作 | 提高团队凝聚力，培养支持跨职能协作的文化，助力云原生成功 |
| 技术与业务对齐会议 | 吸引技术和业务利益相关者讨论云原生实践如何满足业务和技术需求 | 确保技术效率的平衡策略，同时为各部门提供业务价值 |

表格 15.3 - 协作工作坊

没有高层支持，云原生项目可能会因资源不足或方向不明确而停滞不前。正如在*第二章*中概述的那样，尽早获得高层赞助是成功的关键因素之一。强调云原生采纳的战略价值，并展示其如何与业务目标对齐，如提高可扩展性、弹性和成本效率。以高层领导易于理解的方式呈现这些优势，以确保获得必要的支持和资源。

### 招聘策略的角色依赖关系和影响

成功的云原生转型需要组建合适的团队，并理解角色之间的依赖关系，以确保协调一致。本节探讨了招聘策略、技能差距和团队组织对构建凝聚力和适应性结构的影响。我们从评估技能差距开始。在启动转型之前，评估团队的技能是至关重要的，以识别任何技能差距。这有助于确定是否需要提升技能或招聘。关键领域包括以下内容：

+   **云架构**：

    +   **当前评估**：评估团队是否熟悉云原生架构模式（例如微服务、无服务器架构和测试自动化的 CI/CD 技能）

    +   **所需行动**：提供培训项目和认证，如 AWS 认证解决方案架构师或 Kubernetes、无服务器等领域特定技术

+   **安全专业知识**：

    +   **当前评估**：评估安全团队是否了解云原生安全实践（例如零信任和自动化威胁检测）

    +   **所需行动**：招聘 DevSecOps 专家或提供针对性的培训课程，以培养内部专业知识

+   **协作技能**：

    +   **当前评估**：审查团队在 DevOps 和平台工程模型下进行跨职能工作的准备情况

    +   **所需行动**：实施工作坊和团队建设活动，鼓励协作行为

理解角色和团队之间的依赖关系对于确保云原生转型的协调和顺利进行至关重要。以下是关键的依赖关系及其对团队结构的影响：

+   **跨职能协作**：正如在*第二章*中强调的，有效的开发、运营和安全团队之间的协作至关重要。组织面向产品的小组，以减少孤岛效应并促进效率。

+   **去中心化治理**：去中心化治理，详见*第三章*，使团队能够快速、有效地做出决策，同时与目标保持一致并最小化瓶颈。

+   **共享责任模型**：明确云服务提供商与内部团队之间的责任，以有效管理安全、合规性和运营。有关更多信息，请参见*第一章*，*云原生的好处和* *常见误解*。

### 对招聘和组织结构的影响

向云原生转型往往需要重新思考组织结构和招聘策略。从传统的孤岛式结构转向产品导向的模型，可以优化云原生最佳实践。

为了与云原生最佳实践保持一致，组织应摒弃传统的孤岛结构，转而采用产品导向的团队。这些团队负责产品或服务的整个生命周期，从而增强责任感和响应能力。以下是这种转变对组织结构的影响：

| **传统模型** | **产品导向模型** |
| --- | --- |
| 狭隘的部门划分（例如开发、运营和安全） | 跨职能团队共享产品所有权 |
| 专业技能聚焦 | 适应变化需求的通才技能 |
| 较长的决策周期 | 去中心化、更快的决策 |

表 15.4 - 模型比较

以下是**产品团队**的优势：

+   **增强的所有权**：团队负责整个生命周期，从而加快决策速度

+   **与目标的一致性**：与商业目标和客户成果紧密对齐

+   **协作文化**：促进持续学习和创新

### 招聘考虑因素

向产品导向、云原生环境的转型通常需要招聘新人才或培养现有员工。以下策略可以指导这一过程：

**技能多样性**：招聘云原生角色时，应注重多样化的技能组合。具有网络工程、安全性、数据管理和自动化背景的候选人能够提供至关重要的专业知识，增强团队的能力。

**文化契合度**：云原生环境强调协作、敏捷和鼓励持续学习的心态。优先考虑能够接受这些价值观的候选人，确保他们能够适应云原生实践快速变化的节奏。

**平衡专家与通才**：虽然通才因其适应能力和广泛的知识面而具有价值，但在安全、FinOps 和平台工程等关键领域拥有专家，确保在需要时能提供深入的专业知识。

### 提升技能和培训项目

当外部招聘不可行时，提升现有团队成员的技能是一种非常有效的策略。开发一个全面的培训计划，既培养技术技能，又培养软技能，是关键：

+   **认证项目**：提供认证路径，例如来自三大云服务提供商的认证，帮助团队成员获得必要的云原生技能。这些项目为员工提供了一种结构化的方式，帮助他们在关键领域发展专业技能。

+   **内部云学院**：建立内部学院，由经验丰富的云工程师指导其他团队成员，通过实践经验分享知识。这种方式促进了学习文化，并确保了组织内部的知识传递。

+   **实践工作坊和实验室**：组织实践工作坊和实验室，在这里团队可以在模拟的云原生场景中应用知识，构建 CI/CD 流水线或部署无服务器应用程序。这些环节巩固了学习，并提高了团队的信心和能力。

实现利益相关者的一致性是任何云原生转型的基础。组织可以通过有效地管理利益相关者、组建合适的团队、解决招聘影响和人员依赖关系来实现平稳过渡。借鉴自*第二章*和*第七章*的策略，本节提供了构建支持联盟所需的工具，确保组织各级之间的统一方法。在这些基础工作到位后，组织为云原生转型的下一阶段做好了充分准备。接下来，我们将探讨如何建立路线图以及如何应对这些挑战。

# 你的路线图

成功的云原生转型不是偶然发生的，它是通过精心策划和细致设计的**路线图**实现的。就像建筑物在开始建设前需要蓝图一样，云原生转型也需要一个详细的计划，将技术举措与战略业务目标对齐。扩展自*第十四章*，这份路线图是一个指南，帮助我们在复杂的变革中导航，同时确保每一步都是有目的的，并与我们组织的目标一致。

本节将概述构建一个推动我们云原生转型的实际路线图。我们将探讨成功计划的关键组成部分，包括以下内容：

+   迁移规划

+   过渡架构

+   交付举措

这些都是将战略转化为现实所必需的。到本节结束时，我们将清楚地理解如何创建一个支持并加速我们成为云原生组织的路线图。

## 了解迁移路径

每一次云原生转型都始于**迁移计划**。这个计划不仅仅是一个简单的清单，而是一个动态的策略，依据业务需求、技术要求和组织的变革意愿而不断发展。迁移计划应当明确哪些工作负载和应用将被迁移到云端，并说明如何调整这些应用以适应云原生架构。本节基于前几章的内容，强调了结构化迁移方法的重要性。

为了制定成功的迁移计划，遵循以下步骤：

+   **评估并分类应用**：全面评估现有的应用和系统。确定哪些最适合云原生环境，并将其分类为以下几种：

    +   **重托管（提升并转移）**：针对可以通过最小更改进行迁移的应用

    +   **重构/重新平台化**：针对那些需要修改才能高效运行在云中的应用

    +   **重建**：针对可能需要使用云原生技术进行重大重新开发的遗留系统

    +   **停用或替换**：针对那些已过时或可以被 SaaS 或 PaaS 解决方案替代的应用

*第二章*对此进行了更详细的讨论。

+   **定义优先级标准**：并非所有应用都需要同时迁移到云端。根据业务影响、技术复杂性、监管要求和当前系统依赖性，制定一个优先级框架。那些在风险最小的情况下能提供最大价值的应用应该在迁移初期优先考虑。AWS 的**云采用框架**（**CAF**）、*微软 Azure 云采用框架*和谷歌自己的 CAF 都是很好的参考框架。

+   **建立分阶段方法**：采用分阶段的迁移策略，可以在进入下一阶段之前管理风险并从每个阶段中汲取经验，具体如下：

    +   **第 1 阶段**：迁移非关键应用，以熟悉云原生流程

    +   **第 2 阶段**：迁移需要中度重构的关键应用

    +   **第 3 阶段**：处理需要大规模重构或替换的复杂遗留系统

通过将迁移分阶段进行，组织可以积累动力，优化流程，并系统地管理变革。这种分阶段的方法与前面章节中讨论的云原生采用的增量特性相一致，确保了灵活性和受控的风险管理。

一个可靠的迁移计划必须有过渡架构的支持，这些架构可以指导组织通过每个迁移阶段。过渡架构充当当前状态与目标云原生状态之间的中介状态，确保每个迁移阶段都得到控制和管理。这与*第十七章*，*在应用代码中表达业务目标*中强调的内容一致，即强调如何将应用程序适应云原生环境。

这些是过渡架构的关键要素：

| **元素** | **描述** |
| --- | --- |
| 临时状态设计 | 为每个迁移阶段制定架构蓝图，展示应用程序和系统在最终云原生状态之前的临时功能 |
| 临时服务 | 利用临时服务或混合架构（例如，混合本地和云资源）以确保过渡期间的连续性 |
| 集成点 | 在传统系统和云原生组件之间建立集成点，如 API 网关或数据同步工具，以保持一致性并最小化中断 |

表 15.5 - 过渡架构

如果我们不能通过一次发布从当前状态过渡到目标状态架构，则需要过渡架构。它们可以帮助我们在规划过程中降低风险并解决技术依赖。过渡架构应根据每个迁移阶段的具体需求量身定制。例如，在早期阶段，混合云模型可能会维持传统系统的运行，同时测试新的云原生功能。随着应用程序逐渐完全迁移到云原生，它们可以淘汰这些临时设置。

### 构建灵活性和敏捷性

迁移计划和过渡架构的关键方面是确保灵活性和敏捷性。云原生环境是动态的，因此路线图必须允许根据新的需求、技术和洞察进行调整。采纳以下实践来创建一个具有韧性的路线图：

+   **模块化规划**：将迁移任务分解为可以独立执行的模块化组件。此方法最小化了中断，并使团队能够并行工作，从而加速整体迁移进度。

+   **反馈回路**：建立反馈回路，让团队回顾每个迁移阶段的进展和成果。定期的回顾和绩效评估有助于改进计划，并根据经验教训调整未来的阶段。

+   **自动化与编排**：使用**基础设施即代码**（**IaC**）和编排工具来自动化部署和过渡。自动化关键元素可以减少手动操作、降低风险，并加速迁移活动，确保每个过渡都高效且一致。

规划迁移不仅要考虑技术方面，还必须提前考虑交付举措。

### 规划交付举措

就像我们在*第十四章*开始时所做的那样，制定一个全面的迁移计划和过渡架构，下一步是定义和执行交付举措。这些举措将战略转化为行动，确保云原生原则和实践融入组织的运营和文化。这一步是路线图从规划转向执行，与前几章中讨论的交付策略保持一致。

交付举措应结构化，涵盖云原生转型的各个方面，包括开发、基础设施、安全性和操作。为确保全面的解决方案，请考虑以下交付举措：

+   **基础设施现代化**：

    +   **目标**：从传统基础设施过渡到完全自动化和可扩展的云原生环境，如*第七章*中所讨论

    +   **行动**：

        +   使用 Terraform、AWS CloudFormation、ARM 模板或 Azure Bicep 等工具实现基础设施即代码（IaC）

        +   构建 CI/CD 管道以自动化基础设施组件的部署和扩展

        +   引入容器编排平台（如 Kubernetes）来管理大规模的微服务和工作负载

+   **开发** **实践提升**：

    +   **目标**：建立云原生开发实践，以提高敏捷性并减少市场时间，如*第五章*中所讨论

    +   **行动**：

        +   采用微服务架构来分解单体应用

        +   实施 CI/CD 实践，实现自动化测试、集成和部署

        +   在适当的情况下利用无服务器计算来加快开发速度并减少运维开销

+   **安全** **集成 (DevSecOps)**：

    +   **目标**：将安全实践嵌入整个开发生命周期，以最小化漏洞，如*第十一章*《不破坏它地运行》和*第五章*中所讨论

    +   **行动**：

        +   在 CI/CD 管道中自动化安全扫描和合规检查

        +   实施零信任架构来保护云原生应用程序和基础设施；*第九章*，《忽略延迟和带宽》提供了零信任架构的深入概述

        +   使用云原生威胁检测和响应工具开发安全监控策略

通过结构化这些举措，我们可以确保云原生原则的实施和操作，为强大且有韧性的云环境奠定基础。

### 分阶段交付——将举措与迁移阶段对齐

为了确保迁移计划和交付举措之间的一致性，举措必须与迁移的各个阶段对齐。这种方法确保每个阶段都迁移系统，并构建必要的能力以支持云原生操作。通过将每个交付举措与特定阶段对齐，我们创造了一个结构化的、系统化的进程，从而最小化风险、最大化效率，并支持迭代学习和适应。这种分阶段交付方法呼应了早期章节中讨论的增量策略，确保平稳的转型旅程。以下是向云原生迁移的分阶段详细参考表：

| **阶段** | **关键活动** | **细节** **和行动** | **成果** |
| --- | --- | --- | --- |
| **阶段 1** | 建立基础云基础设施 | **IaC 实施**：使用 IaC 工具（如 Terraform）部署基础设施，自动化网络设置、安全组和 VPC 配置**CI/CD 流水线设置**：构建 CI/CD 流水线，自动化基础设施组件的部署，确保一致性和可重复性**容器编排**：设置容器编排平台（例如，Kubernetes），用于管理工作负载，支持微服务并提供可扩展性**安全控制**：集成基本的安全控制，如防火墙和身份管理，以建立安全的基础环境。 | 一个可扩展的自动化环境，使用 IaC 和 CI/CD 流水线，为部署应用程序和高效扩展资源提供基础 |
| **阶段 2** | 重构并部署业务关键应用 | **应用重构**：将关键应用适配到云原生环境，适当时将单体应用拆分为微服务**平台重设计**：针对合适的工作负载，实施云原生架构，以减少运维开销并增强可扩展性**增强安全性**：集成先进的安全实践，如零信任架构，并在 CI/CD 流水线中自动化安全扫描（参见 *第五章*）**可观察性设置**：部署监控和日志工具（例如，Prometheus 或 Grafana），确保应用性能和健康状态的可视性及实时跟踪 | 改进敏捷性的云原生应用，通过自动化流水线部署并安全监控，提供对系统性能和稳定性的即时洞察 |
| **阶段 3** | 完全重建或替换遗留系统 | **系统重建**：对于不适合简单重构的遗留系统，考虑在云中重新托管或使用托管/SaaS 服务（例如，使用 DocumentDB for AWS——一种托管的类似 MongoDB 的数据库——而不是自行托管 MongoDB）**数据迁移**：将数据库迁移到托管的云服务，如 Amazon RDS 或 Google Cloud 数据库，确保数据一致性和可用性**基础设施优化**：使用自动扩展组、负载均衡器和缓存机制优化基础设施使用，确保资源高效利用和成本管理（基于 *第四章* 的洞察，*如何避免账单惊讶*） | 完全集成的云原生系统，利用微服务、无服务器计算和云原生安全，达到增强的性能、可扩展性和成本效率 |
| **阶段 4** | 优化和自动化云原生操作 | **完全自动化**：使用像 Helm for Kubernetes 等高级编排工具自动化应用管理和扩展，实现零操作管理**DevSecOps 集成**：扩展 DevSecOps 实践，将安全控制深入嵌入 CI/CD 流水线，并自动化合规性检查**云成本优化**：实施 FinOps 实践，通过使用 AWS 成本探查器等工具，识别节省机会并建立成本保护措施，持续优化云支出，如在 *第四章*中所讨论的**性能调优**：执行应用性能调优，利用监控工具的洞察动态调整资源，确保最佳应用性能 | 高度自动化的云原生操作，聚焦于效率、安全性和成本优化，使得业务需求下的持续交付和快速扩展成为可能 |

表 15.6 - 分阶段交付示例

为确保从当前状态系统到目标架构的无缝演变，必须在交付计划中嵌入结构化的过渡策略。

### 将过渡架构融入交付计划

过渡架构在交付计划的执行中发挥着重要作用。通过将过渡设计整合进交付过程中，我们能够管理依赖关系并减少中断。以下是如何有效融入这些架构：

+   **临时集成层**：使用 API 网关或中间件解决方案作为旧系统和新云原生组件之间的临时层。这种方法确保了在系统逐步迁移和重构时，服务的连续性。马丁·福勒（Martin Fowler）的**外观模式**或**缠绕无花果模式**非常适用。*第七章*提供了更多的见解。

+   **混合部署模型**：对于无法立即迁移的工作负载，实施混合部署模型，使组件在本地和云环境中协同工作。这些模型允许逐步迁移而不影响关键系统的可用性。

+   **迭代发布**：与其同时迁移所有内容，不如实施迭代发布，将组件或服务分批次控制迁移。我们可以根据每次发布阶段的性能和监控反馈调整后续阶段，并捕捉关键指标。

过渡架构应视为临时解决方案，在迁移进程中逐步演变，最终在组织达到其云原生目标状态时逐渐淘汰。

### 衡量成功与调整路线图

我们的路线图成功与否，取决于衡量进展、捕捉重要指标并做出必要调整的能力。建立与我们组织业务目标对齐的可衡量成果是我们交付举措的一部分。常见的指标包括以下内容：

+   **部署频率**：新功能或更新多久可以部署一次？部署频率的增加表明成功过渡到云原生实践。

+   **恢复时间（**TTR**）**：衡量从事故中恢复服务所需的时间。恢复时间越短，表明弹性和云原生成熟度提高。

+   **应用性能**：监控应用的响应时间、吞吐量和资源使用情况，以评估云原生重构是否优化了性能。

通过跟踪这些指标，我们可以识别改进领域，优化我们的路线图，并确保每个阶段和举措都能提供可衡量的价值。

由于云原生环境是动态的，我们的路线图应纳入持续反馈循环，以适应变化、创新和经验教训。这些循环包括定期评估每个阶段和举措的结果，确保能够根据实际表现数据进行调整。

### 持续反馈的良好习惯

以下是一些良好的习惯，可以帮助您获得持续的反馈：

+   **回顾会议**：在每个阶段后举行回顾会议，回顾成功、挑战和改进领域。利用这些反馈优化即将到来的阶段，并根据需要调整路线图。

+   **自动化监控和警报**：实施自动化监控系统，提供有关应用性能、安全事件和基础设施健康的实时数据。自动化警报帮助团队迅速响应并根据新兴趋势或问题调整策略。

+   **跨职能评审委员会**：建立由开发、运营、业务和安全团队代表组成的评审委员会。这些委员会提供全方位的见解，确保技术目标和业务目标在整个转型过程中保持一致。

构建云原生路线图需要精心规划、战略对齐以及灵活的适应能力。通过制定全面的迁移计划、设计有效的过渡架构以及构建交付举措，我们创造了一条支持并加速我们云原生旅程的道路。本节内容阐述了制定一个系统且高效转型路线图所需的基础要素。

既然路线图已经确定，接下来的重点是确保在整个云原生旅程中持续改进。以下部分将深入探讨创建持续演进和精炼文化的策略，以最大化转型的收益。

# 持续改进

成为云原生组织的旅程并不以迁移或完善的路线图为终点；它是对持续改进的持续承诺。在动态的云环境中，流程、技术和组织目标不断演变，要求团队迅速适应。**持续改进**是保持云原生环境优化、弹性并与操作需求和业务目标保持一致的机制。通过嵌入持续改进，云原生组织可以持续创新，并应对变化的需求，确保在云原生领域的持续成功。

本节最后探讨如何将持续改进的文化嵌入云原生实践中。我们将讨论以下内容：

+   **新的或修改过的构建模块**：支持持续优化和云原生成功的关键技术和操作组件

+   **文化对团队和工作方式的影响**：为了促进持续改进文化，团队动态和思维方式的转变是必需的

+   **技术依赖关系**：理解和管理相互依赖关系，以维持一个可适应、高性能的云环境

这些组件创造了一个生态系统，在这个系统中，云原生实践可以成熟和演化，使组织保持竞争力和灵活性。

## 建立新的或修改过的构建模块

一个云原生环境的强大程度取决于其构建的基础模块。在组织过渡过程中，可能需要修改现有的构建模块或引入新的模块，以有效支持持续改进。构建模块指的是技术和操作组件，如工具、基础设施、流程和治理框架，这些都是实现云原生成功的关键。

在初期迁移阶段，必不可少的工具和基础设施可能需要调整或更换，以满足成熟、持续改进的云原生环境的需求。可能需要引入新工具来解决自动化、可观察性或安全性方面的缺口。

以下是持续改进的关键构建模块的示例：

+   **增强的 CI/CD 管道**：如在*第五章*中讨论的那样，随着云原生环境的扩展，CI/CD 管道需要发展，以支持更高的部署频率、集成测试和改进的回滚能力。先进的自动化和编排工具，如 Argo CD 和 Flux for Kubernetes，可以帮助使管道更加高效、安全和有弹性，同时支持 GitOps 原生方法。有关 GitOps 策略的更多内容，请参见*第三章*。

+   **可观察性和监控工具**：实时可观察性至关重要。升级或实施像 Prometheus、Grafana 和 New Relic 这样的工具，使团队能够监控指标、跨分布式系统跟踪请求并捕获日志，从而提供系统健康的全面视图。*第十章*，*观察你的架构*，提供了构建有效可观察性策略的更深入见解。

+   **自动化政策执行**：政策执行确保持续遵守安全、成本管理和运营标准。像 AWS Config 和 Kubernetes OPA Gatekeeper 这样的工具可以简化此过程，最大程度减少人工干预的需求。*第四章* 和 *第二章* 更详细地探讨了预防性护栏，突出展示了如何主动保持合规性。

每一个新的或增强的构建模块都在减少摩擦和提高迭代速度方面发挥着作用。这种适应性确保了环境能够无缝处理新的应用、服务和工作负载。

## 创建和修改治理框架

一个**治理框架**提供了监督和结构，确保云原生实践与组织目标一致。然而，随着云原生环境的发展，治理框架必须适应不断变化的需求。早期的治理工作可能集中在建立合规性和安全标准上；而现在，它们应该转向支持创新和灵活性。在一个持续发展的环境中，根据新工具、流程和服务调整治理实践的能力至关重要。调整治理框架使团队能够自主工作、做出敏捷决策，并利用创新解决方案，而不受约束。

此外，适应性治理框架创造了一个更加包容的环境，在这里，团队反馈被纳入治理调整。通过鼓励定期的反馈循环，团队可以突出政策改进的差距或机会，从而提升治理实践的相关性和影响力。为了促进一个与持续改进相一致的治理框架，考虑以下关键实践，每一项都旨在提升灵活性、自主性和响应能力，特别是在云原生环境不断成熟的过程中：

| **考虑因素** | **描述** |
| --- | --- |
| 动态护栏 | 利用灵活的护栏，正如在 *第五章* 中所讨论的那样，这些护栏能够适应新的工具、流程和服务，使团队能够在组织边界内创新，而不受限制性政策的约束 |
| 分散化决策 | 鼓励在定义的框架内进行自主决策，减少瓶颈，加速创新周期，正如在 *第三章* 中所讨论的那样 |
| 基于反馈的调整 | 定期收集团队对治理政策的反馈，并相应地完善框架，确保与不断变化的需求保持一致，促进持续改进 |

表 15.7 - 治理框架实践

适应持续改进的治理框架不仅能促进运营效率，还能支持创新和实验的文化。

### 接受持续改进的文化

成功的云原生转型在技术和文化上同等重要。如果没有持续改进的思维方式，团队可能难以跟上云原生环境所要求的变化速度。嵌入持续改进的文化有助于确保团队积极主动、参与其中，并致力于改进流程和技术栈。

云原生组织依赖于跨职能合作，这有助于加快决策并更好地与业务目标对齐。在一个持续改进的环境中，**开发、安全和运营**（**DevSecOps**）的协作变得更加关键。

以下是构建协作文化的策略：

+   **跨职能小组**：创建以产品为导向的小组，成员来自开发、运营和安全团队。这些小组实现了责任共享，促进了团队紧密合作，解决挑战并交付价值。更多内容请参见*第一章*。

+   **定期回顾**：定期进行回顾，评估成功并找出改进的领域。回顾为团队成员提供了一个安全的空间，表达关切、庆祝成果，并产生改进流程的想法。

+   **知识共享会议**：通过举办内部研讨会、午餐学习会或技术交流会来鼓励知识共享。这些会议帮助建立集体知识库，确保团队了解新工具、最佳实践和不断发展的云原生概念。

培养协作文化有助于减少部门壁垒，支持持续学习和创新。这一协作基础不仅加速了决策过程，简化了工作流程，还培养了团队成员有权提出创意和改进建议的文化，进一步推动了组织内的创新和适应性。

### 赋能团队实现自主性和责任感

在云原生的旅程中，赋能团队做出决策并承担领域责任变得至关重要。自主性不仅能加快流程，还能促进责任感，因为团队成员会直接对项目的成功负责。以下方法可以用来促进团队的自主性：

+   **分散决策**：允许团队在其领域内做出决策，无需等待集中审批。例如，团队可以拥有 CI/CD 流水线，选择最符合组织需求的工具和流程。另一个方法可以在*第二章*中找到，它通过自上而下和自下而上的方式探讨决策制定。

+   **明确的所有权模型**：为云环境中的应用程序、服务或组件分配明确的所有权。所有权可扩展到维护、更新和改进，确保每个系统都有专门的团队负责监控和提升其性能。

+   **定义成功指标**：为每个团队制定具体的成功指标，如 DORA 指标（部署频率、变更失败率和恢复服务时间），这些指标应与业务目标对齐。通过指标，团队可以不断改进流程，以达到或超越预期，并尽可能识别瓶颈。

创建一个自主且负责的环境，减少对其他团队的依赖，并推动从根本上持续改进。

## 解决技术依赖问题

在不断发展的云原生环境中，技术依赖关系是一个关键因素。工具、平台和服务之间的依赖关系可能影响性能、可扩展性和灵活性。有效管理这些依赖关系对于实现无缝改进至关重要，并确保云原生系统保持敏捷。

随着云原生环境的成熟，服务、数据库和基础设施组件之间的依赖关系变得更加复杂。清楚地了解这些依赖关系有助于避免在更新或引入新元素时出现问题。以下步骤可用于管理依赖关系：

+   **依赖关系映射**：创建服务、数据库、API 和第三方工具之间依赖关系的可视化地图。可以使用依赖关系映射工具，如服务发现工具（例如，AWS Cloud Map、GCP 服务发现或 Azure API 中心）。

+   **定期依赖关系审计**：定期进行审计，识别过时、未支持或性能不佳的组件。与云原生架构不再兼容的依赖关系应升级或替换。

+   **建立依赖关系负责人**：为关键依赖关系（如数据库或外部 API）指定负责人。拥有负责人可以确保依赖关系得到定期监控、更新和优化，从而最大限度减少性能下降的风险。

通过映射和管理依赖关系，我们可以减少意外故障、提高系统的弹性，并简化环境中的更新。

### 积极管理第三方集成

许多云原生环境依赖于第三方服务，如 SaaS 应用程序或数据提供商。有效管理这些集成对于保持系统性能、确保数据一致性以及避免中断至关重要。以下是第三方依赖关系的重要考虑事项：

+   **服务水平协议**（**SLA**）：审查第三方服务的 SLA，了解其性能保证、可用性和支持水平。确保 SLA 与运营要求一致，特别是对于关键任务的集成。

+   **主动监控**：实现监控工具，跟踪第三方服务的性能和可用性。如果集成开始出现性能问题，自动化警报可以帮助团队在用户受到影响之前做出响应。

+   **后备机制**：对于关键服务，建立后备机制，如故障切换实例或备用提供商，以确保在故障期间的连续性。这对于支持高可用性应用程序或关键功能的服务尤为重要。

主动管理第三方集成可以确保依赖关系不会成为故障点，支持性能和可靠性的持续改进。

### 嵌入反馈循环以实现持续改进

反馈循环对于持续改进至关重要，它提供了基于数据的洞察，帮助做出决策并推动增强。通过在各个过程、基础设施和应用程序中嵌入反馈机制，团队能够获得实时调整的洞察。

持续监控对于捕捉系统性能、安全性和用户体验的实时反馈至关重要。一个可观察性堆栈，包括监控、日志记录和追踪，提供了对云原生环境的完整视图，使团队能够主动检测和解决问题。以下是可观察性堆栈的关键组件：

+   **实时监控**：使用像 Prometheus 和 Datadog 这样的工具来监控基础设施和应用程序健康状况。实时监控提供即时警报，处理如延迟增加或 CPU 使用率等问题。

+   **集中式日志记录**：实现集中式日志记录解决方案，如**Loki、Grafana、Tempo 和 Mimir**（**LGTM**）堆栈（一个流行的开源监控堆栈），以聚合和分析日志。集中式日志记录使团队能够识别模式、排查错误并获得环境中的洞察。这也扩展到大三云服务提供商，他们有自己的云原生解决方案，如 Amazon CloudWatch、Azure Monitor 和 GCP 操作套件。

+   **分布式追踪**：如 Jaeger 或 OpenTelemetry 等工具可以实现跨微服务的端到端追踪。追踪提供了请求流的可见性，帮助团队识别瓶颈并优化应用程序性能。

实时可观察性增强了反馈过程，为团队提供了可操作的洞察，以维持高可用性和性能标准。

### 利用 DORA 指标获取性能洞察。

**DevOps 研究与评估**（**DORA**）指标在衡量持续改进成果方面具有不可或缺的价值，因为它们提供了关于软件交付和运营性能的量化洞察。这些指标包括：

+   **部署频率**：衡量代码部署的频率，反映敏捷性和响应能力。

+   **变更的交付时间**：跟踪从代码提交到部署的时间，反映流水线的效率。

+   **变更失败率**：表示导致生产环境故障的变更百分比，反映测试和验证的质量。

+   **恢复的平均时间**（**MTTR**）：衡量从生产环境故障恢复的时间，体现系统的韧性。

以下是如何使用 DORA 指标来推动改进：

+   **设定性能基准**：使用 DORA 指标来建立性能基准，并跟踪随时间的改进。

+   **识别优化领域**：例如，较高的变更失败率可能表明需要更强的测试或代码审查流程。

+   **庆祝成功**：当指标显示改进时，庆祝这些里程碑，以强化持续改进的文化，并激励团队。

云原生技术领域发展迅速，新的工具、框架和方法不断涌现。作为持续改进的一部分，定期评估和优化技术栈，以利用技术进步，确保环境保持高效和具有竞争力。以下策略可以用于技术栈优化：

+   **评估新工具**：定期审查最新的工具和技术，看看哪些能提高生产力或性能。例如，像 Linkerd 这样的服务网格或更新的 CI/CD 工具可能提供改进的功能，支持持续改进。

+   **优化资源分配**：定期分析资源使用情况，找出可以节省成本的领域。利用自动扩展、预留实例或竞价实例可以在不影响性能的情况下减少云支出。

+   **优化 CI/CD 流水线**：随着流水线的演进，寻找优化的方式，例如集成新的测试框架或添加质量门控，减少人工干预的需求。

通过在技术栈中实施持续改进，我们可以确保环境保持敏捷、高效，并能够满足业务需求。

# 总结

在云原生组织中执行持续改进是一个持续的、迭代的过程，需要致力于提升技术和文化实践。通过建立新的或修改过的构建模块，拥抱协作和自治的文化，管理技术依赖关系，并嵌入反馈循环，组织可以创造一个环境，使云原生实践与业务需求共同发展。

当持续改进融入到组织的基因中时，我们的云原生之旅将保持灵活、韧性强，并能够推动持续的增长和创新。本章总结了构建、执行和优化云原生转型的基础策略和洞察，赋能团队在不断变化的数字化环境中以敏捷和自信引领前行。
