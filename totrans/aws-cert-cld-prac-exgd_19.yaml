- en: '[*Chapter 15*](B17124_15_Final_SK_ePub.xhtml#_idTextAnchor375): Billing and
    Pricing'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[*第15章*](B17124_15_Final_SK_ePub.xhtml#_idTextAnchor375): 账单和定价'
- en: Many companies looking to move to the cloud have heard of the cost benefits
    associated with shifting from a CAPEX model of investment in IT to an OPEX model.
    CAPEX refers to capital expenditure for the procurement of long-term assets such
    as infrastructure equipment, vehicles, and buildings. A company that purchases
    such assets will own those assets, but this tends to tie up capital that could
    otherwise have been spent on other resources that directly benefit the business.
    Consider a company having access to spare capital to invest in research and development
    of their products and services, as opposed to simply purchasing IT infrastructure
    equipment.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 许多寻求转向云端的公司听说过从资本支出（CAPEX）模型转向运营支出（OPEX）模型带来的成本优势。CAPEX 指的是用于采购长期资产的资本支出，例如基础设施设备、车辆和建筑物。购买这些资产的公司将拥有这些资产，但这往往会占用原本可以用来投资其他直接有益于业务的资源的资金。考虑一下，公司如果有多余的资本可用于产品和服务的研发，而不是仅仅购买
    IT 基础设施设备，将会有怎样的不同。
- en: OPEX refers to operating expenditure and is an ongoing cost for running a product,
    business, or system. In the context of cloud computing, OPEX is the ongoing cost
    of leasing resources from the cloud provider, such as running a fleet of web servers,
    where the business is charged on a pay-as-you-go model. The idea that you do not
    need to tie up vast amounts of capital in expensive hardware equipment (which
    depreciates rapidly), or expensive software licenses for your on-premises infrastructure,
    is a critical factor for your company's financies.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: OPEX 指的是运营支出，是经营产品、业务或系统的持续费用。在云计算的背景下，OPEX 是从云服务提供商租赁资源的持续费用，例如运行一组 Web 服务器，企业按需付费。你无需将大量资金投入到迅速贬值的昂贵硬件设备，或者为本地基础设施支付昂贵的软件许可费用，这一理念对于公司财务至关重要。
- en: However, simply shifting to the cloud is not necessarily going to save you money.
    The solutions you design to host your applications in the cloud need to be cost-optimized
    and architected to ensure you get the best value for your dollar. The good news
    is that with a cloud provider such as AWS, the solutions you design can be highly
    cost-effective. For one thing, you can ensure that you only pay for services when
    you consume them. In addition, each service offering has various options to minimize
    costs that you can configure, based on your access patterns and core business
    requirements.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，单纯转向云端并不一定能为你节省资金。你设计的用于托管应用程序的云端解决方案需要进行成本优化，并且需要架构设计确保你以最优的性价比获得服务。好消息是，像
    AWS 这样的云服务提供商能够为你设计高度成本效益的解决方案。首先，你可以确保仅在消费服务时才付费。此外，每项服务都提供了多种选项来帮助你基于访问模式和核心业务需求配置，从而最大化成本节省。
- en: One thing to be careful about is that you should not consider cost optimization
    in isolation. Minimizing cost is important for the business, but so is ensuring
    application availability, reliability, and scalability.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 有一点需要注意的是，不应将成本优化单独考虑。最小化成本对于业务非常重要，但确保应用程序的可用性、可靠性和可扩展性同样重要。
- en: In this chapter, we look at the fundamentals of cost optimization and the key
    components of AWS billing and pricing. We discuss key principles and look at various
    tools to help you gain insight and manage your costs effectively.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 本章将介绍成本优化的基本原理以及 AWS 账单和定价的关键组件。我们讨论了关键原则，并介绍了帮助你深入了解和有效管理成本的各种工具。
- en: 'The topics covered in this chapter are as follows:'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 本章涵盖的主题如下：
- en: An overview of billing and pricing on AWS
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: AWS 的账单和定价概览
- en: Understanding AWS cost optimization
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 理解 AWS 成本优化
- en: Learning about AWS Billing and Cost Management tools
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 了解 AWS 账单和成本管理工具
- en: Learning how to use the AWS pricing and TCO calculators – pricing calculator
    and migration calculator
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 学习如何使用 AWS 定价和 TCO 计算器 – 定价计算器和迁移计算器
- en: Technical requirements
  id: totrans-11
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 技术要求
- en: To complete the exercises in this chapter, you will need to log in to your AWS
    account as the IAM user **Alice**.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 要完成本章的练习，你需要以 IAM 用户**Alice**身份登录 AWS 账户。
- en: An overview of billing and pricing on AWS
  id: totrans-13
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: AWS 的账单和定价概览
- en: AWS charges you based on three core components, which are the amount of *computing*,
    *storage*, and *outbound data transfers* you perform. There are some deviations
    to this, but these are the primary cost drivers. With compute, this could represent
    the number of hours that your **On-Demand Instance** is in the running state or
    the number of Lambda executions you perform. With storage, you are charged per
    GB. In both cases, you are charged for any data transferred out of the Region
    or AWS. The data transfer out rate is dependent on the service and the Region
    from which the data originates.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: AWS 会根据三个核心组成部分向你收费，这些组成部分包括你进行的*计算*、*存储*和*出站数据传输*的数量。虽然存在一些例外情况，但这些是主要的成本驱动因素。对于计算，这可能表示你**按需实例**运行的小时数或你执行的
    Lambda 执行次数。对于存储，你按每 GB 收费。在这两种情况下，你都会为从区域或 AWS 外部传输的数据付费。数据传输出的费用取决于服务和数据来源的区域。
- en: 'A couple of key points to note here are as follows:'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 这里有几个关键点需要注意：
- en: 'For data transfer within a Region:'
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于同一区域内的数据传输：
- en: If an **internet gateway** is used to send data to an AWS public service (Amazon
    S3, DynamoDB, and so on) in the same Region, then there are no data transfer charges.
  id: totrans-17
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果使用**互联网网关**向同一区域的 AWS 公共服务（如 Amazon S3、DynamoDB 等）发送数据，则不会产生数据传输费用。
- en: If a **NAT gateway** is used to access those public services in the same Region,
    then there is a data processing charge, calculated at a per-GB rate.
  id: totrans-18
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果使用**NAT 网关**访问同一区域的公共服务，则会产生数据处理费用，按每 GB 计费。
- en: Data transfers between workloads within the same **Availability Zone** are free.
    For certain services, such as EC2, data transfers across Availability Zones will
    incur a data transfer charge.
  id: totrans-19
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在同一**可用区**内的工作负载之间的数据传输是免费的。对于某些服务，如 EC2，跨可用区的数据传输将产生数据传输费用。
- en: For data transfers across Regions, there is always a data transfer charge.
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 跨区域的数据传输总是会产生数据传输费用。
- en: You are not charged for data transferred into AWS, for example, from your on-premises
    data center.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 从 AWS 接收数据（例如从本地数据中心）时，不会收取费用。
- en: Let's examine some key principles of pricing on AWS and the strategies you should
    adopt when moving your workloads to the cloud.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们来看看 AWS 定价的一些关键原则以及你在将工作负载迁移到云时应采取的策略。
- en: Understanding AWS cost optimization
  id: totrans-23
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 了解 AWS 成本优化
- en: 'Depending on your workloads and specific business requirements, you have access
    to a wide range of service options and tools to help you optimize for costs, ensuring
    that you monitor and control your spending. Choosing the right combination of
    services and deploying the correct resource configurations will help you run a
    tight ship. Here are some key concepts to bear in mind when architecting solutions
    for the cloud:'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 根据你的工作负载和特定的业务需求，你可以访问广泛的服务选项和工具，帮助你优化成本，确保你能够监控和控制支出。选择正确的服务组合并部署正确的资源配置将有助于你高效运营。以下是在为云环境架构解决方案时需要记住的一些关键概念：
- en: '**Choose the right pricing model**: You can use On-Demand Instances when you
    know that you only need the compute resources for a limited amount of time and
    for a specific short-term project. From a reliability point of view, you need
    to ensure that there are no interruptions to the service, but you are not going
    to be using the resources 24/7, 365 days a year. In this case, an on-demand pricing
    model works well. Alternatively, you can invest in **reserved capacity**, which
    can save up to 72% over equivalent on-demand capacity price, but only if you need
    the resources 24/7, and for a much longer duration, for example, a year. You can
    also consider using **Spot EC2 instances** for applications that are fault-tolerant,
    scalable, or flexible, and where your application can tolerate interruptions.
    Spot instances can save you up to a 90% discount off on-demand prices and there
    is no upfront commitment. Finally, consider opting for the **compute Savings Plans**
    to reduce EC2, Fargate, and Lambda costs. EC2 Savings Plans can deliver savings
    of up to 72% on your AWS compute usage. Here, you make a commitment to a certain
    amount of compute usage, and you are automatically charged at the discounted savings
    plan prices.'
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**选择正确的定价模型**：当你知道只在有限的时间内、用于特定短期项目时需要计算资源，可以使用按需实例。从可靠性角度看，你需要确保服务没有中断，但你并不会全天候、全年无休地使用这些资源。在这种情况下，按需定价模型效果很好。另一种选择是投资于**预留容量**，这可以在等效的按需容量价格上节省最多72%的费用，但前提是你需要全天候使用这些资源，而且使用时间较长，例如一年。你还可以考虑使用**Spot
    EC2 实例**，适用于容错、可扩展或灵活的应用程序，并且应用程序能够容忍中断。Spot 实例可以让你节省最多90%的按需价格，并且没有预付承诺。最后，考虑选择**计算节省计划**，以减少
    EC2、Fargate 和 Lambda 成本。EC2 节省计划可以为你的 AWS 计算使用提供最多72%的折扣。在这里，你需要承诺一定量的计算使用量，且会自动按折扣后的节省计划价格收费。'
- en: '**Match capacity with demand**: AWS offers several tools to help you identify
    usage patterns. AWS Cost Explorer resource optimization (discussed later in this
    chapter) can help you identify instances that are idle or have low utilization.
    You can save money by either reducing the capacity provisioned or if possible,
    stopping the instances during periods when they are not in use. You can use **AWS
    Instance Scheduler**, which is a CloudFormation template offered by AWS that can
    help reduce costs by configuring start and stop schedules for your Amazon EC2
    and Amazon RDS instances. This is like the exercise you completed in [*Chapter
    12*](B17124_12_Final_SK_ePub.xhtml#_idTextAnchor296), *Automation and Deployment
    on AWS*, where you configured Amazon CloudWatch Events and Lambda to automatically
    start and stop EC2 instances at scheduled times. Another service that can be stopped
    when not in use is Amazon RDS. In the case of Amazon Redshift, you can pause the
    service.'
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**将容量与需求匹配**：AWS 提供了多种工具来帮助你识别使用模式。AWS 成本探索器资源优化（将在本章后面讨论）可以帮助你识别空闲或低利用率的实例。你可以通过减少分配的容量，或者在资源未使用时停机，从而节省成本。你还可以使用**AWS
    实例调度器**，这是 AWS 提供的一个 CloudFormation 模板，可以通过配置 Amazon EC2 和 Amazon RDS 实例的启动和停止计划来帮助降低成本。这就像你在[*第12章*](B17124_12_Final_SK_ePub.xhtml#_idTextAnchor296)《AWS
    上的自动化和部署》中完成的练习，配置了 Amazon CloudWatch 事件和 Lambda 来自动启动和停止 EC2 实例。在不使用时，另一个可以停止的服务是
    Amazon RDS。对于 Amazon Redshift，你可以暂停该服务。'
- en: '`RequestCount` value of less than 100 over the past 7 days, which could be
    ideal candidates to terminate.'
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`RequestCount` 在过去7天内的值低于100，可能是终止的理想候选项。'
- en: Important Note
  id: totrans-28
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 重要提示
- en: Amazon S3 analytics will not provide recommendations for transitions to the
    One Zone-IA or S3 Glacier storage classes.
  id: totrans-29
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: Amazon S3 分析不会提供关于迁移到 One Zone-IA 或 S3 Glacier 存储类别的建议。
- en: In this section, we examined some core concepts to ensure that the workloads
    you deploy in the cloud are cost-optimized. In the next section, we will look
    at various tools and services that will help you monitor, control, and manage
    your costs effectively.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们探讨了一些核心概念，以确保你在云中部署的工作负载是经过成本优化的。在下一节中，我们将介绍各种工具和服务，帮助你有效地监控、控制和管理成本。
- en: Learning about AWS billing and cost management tools
  id: totrans-31
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 学习 AWS 计费和成本管理工具
- en: In this section, we'll look at several AWS billing and cost management tools,
    enabling you to visualize your usage and spend across your AWS accounts as well
    as implementing better cost control strategies. We'll start by looking at the
    Cost Explorer service.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将介绍几种 AWS 计费和成本管理工具，帮助您可视化在 AWS 账户上的使用情况和支出，并实施更好的成本控制策略。我们将从成本探索器服务开始。
- en: AWS Cost Explorer
  id: totrans-33
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: AWS 成本探索器
- en: AWS Cost Explorer enables you to monitor and visualize your costs via dashboards
    and reports. You can access 12 months of usage and spending data as well as forecasting
    what your future costs will be for the next 12 months. You need to enable the
    Cost Explorer service and, once enabled, the current month's reporting data is
    accessible after 24 hours. Additional data from previous months will start to
    appear after a few more days.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: AWS 成本探索器使您能够通过仪表板和报告监控和可视化成本。您可以访问过去 12 个月的使用和支出数据，并预测未来 12 个月的费用。您需要启用成本探索器服务，一旦启用，当前月份的报告数据将在
    24 小时后可用。过去几个月的额外数据将在几天后开始显示。
- en: 'The AWS Cost Explorer home page displays a snapshot of your spending. Here,
    you will find **Current month costs** as well as **Forecasted month end costs**,
    as per the following screenshot:'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: AWS 成本探索器主页显示了您的支出快照。在这里，您将看到**当前月份成本**以及**预测的月末成本**，如以下截图所示：
- en: '![Figure 15.1 – Cost Explorer home page'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 15.1 – 成本探索器主页'
- en: '](img/B17124_15_01.jpg)'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B17124_15_01.jpg)'
- en: Figure 15.1 – Cost Explorer home page
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 图 15.1 – 成本探索器主页
- en: 'AWS Cost Explorer offers several types of reports. For example, in the following
    screenshot, you will see a *monthly cost by service* report for one of my AWS
    accounts:'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: AWS 成本探索器提供了几种类型的报告。例如，在以下截图中，您将看到我某个 AWS 账户的*按服务分类的月度成本*报告：
- en: '![Figure 15.2 – Cost Explorer – monthly cost by service report'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 15.2 – 成本探索器 – 按服务分类的月度成本报告'
- en: '](img/B17124_15_02.jpg)'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B17124_15_02.jpg)'
- en: Figure 15.2 – Cost Explorer – monthly cost by service report
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 图 15.2 – 成本探索器 – 按服务分类的月度成本报告
- en: The report shows the last 6 months of spending broken down by service, comprising
    EC2 instances, Amazon RDS, and storage archives in Amazon Glacier.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 报告显示了过去 6 个月的支出，按服务进行分类，包括 EC2 实例、Amazon RDS 和存储档案（Amazon Glacier）。
- en: Additional features of Cost Explorer include granularly filtering your data
    to understand daily and hourly cost patterns and by resource types.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 成本探索器的其他功能包括通过按资源类型和按日、按小时的成本模式进行详细筛选。
- en: 'AWS Cost Explorer also provides various recommendations where you can save
    some money. For example, from the left-hand menu of the AWS Cost Explorer console,
    you can select **Recommendations**, under the **Reservations** category, to see
    where Cost Explorer suggests purchasing EC2 **Reserved Instances** (**RI**) for
    your existing on-demand workloads as per the following screenshot:'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: AWS 成本探索器还提供各种节省费用的推荐。例如，在 AWS 成本探索器控制台的左侧菜单中，您可以选择**推荐**，在**预留实例**类别下，查看成本探索器建议为现有按需工作负载购买
    EC2 **预留实例**（**RI**），如下截图所示：
- en: '![Figure 15.3 – Cost Explorer RI recommendations'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 15.3 – 成本探索器 RI 推荐'
- en: '](img/B17124_15_03.jpg)'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B17124_15_03.jpg)'
- en: Figure 15.3 – Cost Explorer RI recommendations
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 图 15.3 – 成本探索器 RI 推荐
- en: As you can see, purchasing RI for the two on-demand instances I have running
    would potentially save me 33% off my final costs.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 如您所见，购买 RI 用于我当前运行的两台按需实例，可能使我节省 33% 的最终成本。
- en: AWS Cost Explorer can also be used to send you EC2 *rightsizing recommendations*
    to help you examine your historical usage patterns and identify resources that
    are being underutilized. AWS Cost Explorer will be able to identify idle instances
    and allow you to take action to terminate or resize your underutilized resources.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: AWS 成本探索器还可以用于向您发送 EC2 *资源优化推荐*，帮助您检查历史使用模式并识别被低效使用的资源。AWS 成本探索器将能够识别空闲实例，并允许您采取措施终止或调整大小以优化未充分利用的资源。
- en: Another report you can view within Cost Explorer is the **RI utilization report**.
    The RI utilization report enables you to identify the savings made from using
    RI over on-demand options for Amazon EC2, Amazon Redshift, Amazon RDS, and so
    on. The RI report also provides details of how much you may have overspent because
    you are underutilizing your RI.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 您还可以在成本探索器中查看**RI 使用情况报告**。RI 使用情况报告使您能够识别使用 RI 相比按需选项所节省的费用，适用于 Amazon EC2、Amazon
    Redshift、Amazon RDS 等服务。RI 报告还提供了有关您可能因未充分利用 RI 而超支的详细信息。
- en: Finally, AWS Cost Explorer comes with a security feature to help you detect
    anomalies in your spending patterns, and the root causes, and can be configured
    to send you alerts using Amazon SNS.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，AWS成本探测器提供了一个安全功能，帮助您检测消费模式中的异常及其根本原因，并且可以配置使用Amazon SNS向您发送警报。
- en: In this section, you have learned about the AWS Cost Explorer tool, which enables
    you to visualize and manage your costs and allows you to create custom reports
    to identify usage patterns and trends.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，您了解了AWS成本探测器工具，它能够帮助您可视化和管理您的成本，并允许您创建自定义报告以识别使用模式和趋势。
- en: In the next section, we discuss how cost allocation tags can help you identify
    which services and resources you are consuming and spending on.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一节中，我们将讨论成本分配标签如何帮助您识别正在消费和支出的服务和资源。
- en: Cost allocation tags
  id: totrans-55
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 成本分配标签
- en: Previously we have discussed how important tagging your resources is. It allows
    you to not only identify your resources, but you can also automate and run management
    tasks against your resources using these tags as a form of identification. Additionally,
    you can also use tagging to help you identify which resources are costing you
    money and by using cost allocation tags, you can track usage by different projects,
    departments, business units, and so on.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 之前我们讨论了标记资源的重要性。它不仅允许您识别资源，还可以让您利用这些标签作为标识来自动化和执行资源管理任务。此外，您还可以使用标签来帮助您识别哪些资源在消耗您的资金，通过使用成本分配标签，您可以按不同的项目、部门、业务单元等跟踪使用情况。
- en: 'Tags consist of a *key* and a *value*, and for every resource, you can have
    up to 50 key-value tags. In addition, the tag key must be unique, and each key
    can only have one value. You need to first activate cost allocation tags, which
    AWS will then use to help you analyze your costs using those tags. There are two
    types of cost allocation tags:'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 标签由*键*和*值*组成，对于每个资源，您最多可以有50个键值对标签。此外，标签键必须唯一，每个键只能有一个值。您需要首先激活成本分配标签，AWS随后将使用这些标签帮助您分析成本。这些标签有两种类型：
- en: '**AWS-generated tags**: These are created and defined by AWS and the AWS Marketplace.'
  id: totrans-58
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**AWS生成的标签**：这些标签由AWS和AWS市场创建并定义。'
- en: '**User-defined tags**: These can be created and defined by you based on your
    business cost management and naming conventions.'
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**用户定义的标签**：这些标签可以根据您的业务成本管理和命名约定由您创建并定义。'
- en: Activating the tags can be done from the billing management console and each
    *tag key* will need to be activated individually. Once activated, AWS will generate
    **comma-separated values** (**CSV**) file reports with your usage and costs grouped
    by your active tags.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 激活标签可以通过计费管理控制台完成，每个*标签键*需要单独激活。一旦激活，AWS将生成**逗号分隔值**（**CSV**）文件报告，报告中将按您的活动标签对使用情况和成本进行分组。
- en: Next, let's look at the cost and usage report.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，让我们来看一下成本和使用情况报告。
- en: Cost and usage report
  id: totrans-62
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 成本和使用情况报告
- en: AWS offers a cost and usage report tool that provides a very detailed breakdown
    of the resources you use and the associated costs. The report includes usage amounts
    and units consumed, rates, costs, and product attributes. Reports are published
    to an Amazon S3 bucket of your choice, and the reports can be configured to provide
    a breakdown of your costs by hour, day, or month. These reports are made available
    in your S3 bucket in CSV format, which you can then import into Microsoft Excel
    or other spreadsheet tools.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: AWS提供了一个成本和使用情况报告工具，它提供了您使用的资源及其相关成本的详细细分。报告包括使用量和消耗的单位、费率、成本和产品属性。报告发布到您选择的Amazon
    S3存储桶，且报告可以配置为按小时、天或月提供成本细分。这些报告以CSV格式提供，您可以将其导入Microsoft Excel或其他电子表格工具中。
- en: In addition, you can also integrate the reports for use with Amazon Athena,
    Redshift, and QuickSight, as well as setting the compression type to GZIP, ZIP,
    or Parquet.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，您还可以将报告集成用于Amazon Athena、Redshift和QuickSight，并可以设置压缩类型为GZIP、ZIP或Parquet。
- en: Next, let's examine the AWS Budgets service.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，让我们检查一下AWS预算服务。
- en: AWS Budgets
  id: totrans-66
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: AWS预算
- en: AWS Budgets enables you to understand how money is being spent on the workloads
    you deploy in the cloud. You can use AWS Budgets to track your cost and usage
    across different types of projects you may be running in your organization. You
    may have different departments requiring different cloud services and, based on
    their requirements, specify monthly budgets for their spending.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: AWS预算使你能够了解在云中部署的工作负载上花费了多少钱。你可以使用AWS预算跟踪你的成本和使用情况，跨你组织可能正在运行的不同类型的项目。你可能有不同的部门需要不同的云服务，并根据他们的需求为他们的支出指定月度预算。
- en: 'If your budgets exceed the threshold (whether actual or forecasted), you can
    define specific actions to take on your AWS account. At present, you can define
    three types of actions:'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你的预算超过阈值（无论是实际的还是预测的），你可以定义在你的AWS账户上执行的特定操作。目前，你可以定义三种类型的操作：
- en: An **Identity and Access Management** (**IAM**) policy
  id: totrans-69
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个**身份和访问管理**（**IAM**）策略
- en: '**Service Control Policies** (**SCPs**)'
  id: totrans-70
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**服务控制策略**（**SCPs**）'
- en: Target running instances (EC2 or RDS)
  id: totrans-71
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 目标运行实例（EC2或RDS）
- en: For example, you could specify an IAM policy that denies the ability to launch
    new EC2 instances if the monthly budget for EC2 has been exceeded. You can then
    apply this policy to the IAM user, group, or role used to launch instances.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，你可以指定一个IAM策略，如果超过了EC2的月度预算，则拒绝启动新的EC2实例的能力。然后，你可以将此策略应用于用于启动实例的IAM用户、组或角色。
- en: AWS Budgets actions can be executed automatically when the threshold has been
    exceeded or can be configured for manual approval if required.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 当超过阈值时，AWS预算操作可以自动执行，或者根据需要配置为手动批准。
- en: With AWS Budgets, you can also set up alerts using Amazon SNS to be notified
    (or perform some event-driven action) if the actual or forecast spending is likely
    to cross the budgeted threshold values. You can also configure variable target
    amounts, so that the budgeted amount increases by a certain percentage over a
    period because consumption is likely to increase.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 使用AWS预算，你还可以使用Amazon SNS设置警报，以便在实际或预测的支出可能超过预算阈值时收到通知（或执行某些事件驱动的操作）。你还可以配置可变目标金额，以便预算金额根据一定百分比在一段时间内增加，因为消耗可能会增加。
- en: AWS Budgets can also be used to ensure that you stay within specified quotas
    and limits, including staying under a specific AWS Free Tier offering.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: AWS预算还可用于确保你在特定的配额和限制内，包括保持在特定的AWS免费套餐提供之下。
- en: 'There are several types of budgets you can create, including the following:'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以创建几种类型的预算，包括以下内容：
- en: '**Cost budgets**: Define specific amounts you are willing to spend.'
  id: totrans-77
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**成本预算**：定义你愿意支出的具体金额。'
- en: '**Usage budgets**: Define how much you want to use a specific service.'
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**使用预算**：定义你想使用特定服务的量。'
- en: '**RI utilization budgets**: Specify a utilization threshold and be alerted
    if you use less than the threshold value. This enables you to identify those RI
    resources that may be underutilized and reconsider whether those reservations
    are required.'
  id: totrans-79
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**RI利用率预算**：指定利用率阈值，并在使用低于阈值的情况下收到警报。这使你能够识别那些可能未充分利用的RI资源，并重新考虑是否需要这些预留。'
- en: '**RI coverage budgets**: Identify how much of your instance usage is covered
    by the reservation.'
  id: totrans-80
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**RI覆盖预算**：确定你的实例使用中有多少被预留覆盖。'
- en: '**Saving plan utilization budgets**: Identify when your usage of savings plans
    falls below utilization threshold values, enabling you to identify under-utilized
    savings plans.'
  id: totrans-81
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**节省计划利用率预算**：识别当你的节省计划使用低于利用率阈值时，使你能够识别未充分利用的节省计划。'
- en: '**Saving plan coverage budgets**: Identify how much of your instance usage
    is covered by saving plans.'
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**节省计划覆盖预算**：确定你的实例使用中有多少被节省计划覆盖。'
- en: In this section, we looked at AWS Budgets, which can be used to ensure you do
    not overspend on the resources you deploy on AWS.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们看了AWS预算，它可以用于确保你在AWS上部署的资源上不超支。
- en: In the next section, we move on to look at some AWS pricing and cost calculators.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一节中，我们将继续看一些AWS定价和成本计算器。
- en: Learning how to use the AWS pricing and TCO calculators
  id: totrans-85
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 学习如何使用AWS定价和TCO计算器
- en: AWS offers calculators to help you estimate costs associated with setting up
    and deploying resources on AWS. Two key calculators are the **AWS Pricing Calculator**
    and **Migration Evaluator** (previously known as the TCO Calculator).
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: AWS提供计算器来帮助你估算在AWS上设置和部署资源所涉及的成本。两个关键的计算器是**AWS定价计算器**和**迁移评估器**（以前称为TCO计算器）。
- en: The AWS Pricing Calculator
  id: totrans-87
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: AWS定价计算器
- en: The AWS Pricing Calculator is a tool used to calculate the estimated monthly
    costs of deploying and configuring AWS services and resources. You can use the
    AWS Pricing Calculator to work out estimated monthly charges for your projects
    and applications that you wish to deploy on AWS. You can view prices per service
    or per group of services to analyze your proposed architecture costs.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: AWS 定价计算器是一种工具，用于计算部署和配置 AWS 服务和资源的预计月度费用。您可以使用 AWS 定价计算器来估算您希望在 AWS 上部署的项目和应用程序的月度费用。您可以按服务或服务组查看价格，以分析您提议架构的费用。
- en: You can then send the estimate's unique link to other team members, finance,
    and your clients to help analyze the potential cost of the project.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，您可以将估算结果的唯一链接发送给其他团队成员、财务人员和客户，以帮助分析项目的潜在成本。
- en: 'To see how the AWS Pricing Calculator works, let''s take an example of a simple
    application solution comprising elastic load balancers, EC2 instances, and Amazon
    RDS databases. Refer to the following architectural diagram for the proposed design:'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 为了展示 AWS 定价计算器的工作原理，让我们以一个简单的应用解决方案为例，该方案包含弹性负载均衡器、EC2 实例和 Amazon RDS 数据库。请参阅以下架构图，了解提议的设计：
- en: '![Figure 15.4 – AWS Pricing Calculator example – application architecture'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 15.4 – AWS 定价计算器示例 – 应用架构](img/Table_15.1.jpg)'
- en: '](img/B17124_15_04.jpg)'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B17124_15_04.jpg)'
- en: Figure 15.4 – AWS Pricing Calculator example – application architecture
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 图 15.4 – AWS 定价计算器示例 – 应用架构
- en: 'In the preceding architecture, the core resources deployed are as follows:'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 在之前的架构中，部署的核心资源如下：
- en: A VPC in the **US-East-1** Region, with six subnets, spread across two Availability
    Zones.
  id: totrans-95
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个位于**US-East-1**区域的VPC，拥有六个子网，分布在两个可用区。
- en: An internet gateway to allow traffic into and out of the VPC.
  id: totrans-96
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个互联网网关，用于允许流量进出 VPC。
- en: An **Application Load Balancer** (**ALB**) to allow users on the internet to
    access the web application running on the **app s****ervers**.
  id: totrans-97
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个**应用负载均衡器**（**ALB**），允许互联网上的用户访问运行在**应用服务器**上的Web应用程序。
- en: Two EC2 instances, one in each Availability Zone, within private subnets. An
    **Auto Scaling group** designed to scale out/in as required. For this example,
    we will keep the instance fleet size to two EC2 instances, replacing any failed
    EC2 instances if required.
  id: totrans-98
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 两个 EC2 实例，分别位于每个可用区，部署在私有子网中。一个**自动伸缩组**，根据需要进行扩展或收缩。对于这个示例，我们将保持实例集群大小为两个 EC2
    实例，如果需要，会替换任何失败的 EC2 实例。
- en: An Amazon RDS database running the MySQL engine, configured with **Multi-AZ**
    to offer high availability and resilience.
  id: totrans-99
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个运行 MySQL 引擎的 Amazon RDS 数据库，配置为**多可用区**以提供高可用性和弹性。
- en: Determining the estimated costs for provisioning these resources also requires
    you to be aware of the type and amount of traffic that will be transferred in
    and out. These details are going to be derived from setting a test environment
    and monitoring your workloads or perhaps from previous deployments.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 确定这些资源的预计费用还需要您了解进出流量的类型和数量。这些细节将通过设置测试环境并监控您的工作负载，或者通过以往的部署情况来推导出来。
- en: 'To simplify this example, let''s assume that your architecture is provisioned
    as per the following table:'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 为了简化这个示例，我们假设您的架构按照以下表格提供：
- en: '![Table 15.1 – AWS Pricing Calculator example architecture'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: '![表 15.1 – AWS 定价计算器示例架构](img/Table_15.1.jpg)'
- en: '](img/Table_15.1.jpg)'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Table_15.1.jpg)'
- en: Table 15.1 – AWS Pricing Calculator example architecture
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 表 15.1 – AWS 定价计算器示例架构
- en: To determine the estimated monthly costs for the set of resources as detailed
    in the preceding table, you can use the AWS Pricing Calculator available at [https://calculator.aws/](https://calculator.aws/).
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 要确定上述表格中详细列出的资源组的预计月度费用，您可以使用位于[https://calculator.aws/](https://calculator.aws/)的
    AWS 定价计算器。
- en: 'Within the AWS Pricing Calculator, you will need to select the various services
    and provide resource configuration information as per the example shown in the
    screenshot:'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 在 AWS 定价计算器中，您需要选择不同的服务，并根据截图中的示例提供资源配置信息：
- en: '![Figure 15.5 – AWS Pricing Calculator – EC2 instance specifications'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 15.5 – AWS 定价计算器 – EC2 实例规格](img/Table_15.1.jpg)'
- en: '](img/B17124_15_05.jpg)'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B17124_15_05.jpg)'
- en: Figure 15.5 – AWS Pricing Calculator – EC2 instance specifications
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 图 15.5 – AWS 定价计算器 – EC2 实例规格
- en: 'Once you have provided all the various configuration items as well as an indicative
    quantity of data transferred in and out, you will be provided with an estimate
    table, like the following:'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦您提供了所有不同的配置项以及进出流量的预估数量，您将会收到一个估算表，如下所示：
- en: '![Table 15.2 – AWS Pricing Calculator – estimated costs'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: '![表 15.2 – AWS 定价计算器 – 估算成本  '
- en: '](img/Table_15.2_a.jpg)![Table 15.2 – AWS Pricing Calculator – estimated costs'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Table_15.2_a.jpg)![表 15.2 – AWS 定价计算器 – 估算成本'
- en: '](img/Table_15.2_b.jpg)'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Table_15.2_b.jpg)'
- en: Table 15.2 – AWS Pricing Calculator – estimated costs
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 表 15.2 – AWS 定价计算器 – 估算成本
- en: Note that the aforementioned costs are just estimates and to keep the example
    simple, don't cover minute configuration details for your resources. For example,
    no backup storage is included with Amazon RDS and no routing policies are defined
    for Route 53\. In addition, the prices exclude taxes.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，上述成本仅为估算，为了简化示例，未涵盖资源的详细配置。例如，Amazon RDS 不包括备份存储，Route 53 没有定义路由策略。此外，价格不包括税费。
- en: Next, let's look at a brief overview of Migration Evaluator.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，让我们简要了解一下迁移评估器。
- en: AWS Migration Evaluator
  id: totrans-117
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: AWS 迁移评估器
- en: Many companies looking to move to the cloud will need to understand the cost
    implication of migration projects required to complete the shift from their on-premises
    environments. As well as designing the technical steps required to perform the
    migration, companies need to perform estimated cost analysis and the potential
    savings likely to be gained by moving to the cloud.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 许多希望迁移到云端的公司需要了解完成从本地环境迁移所需的迁移项目的成本影响。除了设计执行迁移所需的技术步骤外，公司还需要进行成本估算分析，并评估迁移到云端可能带来的潜在节省。
- en: AWS Migration Evaluator removes the guesswork in planning any migration project
    to AWS. Your organization can work with the Migration Evaluator team to help capture
    millions of real-time data points related to your IT environment and review recommendations
    for the right sizing and right costing of workloads on AWS. With the Migration
    Evaluator service, you can use **AWS Application Discovery Service**, the **TSO
    Logic agentless collector**, or third-party tools to discover and gain insights
    into your current compute, storage, and total cost of ownership. The agentless
    collector tool can analyze your on-premises resources requiring just read-only
    access to your VMware, Hyper-V, Windows, Linux, Active Directory, and SQL Server
    infrastructure.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: AWS 迁移评估器消除了规划任何 AWS 迁移项目的猜测。您的组织可以与迁移评估器团队合作，捕捉与您的 IT 环境相关的数百万个实时数据点，并审查有关
    AWS 上工作负载的适当规模和成本的建议。通过迁移评估器服务，您可以使用**AWS 应用程序发现服务**、**TSO Logic 无代理收集器**或第三方工具来发现并深入了解当前的计算、存储和总拥有成本。无代理收集器工具可以分析您的本地资源，只需对
    VMware、Hyper-V、Windows、Linux、Active Directory 和 SQL Server 基础设施提供只读访问权限。
- en: Migration Evaluator then provides extensive analysis and matches your existing
    workloads with appropriate AWS resources, such as the correct EC2 instance types,
    storage platform and database services, and so on, that can be provisioned in
    the cloud for your applications' workloads. The service can also help perform
    *what-if* analysis such as identifying cost savings by selecting different purchase
    options for your EC2 instances as well as incorporating elasticity features to
    eliminate waste by provisioning resources only when there is demand.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 迁移评估器随后提供广泛的分析，将您的现有工作负载与适当的 AWS 资源进行匹配，例如可以为您的应用工作负载在云中预配的正确 EC2 实例类型、存储平台和数据库服务等。该服务还可以帮助执行*假设*分析，例如通过选择不同的
    EC2 实例购买选项来识别成本节省，并通过按需预配资源来利用弹性特性消除浪费。
- en: Ultimately, Migration Evaluator helps companies build business case reports
    and illustrate the cost benefits of moving to the cloud.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 最终，迁移评估器帮助公司编写业务案例报告，并展示迁移到云端的成本效益。
- en: In this section, we looked at two types of AWS calculators to help identify
    costs associated with hosting workloads and applications in the cloud as well
    as performing total cost of ownership analysis with a view to helping customers
    make the right migration decisions.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们研究了两种 AWS 计算器，以帮助识别与托管工作负载和应用程序相关的成本，并进行总拥有成本分析，旨在帮助客户做出正确的迁移决策。
- en: In the upcoming exercise for this chapter, we look at how to work with AWS Budgets.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章即将进行的练习中，我们将学习如何使用 AWS Budgets。
- en: Exercise 15.1 – setting up cost budgets on AWS
  id: totrans-124
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 练习 15.1 – 在 AWS 上设置成本预算
- en: 'In this exercise, you will create a total monthly cost budget for your workloads.
    This will allow you to monitor your spending and avoid unintentional cost overruns:'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 在本练习中，您将为您的工作负载创建一个每月总成本预算。这将帮助您监控支出并避免不小心超出预算：
- en: Log in to the AWS Management Console using the credentials of the IAM user *Alice*.
  id: totrans-126
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 IAM 用户*Alice*的凭据登录到 AWS 管理控制台。
- en: Search for `AWS Budgets` from the top search bar on the console screen, and
    navigate to the AWS Budgets console page.
  id: totrans-127
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从控制台屏幕顶部搜索栏搜索`AWS Budgets`，然后导航到 AWS Budgets 控制台页面。
- en: From the right-hand pane, click on the **Create a budget** button.
  id: totrans-128
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在右侧窗格中，点击**创建预算**按钮。
- en: Next, from the list of **Budget types**, select **Cost budget – Recommended**.
  id: totrans-129
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，从**预算类型**列表中选择**成本预算 – 推荐**。
- en: Click the **Next** button in the bottom-right corner of the page.
  id: totrans-130
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击页面右下角的**下一步**按钮。
- en: 'In the **Set budget amount** pane, configure the following:'
  id: totrans-131
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**设置预算金额**窗格中，配置以下内容：
- en: Set the period to **Monthly**.
  id: totrans-132
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将周期设置为**月度**。
- en: Select **Recurring budget**.
  id: totrans-133
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**重复预算**。
- en: Set the start month of your choice.
  id: totrans-134
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 设置您选择的起始月份。
- en: Select the **Fixed** option under **Choose how to budget**.
  id: totrans-135
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**选择预算方式**下选择**固定**选项。
- en: Next, enter your budget amount. I have set mine to $20 as per the following
    screenshot:![Figure 15.6 – AWS Budgets – setting up monthly cost budgets
  id: totrans-136
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，输入您的预算金额。我已将我的设定为 20 美元，如以下截图所示：![图 15.6 – AWS Budgets – 设置月度成本预算
- en: '](img/B17124_15_06.jpg)'
  id: totrans-137
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B17124_15_06.jpg)'
- en: Figure 15.6 – AWS Budgets – setting up monthly cost budgets
  id: totrans-138
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 15.6 – AWS Budgets – 设置月度成本预算
- en: Scroll further down to review your **Budget scoping** pane. Here, you will see
    whether your monthly cost budget is reasonable based on historic costs. As you
    will note from the following screenshot, for my AWS account, the budget of $20
    is acceptable because, since February 2021, I have been spending less than $15,
    which is within my budget:![Figure 15.7 – AWS Budgets – budget scoping
  id: totrans-139
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 向下滚动以查看您的**预算范围**窗格。在这里，您将看到基于历史成本您的月度成本预算是否合理。正如您将从以下截图中注意到的那样，对于我的 AWS 帐户，20
    美元的预算是可以接受的，因为自 2021 年 2 月以来，我一直花费不到 15 美元，这在我的预算范围内：![图 15.7 – AWS Budgets –
    预算范围
- en: '](img/B17124_15_07.jpg)'
  id: totrans-140
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B17124_15_07.jpg)'
- en: Figure 15.7 – AWS Budgets – budget scoping
  id: totrans-141
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 15.7 – AWS Budgets – 预算范围
- en: Finally, provide a name for your budget and click **Next**.
  id: totrans-142
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，为您的预算提供一个名称，然后点击**下一步**。
- en: Next, you can configure an alerts threshold, where you can be notified if you
    cross the threshold. Click on the **Add an alert threshold** button.
  id: totrans-143
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，您可以配置警报阈值，在您超过阈值时将收到通知。点击**添加警报阈值**按钮。
- en: Under **Set alert threshold**, specify a threshold of 80% of the budgeted amount
    and set the trigger to **Actual** as per the following screenshot:![Figure 15.8
    – Setting alert threshold
  id: totrans-144
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**设置警报阈值**下，指定预算金额的 80% 作为阈值，并根据以下截图设置触发器为**实际**：![图 15.8 – 设置警报阈值
- en: '](img/B17124_15_08.jpg)'
  id: totrans-145
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B17124_15_08.jpg)'
- en: Figure 15.8 – Setting alert threshold
  id: totrans-146
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 15.8 – 设置警报阈值
- en: Next, under **Email recipients**, specify an email address to send the alerts
    to.
  id: totrans-147
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，在**电子邮件收件人**下，指定要发送警报的电子邮件地址。
- en: You can also set Amazon SNS alerts and Amazon Chatbot alerts.
  id: totrans-148
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您还可以设置 Amazon SNS 警报和 Amazon Chatbot 警报。
- en: Click on the **Next** button in the bottom-right corner of the page.
  id: totrans-149
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击页面右下角的**下一步**按钮。
- en: You can also define **Actions** to take when the threshold is crossed, for which
    you will need to configure appropriate IAM roles. For now, just click on the **Next**
    button.
  id: totrans-150
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您还可以定义超出阈值时要执行的**操作**，为此您需要配置适当的 IAM 角色。现在，只需点击**下一步**按钮。
- en: Review your settings and click the **Create budget** button in the bottom right-hand
    corner of the page.
  id: totrans-151
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 检查您的设置，并点击页面右下角的**创建预算**按钮。
- en: 'Your cost budget will be created, and you will be able to view it in the **Overview**
    console as per the following screenshot:'
  id: totrans-152
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您的成本预算将被创建，并且您将能够在**概述**控制台中查看它，如以下截图所示：
- en: '![Figure 15.9 – AWS Budgets – Overview console'
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 15.9 – AWS Budgets – 概述控制台'
- en: '](img/B17124_15_09.jpg)'
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B17124_15_09.jpg)'
- en: Figure 15.9 – AWS Budgets – Overview console
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 图 15.9 – AWS Budgets – 概述控制台
- en: 'Note that you can set up five additional alerts for your budgets, such as the
    following:'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，您可以为您的预算设置五个额外的警报，例如以下内容：
- en: When current monthly costs exceed the budgeted amount
  id: totrans-157
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当当前月度成本超过预算金额时
- en: When current monthly costs exceed 80% of the budgeted amount
  id: totrans-158
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当当前月度成本超过预算金额的 80% 时
- en: When forecasted monthly costs exceed the budgeted amount
  id: totrans-159
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当预测的月度成本超过预算金额时
- en: In this section exercise, you learned how to create monthly cost budgets for
    your AWS account. Setting custom budgets can alert you if you are crossing specific
    threshold values or even forecasted costs in the future.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节练习中，您学习了如何为您的 AWS 帐户创建月度成本预算。设置自定义预算可以在您跨越特定阈值或未来预测成本时提醒您。
- en: Next, we provide a summary of this chapter.
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们提供了本章的总结。
- en: Summary
  id: totrans-162
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: Businesses across the globe of all sizes can benefit from moving their applications
    and workloads to the cloud and gain a competitive advantage from the vast array
    of services on offer by AWS. AWS enables customers to build highly available,
    fault-tolerant, scalable, and resilient cloud solutions. AWS offers some of the
    latest and greatest cutting-edge technologies to help you design and build robust
    application solutions. Without AWS, the cost of provisioning the vast pool of
    services and resources alone would make it impossible for many companies, including
    start-ups, to innovate.
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 全球各地的各种规模的企业都可以从将其应用程序和工作负载迁移到云中中受益，并从 AWS 提供的各种服务中获得竞争优势。AWS 使客户能够构建高度可用、容错、可扩展和弹性的云解决方案。AWS
    提供了一些最先进的 cutting-edge 技术，帮助您设计和构建强大的应用解决方案。没有 AWS，单凭配置大量服务和资源的成本就会让许多公司，包括初创公司，无法进行创新。
- en: One of the prime drivers of cloud adoption is the fact that companies can save
    on capital expenses and opt for a variable expense model for all their IT investments.
    This allows businesses to channel more of the previous capital into improving
    their products and services. However, careful planning and monitoring are required.
    It is all too easy to spin the instances and other resources and incur unnecessary
    costs, especially where you may have overprovisioned the infrastructure required
    to support your applications. This clearly defeats one of the primary reasons
    for moving to the cloud.
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 云计算采纳的主要驱动力之一是公司可以节省资本支出，并选择为所有 IT 投资采用可变费用模型。这使得企业能够将更多的原有资本投入到改善其产品和服务中。然而，这需要精心的规划和监控。过于容易就会启动实例和其他资源，产生不必要的费用，特别是当你可能过度配置了支持应用程序所需的基础设施时。这显然会违背转向云计算的主要原因之一。
- en: In this chapter, you learned about the principles of cost optimization, and
    the approaches you can take to ensure you consume the right services at the right
    price. You learned how to provision resources when you need them most and not
    have idle resources simply sitting around gathering dust. Different pricing options
    for different workload types enable you to make sensible decisions about your
    investment. In addition, AWS offers a number of different management and monitoring
    tools to help you stay well informed about your spending. Using Cost Explorer,
    cost and usage reports, and AWS Budgets, you can run a tight ship if you implement
    best practices and plan your solutions carefully.
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，您了解了成本优化的原则，以及您可以采取的措施，确保以正确的价格消费正确的服务。您学会了如何在最需要资源时进行配置，而不是让空闲资源无所事事地积灰尘。针对不同工作负载类型的定价选项使您能够就投资做出明智的决策。此外，AWS
    提供了一些不同的管理和监控工具，帮助您保持对开支的充分了解。通过使用成本分析器、成本和使用报告以及 AWS Budgets，您可以在实施最佳实践并仔细规划解决方案的情况下，保持良好的管理。
- en: Finally, we also reviewed a couple of cost calculators that help you estimate
    the investment required for implementing solutions on AWS and how migrating your
    workloads to the cloud could save you money using Migration Evaluator.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，我们还回顾了几个成本计算器，帮助您估算在 AWS 上实施解决方案所需的投资，以及如何通过迁移评估工具来评估将工作负载迁移到云端能为您节省的费用。
- en: In the next chapter, we offer two complete exam-style practice questions to
    help you gauge your understanding of the syllabus for the AWS Certified Cloud
    Practitioner exam and help you prepare for the certification.
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们提供了两个完整的考试风格练习题，帮助您评估对 AWS 认证云计算从业者考试大纲的理解，并为认证做准备。
- en: Passing the AWS Certified Cloud Practitioner exam will help you progress your
    career in cloud computing. This exam guide has been designed to help you not only
    achieve exam success, but also gain valuable hands-on experience in architecting,
    building, and managing real-world cloud solutions. With a vast array of exercises
    in this study guide, we hope you are now feeling much more confident in tackling
    real-world business use cases.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 通过 AWS 认证云计算从业者考试将有助于推动您在云计算领域的职业发展。本考试指南旨在帮助您不仅取得考试成功，还能在架构、构建和管理实际云解决方案方面获得宝贵的实战经验。通过本学习指南中的大量练习，我们希望您现在对解决实际商业用例更加自信。
- en: I would like to take this opportunity to thank you for your time in going through
    this material and I hope you have gained valuable knowledge and some hands-on
    experience in designing cloud solutions.
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 我想借此机会感谢你花时间学习这些材料，希望你在设计云解决方案方面获得了宝贵的知识和一些实际经验。
- en: Questions
  id: totrans-170
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 问题
- en: Which AWS service enables you to specify a monthly cost amount for your AWS
    account and send out an alert if the actual or forecast spending is likely to
    cross the budgeted threshold values?
  id: totrans-171
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 哪个 AWS 服务允许你为 AWS 账户指定每月费用，并在实际或预测的支出可能超过预算阈值时发送警报？
- en: AWS Budgets
  id: totrans-172
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: AWS 预算
- en: AWS Cost Explorer
  id: totrans-173
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: AWS 成本探索器
- en: AWS Config
  id: totrans-174
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: AWS 配置
- en: AWS Pricing Calculator
  id: totrans-175
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: AWS 定价计算器
- en: Which AWS service enables you to access 12 months of usage and spending data
    as well as forecasting what your future costs will be for the next 12 months?
  id: totrans-176
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 哪个 AWS 服务允许你访问过去 12 个月的使用和支出数据，并预测未来 12 个月的费用？
- en: AWS Cost Explorer
  id: totrans-177
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: AWS 成本探索器
- en: AWS Billing alarms
  id: totrans-178
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: AWS 计费警报
- en: AWS Config
  id: totrans-179
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: AWS 配置
- en: AWS annual report
  id: totrans-180
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: AWS 年度报告
- en: The finance department would like to get a report on the total monthly spending
    for all AWS resources broken down by business unit/project name. The purpose of
    which is to understand how much each business unit/project costs. Which feature
    of the AWS Billing and Cost Management services enables you to achieve this requirement?
  id: totrans-181
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 财务部门希望获得一份报告，详细列出按业务单元/项目名称划分的所有 AWS 资源的月度总支出。其目的是了解每个业务单元/项目的费用。AWS 计费和成本管理服务的哪个功能可以帮助你实现这一要求？
- en: Cost allocation tags
  id: totrans-182
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 成本分配标签
- en: Cost and usage report
  id: totrans-183
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 成本与使用报告
- en: AWS Budgets
  id: totrans-184
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: AWS 预算
- en: AWS CloudWatch
  id: totrans-185
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: AWS CloudWatch
- en: Which AWS service can analyze your monthly compute usage and offer recommendations
    for purchasing EC2 **RI** for your existing on-demand workloads?
  id: totrans-186
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 哪个 AWS 服务可以分析你的月度计算使用情况，并提供关于购买 EC2 **RI** 以适应现有按需工作负载的建议？
- en: AWS CloudTrail
  id: totrans-187
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: AWS CloudTrail
- en: AWS Budgets
  id: totrans-188
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: AWS 预算
- en: AWS Cost Explorer
  id: totrans-189
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: AWS 成本探索器
- en: AWS Migration Evaluator
  id: totrans-190
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: AWS 迁移评估器
- en: You are planning on architecting and building a three-tier application solution,
    comprising EC2 instances, load balancers, the Auto Scaling service, and a backend
    database. Which AWS service can you use to produce an estimated monthly cost for
    your proposal?
  id: totrans-191
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你计划设计并构建一个三层应用解决方案，包括 EC2 实例、负载均衡器、自动扩展服务和后端数据库。你可以使用哪个 AWS 服务来估算你的提案的月度成本？
- en: AWS Cost Explorer
  id: totrans-192
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: AWS 成本探索器
- en: AWS Pricing Calculator
  id: totrans-193
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: AWS 定价计算器
- en: AWS Cost Optimization Analyzer
  id: totrans-194
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: AWS 成本优化分析器
- en: AWS SNS
  id: totrans-195
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: AWS SNS
