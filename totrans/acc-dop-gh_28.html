<html><head></head><body>
		<div id="_idContainer280">
			<h1 id="_idParaDest-403"><em class="italic"><a id="_idTextAnchor407"/>Chapter 22</em>: Organizing Your Teams</h1>
			<p>In this chapter, you’ll learn about the best practices for structuring your repositories and teams into organizations and enterprises to foster collaboration and facilitate administration.</p>
			<p>In this chapter, we will cover the following topics:</p>
			<ul>
				<li>GitHub scopes and namespaces</li>
				<li>Structuring GitHub teams</li>
				<li>Role-based access</li>
				<li>Custom roles</li>
				<li>Outside collaborators</li>
			</ul>
			<h1 id="_idParaDest-404"><a id="_idTextAnchor408"/>GitHub scopes and namespaces</h1>
			<p>The <a id="_idIndexMarker1378"/>main entities in GitHub are <a id="_idIndexMarker1379"/>repositories. A repository can be created for a user or an organization. The URL of the repository will be in the following format:</p>
			<pre class="source-code">https://github.com/<strong class="bold">&lt;username&gt;</strong>/<strong class="bold">&lt;repository&gt;</strong></pre>
			<pre class="source-code">https://github.com/<strong class="bold">&lt;organization&gt;</strong>/<strong class="bold">&lt;repository&gt;</strong></pre>
			<p>For GitHub Enterprise Server, you must replace <strong class="source-inline">https://github.com</strong> with the URL of your server. A user and organization name on a platform must be unique since they provide a namespace. The name <a id="_idIndexMarker1380"/>of a repository must be unique in that namespace.</p>
			<h2 id="_idParaDest-405"><a id="_idTextAnchor409"/>GitHub enterprises</h2>
			<p>In GitHub, an enterprise is a<a id="_idIndexMarker1381"/> container for multiple organizations. Enterprises are not namespaces – the organization names must still be unique. Enterprises have a URL slug that is used to refer to the enterprise. The URL to your enterprise will look like this:</p>
			<pre class="source-code">https://github.com/enterprises/<strong class="bold">&lt;enterprise-slug&gt;</strong></pre>
			<p>If you own an organization<a id="_idIndexMarker1382"/> that is paid by invoice, then you can upgrade to an enterprise under <strong class="bold">Settings</strong> | <strong class="bold">Billing and plans</strong>. Otherwise, you must contact GitHub sales.</p>
			<p>A GitHub enterprise has three roles:</p>
			<ul>
				<li><strong class="bold">Owner</strong>: Has full <a id="_idIndexMarker1383"/>administrative rights to the enterprise but not to organizations</li>
				<li><strong class="bold">Members</strong>: Members<a id="_idIndexMarker1384"/> or outside collaborators with access to at least one organization</li>
				<li><strong class="bold">Billing Managers</strong>: Can only<a id="_idIndexMarker1385"/> view and manage billing information</li>
			</ul>
			<p>There are some <a id="_idIndexMarker1386"/>settings you can configure at the enterprise level for all <a id="_idIndexMarker1387"/>organizations, such as <strong class="bold">SAML authentication</strong>, <strong class="bold">SSH Certificate Authorities</strong>, or an <strong class="bold">IP allow list</strong>. There are also some enterprise-level webhooks and you can access the <a id="_idIndexMarker1388"/>audit log for the entire enterprise. Audit log streaming to cloud storage, Splunk, or Azure Event Hubs is only available at the enterprise level, but most of the settings are around <strong class="bold">billing</strong> and <strong class="bold">licensing</strong>.</p>
			<p>You can also set policies for many of the settings that can be configured at the organization level. If a policy has been set, the owner of the organization cannot change the settings. If a policy hasn’t been defined, the setting can be configured by the owners of the organizations.</p>
			<h2 id="_idParaDest-406"><a id="_idTextAnchor410"/>GitHub organizations</h2>
			<p>The main way to manage your <a id="_idIndexMarker1389"/>repositories and teams is by using organizations. They can also exist without an enterprise, and you can move them between different enterprises. Organizations are not meant to be given out as a self-service for your teams to organize themselves. Some companies have more than 2,000 organizations – and this is a big problem, especially for managing integrations. GitHub Apps, for example, can only be configured at the organization level – not at the enterprise level. If you want to configure integration with your Jira instance, then you must do this for all organizations. You cannot configure this at the enterprise level.</p>
			<p>One organization should be enough for most customers. If your company has different legal entities that must be separate, then this might be a reason to have multiple organizations. Another reason would be if you want to separate open and inner source. However, you should not have <a id="_idIndexMarker1390"/>one organization for all departments or divisions. It is better to use teams for that.</p>
			<p>An organization has the following roles:</p>
			<ul>
				<li><strong class="bold">Owner</strong>: Has full<a id="_idIndexMarker1391"/> access to teams, settings, and repositories</li>
				<li><strong class="bold">Members</strong>: Can see members<a id="_idIndexMarker1392"/> and non-secret teams, as well as create repositories</li>
				<li><strong class="bold">Outside Collaborators</strong>: These are <a id="_idIndexMarker1393"/>not members of the organization but they have access to one or more repositories</li>
			</ul>
			<p>Organizations have projects, packages, teams, and repositories. You can configure many settings for repositories. If you don’t configure these settings at the organization level, these settings can be set at the repository level.</p>
			<p>The main way to structure your organization is by using teams. We’ll look at these in the next section.</p>
			<h1 id="_idParaDest-407"><a id="_idTextAnchor411"/>Structuring GitHub teams</h1>
			<p>Teams are not just the <a id="_idIndexMarker1394"/>more convenient way to grant permissions to repositories that allow faster on- and off-boarding. They can also be used to share knowledge and notify certain groups of changes.</p>
			<p>Teams have discussions, and you can see their repositories and projects. Teams can have one of the following two visibilities:</p>
			<ul>
				<li><strong class="bold">Visible</strong>: A<a id="_idIndexMarker1395"/> visible team can be seen and mentioned by every member of this organization</li>
				<li><strong class="bold">Secret</strong>: A <a id="_idIndexMarker1396"/>secret team can only be seen by its members and may not be nested</li>
			</ul>
			<p>A team exists in the namespace of an organization. This means that the name of the team must be unique inside the organization. You can mention a team or add it as a code owner using the following syntax:</p>
			<pre class="source-code">@<strong class="bold">&lt;organization&gt;</strong>/<strong class="bold">&lt;team-name&gt;</strong></pre>
			<p>You can use<a id="_idIndexMarker1397"/> teams to reflect your company or group’s structure with cascading access permissions and mentions by nesting them. You can do this by specifying a parent team when creating a new team. This makes the new team a child team. Child teams can also be parent teams – this way, you can create a deep hierarchy. Teams inherit permissions and notifications from their parent teams, but not the other way around.</p>
			<p>By nesting teams, you can <a id="_idIndexMarker1398"/>create the structure of your company. You could <a id="_idIndexMarker1399"/>create a team for all employees, each division, each department, and each product team (<strong class="bold">vertical teams</strong>). You can also use teams for <strong class="bold">horizontal teams</strong> – interest groups such as communities of practices (see <em class="italic">Figure 22.1</em>):</p>
			<div>
				<div id="_idContainer275" class="IMG---Figure">
					<img src="image/B17827_22_001.jpg" alt="Figure 22.1 – Structuring your organizations using teams&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 22.1 – Structuring your organizations using teams</p>
			<p>This allows you to share knowledge and ownership across your value stream teams. You can also nest horizontal teams if this fits your community structure. </p>
			<p>Nested teams <a id="_idIndexMarker1400"/>can be <a id="_idIndexMarker1401"/>expanded in the <strong class="bold">Teams</strong> tab of an organization (see <em class="italic">Figure 22.2</em>):</p>
			<div>
				<div id="_idContainer276" class="IMG---Figure">
					<img src="image/B17827_22_002.jpg" alt="Figure 22.2 – Nested teams in the Teams tab of an organization&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 22.2 – Nested teams in the Teams tab of an organization</p>
			<p>Teams have pages for discussions. Organization members can create and participate in discussions with the team, but the team can also have private discussions that are not visible to the rest of the organization (see <em class="italic">Figure 22.3</em>):</p>
			<div>
				<div id="_idContainer277" class="IMG---Figure">
					<img src="image/B17827_22_003.jpg" alt="Figure 22.3 – Team pages with discussion&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 22.3 – Team pages with discussion</p>
			<p>Teams can be<a id="_idIndexMarker1402"/> mentioned and assigned as reviewers and code owners. It is a very powerful tool for structuring your organization simplistically. But try to keep it simple and use names that people can easily understand. You don’t want to build a bureaucratic monster! Keep it simple.</p>
			<h1 id="_idParaDest-408"><a id="_idTextAnchor412"/>Role-based access</h1>
			<p>At the repository level, you can<a id="_idIndexMarker1403"/> grant role-based access to teams or individual people. You can use one of the following default roles:</p>
			<ul>
				<li><strong class="bold">Read</strong>: Read and<a id="_idIndexMarker1404"/> clone repositories. Open and comment on issues and pull requests.</li>
				<li><strong class="bold">Triage</strong>: Read <a id="_idIndexMarker1405"/>permissions, plus manage issues and pull requests.</li>
				<li><strong class="bold">Write</strong>: Triage <a id="_idIndexMarker1406"/>permissions, plus read, clone, and push to repositories.</li>
				<li><strong class="bold">Maintain</strong>: Write <a id="_idIndexMarker1407"/>permissions, plus manage issues, pull requests, and configure some repository settings.</li>
				<li><strong class="bold">Admin</strong>: Full <a id="_idIndexMarker1408"/>access to repositories, including sensitive and destructive actions.</li>
			</ul>
			<p>Note that the <strong class="bold">read</strong> role<a id="_idIndexMarker1409"/> can do more than just read! It can open and comment on issues and pull requests. <strong class="bold">Triage</strong> and <strong class="bold">maintain</strong> are typical roles in open source projects. They are not so commonly used in enterprise scenarios.</p>
			<p>You can set a base permission for an organization to read, write, or admin. This will grant all members the corresponding permission to all repositories. Outside collaborators do not inherit the base permission (see <a href="https://docs.github.com/en/organizations/managing-access-to-your-organizations-repositories/setting-base-permissions-for-an-organization">https://docs.github.com/en/organizations/managing-access-to-your-organizations-repositories/setting-base-permissions-for-an-organization</a> for more information).</p>
			<h1 id="_idParaDest-409"><a id="_idTextAnchor413"/>Custom roles</h1>
			<p>You can define custom roles<a id="_idIndexMarker1410"/> in the organization settings under <strong class="bold">Repository roles</strong> (/settings/roles). Click <strong class="bold">Create a role</strong> and specify a name and description for the new role. Then, select a default role to inherit the permissions from and add permissions to it (see <em class="italic">Figure 22.4</em>):</p>
			<div>
				<div id="_idContainer278" class="IMG---Figure">
					<img src="image/B17827_22_004.jpg" alt="Figure 22.4 – Creating custom roles in GitHub&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 22.4 – Creating custom roles in GitHub</p>
			<p>The permissions<a id="_idIndexMarker1411"/> are categorized. So, if you type <strong class="source-inline">security</strong> in the search box, the list will show you all the available permission related to security.</p>
			<p>Permissions are available in the following categories:</p>
			<ul>
				<li>Discussions</li>
				<li>Issue</li>
				<li>Pull request</li>
				<li>Repository</li>
				<li>Security</li>
			</ul>
			<p>Note that not everything is configurable. For example, there are no specific permissions for GitHub Packages at the time of writing.</p>
			<p>If a person is given different levels of access, the higher permissions always override the lower ones. If a person has been given multiple roles, a warning will appear on GitHub next to the person with <strong class="bold">Mixed roles</strong>.</p>
			<p>And again: try not to go too crazy with custom roles. Keep it as simple as possible.</p>
			<h1 id="_idParaDest-410"><a id="_idTextAnchor414"/>Outside collaborators</h1>
			<p>An <strong class="bold">outside collaborator</strong> is<a id="_idIndexMarker1412"/> a person who is not a member of your organization but has access to one or more of your organization’s repositories.</p>
			<p class="callout-heading">Note</p>
			<p class="callout">Adding an outside collaborator to a private repository will consume one of your paid licenses!</p>
			<p>Outside collaborators are not <strong class="bold">members</strong> of your organization. They don’t see internal repositories and they do not inherit base permissions.</p>
			<p>You can’t invite outside collaborators at the organization level – you can only invite members to your organization and then convert them into outside collaborators, (see <em class="italic">Figure 22.5</em>):</p>
			<div>
				<div id="_idContainer279" class="IMG---Figure">
					<img src="image/B17827_22_005.jpg" alt="Figure 22.5 – Converting members into outside collaborators&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 22.5 – Converting members into outside collaborators</p>
			<p>As a repository administrator, if you <strong class="bold">Add people</strong> under <strong class="bold">Settings</strong> | <strong class="bold">Collaborators and teams</strong>, if they already belong to the organization, they will be automatically added as members. If not, they will be added as outside collaborators.</p>
			<p>Outside <a id="_idIndexMarker1413"/>collaborators are a great way to easily collaborate with partners and customers without requiring them to be part of your organization. But keep in mind that this does not work if you use <strong class="bold">Enterprise Managed Users</strong>. And if you have <strong class="bold">SAML Single Sign On</strong> enabled, outside collaborators will bypass that. That’s why organization owners can prevent repository administrators from inviting outside collaborators to repositories in the settings of the organization.</p>
			<h1 id="_idParaDest-411"><a id="_idTextAnchor415"/>Summary</h1>
			<p>In this chapter, you learned about the best practices for structuring organizations, repositories, and teams in your enterprise. We talked about nesting teams, using teams for interest groups, role-based access, and outside collaborators.</p>
			<p>In the last chapter, we’ll put all the pieces of this book together and guide you through the process of using GitHub to transform your enterprise and use it to accelerate DevOps in your organization.</p>
			<h1 id="_idParaDest-412"><a id="_idTextAnchor416"/>Further reading</h1>
			<p>Please refer to the following links and further GitHub documentation to learn more about the topics that were covered in this chapter:</p>
			<ul>
				<li><em class="italic">About teams</em>: <a href="https://docs.github.com/en/organizations/organizing-members-into-teams/about-teams">https://docs.github.com/en/organizations/organizing-members-into-teams/about-teams</a></li>
				<li><em class="italic">Base permissions</em>: <a href="https://docs.github.com/en/organizations/managing-access-to-your-organizations-repositories/setting-base-permissions-for-an-organization">https://docs.github.com/en/organizations/managing-access-to-your-organizations-repositories/setting-base-permissions-for-an-organization</a></li>
				<li><em class="italic">Custom roles</em>: <a href="mailto:https://docs.github.com/en/enterprise-cloud@latest/organizations/managing-peoples-access-to-your-organization-with-roles/managing-custom-repository-roles-for-an-organization">https://docs.github.com/en/enterprise-cloud@latest/organizations/managing-peoples-access-to-your-organization-with-roles/managing-custom-repository-roles-for-an-organization</a></li>
				<li><em class="italic">Outside collaborators</em>: <a href="https://docs.github.com/en/organizations/managing-access-to-your-organizations-repositories/adding-outside-collaborators-to-repositories-in-your-organization">https://docs.github.com/en/organizations/managing-access-to-your-organizations-repositories/adding-outside-collaborators-to-repositories-in-your-organization</a></li>
				<li><em class="italic">Managing access to your repository</em>: <a href="https://docs.github.com/en/repositories/managing-your-repositorys-settings-and-features/managing-repository-settings/managing-teams-and-people-with-access-to-your-repository#inviting-a-team-or-person">https://docs.github.com/en/repositories/managing-your-repositorys-settings-and-features/managing-repository-settings/managing-teams-and-people-with-access-to-your-repository#inviting-a-team-or-person</a></li>
			</ul>
		</div>
	</body></html>