- en: '12'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '12'
- en: Escalate Using Opsgenie Alerts
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用 Opsgenie 警报进行升级
- en: As part of Atlassian’s Open DevOps package, you also get access to Opsgenie.
    Opsgenie is a separate product that allows teams to manage alerts, incidents,
    and incident escalation. It is normally used by agents using **Jira Service Management**,
    but it also works for software teams that need to be involved in resolving production
    issues. Software teams can leverage the power of Opsgenie to manage alerts and
    incidents that occur against the systems that have been deployed to production.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 作为 Atlassian Open DevOps 套件的一部分，您还可以访问 Opsgenie。Opsgenie 是一款独立的产品，允许团队管理警报、事件和事件升级。它通常由使用
    **Jira Service Management** 的代理使用，但它也适用于需要参与解决生产问题的软件团队。软件团队可以利用 Opsgenie 的强大功能，管理对已部署到生产环境中的系统发生的警报和事件。
- en: As we look at the entire DevOps lifecycle, Opsgenie facilitates monitoring activities.
    Once your products and services are deployed in production, monitoring and reacting
    to incidents is a critical piece of the feedback loop. This chapter will explore
    how to configure Opsgenie and integrate it with Jira.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们查看整个 DevOps 生命周期时，Opsgenie 促进了监控活动。一旦您的产品和服务在生产环境中部署，监控和响应事件是反馈环路中的关键部分。本章将探讨如何配置
    Opsgenie 并将其与 Jira 集成。
- en: 'This chapter has the following recipes:'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 本章包含以下内容：
- en: Setting up Opsgenie teams
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 设置 Opsgenie 团队
- en: Setting up Opsgenie with Jira
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将 Opsgenie 与 Jira 配置
- en: Setting up on-call schedules
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 设置值班计划
- en: Configuring escalation policies and rules
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 配置升级政策和规则
- en: Escalation and notifications configuration
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 升级和通知配置
- en: Improving team communication and response with ChatOps
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过 ChatOps 改善团队沟通和响应
- en: Technical requirements
  id: totrans-11
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 技术要求
- en: 'You will need the following software:'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 您将需要以下软件：
- en: Jira
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jira
- en: Opsgenie
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Opsgenie
- en: Compass
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Compass
- en: Setting up Opsgenie teams
  id: totrans-16
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 设置 Opsgenie 团队
- en: In this recipe, we are going to configure your team so that Opsgenie can send
    out the appropriate notifications when an incident occurs. If you have already
    created a team in Jira, Confluence, or Compass, you will need to recreate your
    team in Opsgenie because as of the time of writing, the team in Opsgenie doesn’t
    communicate with those team settings. You will need to recreate your team in Opsgenie
    exactly how you have it in the other Atlassian tools if you want the same team
    name and members. Otherwise, you have the option to create an entirely new team
    in Opsgenie.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个步骤中，我们将配置您的团队，使得 Opsgenie 在事件发生时可以发送适当的通知。如果您已经在 Jira、Confluence 或 Compass
    中创建了团队，您需要在 Opsgenie 中重新创建您的团队，因为截至目前，Opsgenie 中的团队与其他工具中的团队设置无法互通。如果您希望团队名称和成员相同，您需要在
    Opsgenie 中精确地重新创建该团队。否则，您可以选择在 Opsgenie 中创建一个全新的团队。
- en: How to do it
  id: totrans-18
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作
- en: 'The following steps will guide you through creating a team in Opsgenie:'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 以下步骤将指导您如何在 Opsgenie 中创建团队：
- en: In Opsgenie, click on **Teams** in the navigation bar.
  id: totrans-20
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 Opsgenie 中，点击导航栏中的 **团队**。
- en: "![Figure \uFEFF12.1 – Select Teams in Opsgenie](img/B21937_12_01.jpg)"
  id: totrans-21
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.1 – 在 Opsgenie 中选择团队](img/B21937_12_01.jpg)'
- en: Figure 12.1 – Select Teams in Opsgenie
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.1 – 在 Opsgenie 中选择团队
- en: Click on **Add team**.
  id: totrans-23
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **添加团队**。
- en: '![Figure 12.2 – Add a new team](img/B21937_12_02.jpg)'
  id: totrans-24
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.2 – 添加新团队](img/B21937_12_02.jpg)'
- en: Figure 12.2 – Add a new team
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.2 – 添加新团队
- en: Provide a name and a description of your team, and if you have the member information
    available, add the members’ names as well. Click on **Add team** when you have
    finished adding your members to the new team.
  id: totrans-26
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 提供您的团队名称和描述，如果您有成员信息，请将成员的姓名也添加进去。添加完成员后，点击 **添加团队** 完成新团队的创建。
- en: '![Figure 12.3 – New team details](img/B21937_12_03.jpg)'
  id: totrans-27
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.3 – 新团队详情](img/B21937_12_03.jpg)'
- en: Figure 12.3 – New team details
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.3 – 新团队详情
- en: Important note
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: If your team member doesn’t show up, then you’ll need to go to Opsgenie’s settings
    in the navigation bar and add your users there. As noted earlier, Opsgenie is
    independent from the rest of the Atlassian tools and users are managed independently
    as well.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您的团队成员未显示，则需要前往 Opsgenie 的设置页面，在导航栏中添加用户。如前所述，Opsgenie 独立于其他 Atlassian 工具，用户也是独立管理的。
- en: If you have not added your team members to Opsgenie, you can add them by clicking
    on **Members** in the left pane and then clicking **Add member** at the top of
    the **Members** page.
  id: totrans-31
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果您尚未将团队成员添加到 Opsgenie，可以通过点击左侧面板中的 **成员**，然后在 **成员** 页面顶部点击 **添加成员** 来添加成员。
- en: '![Figure 12.4 – Opsgenie settings to add new members](img/B21937_12_04.jpg)'
  id: totrans-32
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.4 – 添加新成员的 Opsgenie 设置](img/B21937_12_04.jpg)'
- en: Figure 12.4 – Opsgenie settings to add new members
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.4 – Opsgenie 设置以添加新成员
- en: Add any missing team members to your Opsgenie team and assign the appropriate
    role (**user** or **admin**). Click **Add** when you are finished adding members.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 将任何缺失的团队成员添加到你的 Opsgenie 团队，并分配适当的角色（**用户**或**管理员**）。添加完成员后，点击**添加**。
- en: '![Figure 12.5 – Add a member to the team with the appropriate role](img/B21937_12_05.jpg)'
  id: totrans-35
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.5 – 将成员添加到团队并分配适当角色](img/B21937_12_05.jpg)'
- en: Figure 12.5 – Add a member to the team with the appropriate role
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.5 – 将成员添加到团队并分配适当角色
- en: Now your team is all onboarded in Opsgenie. It is time to start creating your
    team’s on-call schedule, which will be covered in the next recipe.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你的团队已经在 Opsgenie 中完成了入驻。接下来是创建团队的值班时间表，这将在下一个部分中介绍。
- en: Setting up Opsgenie with Jira
  id: totrans-38
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用 Jira 设置 Opsgenie
- en: Opsgenie is a separate Atlassian product that is typically bundled with Jira
    Service Management or when you go through Atlassian’s Open DevOps package. When
    you sign up for either service, Opsgenie will be made available but navigating
    to the Opsgenie product is not very easy. For this chapter, we are going to focus
    on utilizing Opsgenie through Jira. Since Open DevOps does not include Jira Service
    Management, there will be no discussion of Jira Service Management in this chapter,
    but feel free to explore the capabilities of Jira Service Management as it is
    a great product used for IT service management teams.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: Opsgenie 是一个独立的 Atlassian 产品，通常与 Jira 服务管理一起捆绑，或在使用 Atlassian 的 Open DevOps
    包时提供。当你注册这两项服务中的任意一项时，Opsgenie 会被启用，但直接进入 Opsgenie 产品并不容易。对于本章节，我们将重点讲解如何通过 Jira
    使用 Opsgenie。由于 Open DevOps 不包括 Jira 服务管理，因此本章节不会讨论 Jira 服务管理，但欢迎你探索 Jira 服务管理的功能，它是一个非常适合
    IT 服务管理团队使用的优秀产品。
- en: How to do it
  id: totrans-40
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作
- en: 'In Jira, select the Jira project your team is using to track their development
    tasks. Once in that project, you’ll first want to enable and connect with Opsgenie.
    You’ll need to use the following steps:'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Jira 中，选择你的团队用于跟踪开发任务的 Jira 项目。进入该项目后，你首先需要启用并连接 Opsgenie。你需要按照以下步骤操作：
- en: Select the Jira project that you want to integrate with Opsgenie, then go to
    **Project settings** and select **Toolchain**.
  id: totrans-42
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择你希望与 Opsgenie 集成的 Jira 项目，然后进入**项目设置**并选择**工具链**。
- en: '![Figure 12.6 – Toolchain selection from within the Jira project](img/B21937_12_06.jpg)'
  id: totrans-43
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.6 – 从 Jira 项目中选择工具链](img/B21937_12_06.jpg)'
- en: Figure 12.6 – Toolchain selection from within the Jira project
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.6 – 从 Jira 项目中选择工具链
- en: In the **Toolchain** window, click on **Add**. From the dropdown, select **Add**
    **on-call team**.
  id: totrans-45
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**工具链**窗口中，点击**添加**。从下拉菜单中选择**添加** **值班团队**。
- en: '![Figure 12.7 – Add new on-call team from within Toolchain](img/B21937_12_07.jpg)'
  id: totrans-46
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.7 – 从工具链中添加新的值班团队](img/B21937_12_07.jpg)'
- en: Figure 12.7 – Add new on-call team from within Toolchain
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.7 – 从工具链中添加新的值班团队
- en: Select **Opsgenie** and click on **Add** **to project**.
  id: totrans-48
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**Opsgenie**并点击**添加** **到项目**。
- en: '![Figure 12.8 – Select Opsgenie as an on-call team provider](img/B21937_12_08.jpg)'
  id: totrans-49
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.8 – 选择 Opsgenie 作为值班团队提供者](img/B21937_12_08.jpg)'
- en: Figure 12.8 – Select Opsgenie as an on-call team provider
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.8 – 选择 Opsgenie 作为值班团队提供者
- en: Create or search for a team.
  id: totrans-51
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建或搜索一个团队。
- en: '![Figure 12.9 – Add an on-call team](img/B21937_12_09.jpg)'
  id: totrans-52
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.9 – 添加一个值班团队](img/B21937_12_09.jpg)'
- en: Figure 12.9 – Add an on-call team
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.9 – 添加一个值班团队
- en: Type in the name of your team and click on the green circle to create the team.
  id: totrans-54
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入你的团队名称并点击绿色圆圈以创建团队。
- en: '![Figure 12.10 – Select the team to add](img/B21937_12_10.jpg)'
  id: totrans-55
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.10 – 选择要添加的团队](img/B21937_12_10.jpg)'
- en: Figure 12.10 – Select the team to add
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.10 – 选择要添加的团队
- en: Click on the **Add** **team** button.
  id: totrans-57
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**添加** **团队**按钮。
- en: '![Figure 12.11 – Add an on-call team](img/B21937_12_11.jpg)'
  id: totrans-58
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.11 – 添加一个值班团队](img/B21937_12_11.jpg)'
- en: Figure 12.11 – Add an on-call team
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.11 – 添加一个值班团队
- en: Back in your Jira **Project settings**, click on **Features**.
  id: totrans-60
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 返回到你的 Jira **项目设置**，点击**功能**。
- en: '![Figure 12.12 – Select Features from within the Jira project](img/B21937_12_12.jpg)'
  id: totrans-61
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.12 – 从 Jira 项目中选择功能](img/B21937_12_12.jpg)'
- en: Figure 12.12 – Select Features from within the Jira project
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.12 – 从 Jira 项目中选择功能
- en: Under **Operations**, find the **On-call** section and make sure the slider
    is green.
  id: totrans-63
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**操作**下，找到**值班**部分，并确保滑块是绿色的。
- en: '![Figure 12.13 – Enable On-call from within the Jira project features](img/B21937_12_13.jpg)'
  id: totrans-64
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.13 – 从 Jira 项目功能中启用值班](img/B21937_12_13.jpg)'
- en: Figure 12.13 – Enable On-call from within the Jira project features
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.13 – 从 Jira 项目功能中启用值班
- en: You should now be able to access your on-call schedule and have a link to jump
    into Opsgenie from your main Jira project. In your Jira project, you’ll have an
    **On-call** section and a link that says **View** **in Opsgenie**.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，您应该能够访问您的值班安排，并且可以从您的主要 Jira 项目中跳转到 Opsgenie。在您的 Jira 项目中，您将看到一个**值班**部分和一个写着**在
    Opsgenie 中查看**的链接。
- en: '![Figure 12.14 – On-call view from within the Jira project](img/B21937_12_14.jpg)'
  id: totrans-67
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.14 – 从 Jira 项目中查看值班视图](img/B21937_12_14.jpg)'
- en: Figure 12.14 – On-call view from within the Jira project
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.14 – 从 Jira 项目中查看值班视图
- en: Opsgenie is now connected with Jira and your team is now ready to start managing
    alerts and viewing on-call schedules from within Jira.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，Opsgenie 已与 Jira 连接，您的团队已准备好开始在 Jira 中管理警报并查看值班安排。
- en: Setting up on-call schedules
  id: totrans-70
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 设置值班安排
- en: Once your team has been created and your team members have been added, it is
    time to add an **on-call schedule**. The on-call schedule allows your team to
    divide responsibility with respect to making sure that your components and software
    always has coverage. If something goes wrong with a production environment, the
    on-call schedule will know who to notify based on the time of the incident and
    the team member assigned to that block of time.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦您的团队创建完成，并且团队成员已被添加，就可以添加**值班安排**了。值班安排可以让您的团队分担责任，确保您的组件和软件始终有覆盖。如果生产环境出现问题，值班安排将根据事件发生的时间和分配到该时间段的团队成员，知道通知谁。
- en: How to do it
  id: totrans-72
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作
- en: 'An on-call schedule in Opsgenie lets your team stay organized and distribute
    the responsibility for managing and ensuring that critical components are operational.
    The following steps will show you how to configure your team’s on-call schedule:'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: Opsgenie 中的值班安排让您的团队保持组织性，并分配管理和确保关键组件正常运行的责任。以下步骤将向您展示如何配置团队的值班安排：
- en: In Opsgenie, click on **Teams** in the navigation bar and then click on the
    team for which you want to create an on-call schedule.
  id: totrans-74
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 Opsgenie 中，点击导航栏中的**团队**，然后点击您想为其创建值班安排的团队。
- en: '![Figure 12.15 – Select Opsgenie team](img/B21937_12_15.jpg)'
  id: totrans-75
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.15 – 选择 Opsgenie 团队](img/B21937_12_15.jpg)'
- en: Figure 12.15 – Select Opsgenie team
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.15 – 选择 Opsgenie 团队
- en: Once you are in the team dashboard, click on the **On-call** button. This will
    present you with a few different options. For now, scroll all the way down and
    find the **On-call** section.
  id: totrans-77
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦进入团队仪表板，点击**值班**按钮。此时，您将看到几个不同的选项。现在，向下滚动，找到**值班**部分。
- en: '![Figure 12.16 – Team On-call schedule](img/B21937_12_16.jpg)'
  id: totrans-78
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.16 – 团队值班安排](img/B21937_12_16.jpg)'
- en: Figure 12.16 – Team On-call schedule
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.16 – 团队值班安排
- en: Important note
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: '**Rotations** dictate who in your team will be on call for that specific time
    period. There should already be an existing rotation visible. We are going to
    edit this existing rotation. Optionally, you have the option to create additional
    rotations. Adding a new rotation can complicate things, so it is recommended that
    you stick to a single rotation while your team gets used to being on-call. Most
    software teams are not used to being on-call, so this may be a bit of a learning
    curve. Try to keep your rotations as simple as possible while your team is starting
    out. Opsgenie will be able to scale and grow with your team as you get better
    and more used to doing rotations. As a best practice, a teammate should be assigned
    at least a 1 full week as part of their rotation.'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: '**轮班**决定了在特定时间段内，您的团队中谁将值班。应该已经可以看到一个现有的轮班。我们将编辑这个现有的轮班。您还可以选择创建额外的轮班。添加新轮班可能会使事情变得复杂，因此建议在您的团队熟悉值班时，保持单一轮班。大多数软件团队不习惯值班，所以这可能会有一些学习曲线。尽量在团队开始时保持轮班简单。随着您的团队变得更加熟练和适应轮班，Opsgenie
    将能够随您的团队一起扩展和成长。作为最佳实践，建议将至少一周的完整时间分配给每个团队成员作为其轮班的一部分。'
- en: Edit the existing rotation by clicking on the pencil icon button under the **Rotations**
    heading.
  id: totrans-82
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**轮班**标题下的铅笔图标按钮，编辑现有的轮班。
- en: '![Figure 12.17 – Edit existing on-call rotation](img/B21937_12_17.jpg)'
  id: totrans-83
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.17 – 编辑现有值班轮班](img/B21937_12_17.jpg)'
- en: Figure 12.17 – Edit existing on-call rotation
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.17 – 编辑现有值班轮班
- en: Start by changing the rotation name to anything that makes more sense for you
    and your team.
  id: totrans-85
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，将轮班名称更改为更符合您和您的团队需求的名称。
- en: '![Figure 12.18 – Edit rotation name](img/B21937_12_18.jpg)'
  id: totrans-86
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.18 – 编辑轮班名称](img/B21937_12_18.jpg)'
- en: Figure 12.18 – Edit rotation name
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.18 – 编辑轮班名称
- en: From there, under **Participants**, there is a search box. There, type in the
    names of your team members to add them as participants of this rotation.
  id: totrans-88
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在此，点击**参与者**，会出现一个搜索框。在这里，输入团队成员的名字，将他们添加为该轮班的参与者。
- en: '![Figure 12.19 – Add team members as participants](img/B21937_12_19.jpg)'
  id: totrans-89
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.19 – 将团队成员添加为参与者](img/B21937_12_19.jpg)'
- en: Figure 12.19 – Add team members as participants
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.19 – 将团队成员添加为参与者
- en: Next, set your **Rotation type** option. As mentioned earlier, it is recommended
    you do a weekly rotation. You have the option to do **daily**, **weekly**, or
    a **custom** rotations.
  id: totrans-91
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，设置您的**轮班类型**选项。如前所述，建议您设置每周轮班。您可以选择**每日**、**每周**或**自定义**轮班。
- en: '![Figure 12.20 – Select rotation type](img/B21937_12_20.jpg)'
  id: totrans-92
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.20 – 选择轮班类型](img/B21937_12_20.jpg)'
- en: Figure 12.20 – Select rotation type
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.20 – 选择轮班类型
- en: After that, you will set the start date for your rotation. Optionally, you can
    set when the rotation is going to end. Most teams will have a rotation that lives
    on forever.
  id: totrans-94
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 之后，您将设置轮班的开始日期。您还可以选择设置轮班结束时间。大多数团队的轮班会是长期的，几乎没有结束日期。
- en: '![Figure 12.21 – Select rotation start date](img/B21937_12_21.jpg)'
  id: totrans-95
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.21 – 选择轮班开始日期](img/B21937_12_21.jpg)'
- en: Figure 12.21 – Select rotation start date
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.21 – 选择轮班开始日期
- en: 'Once you fill all of that information out, Opsgenie will create your schedule:'
  id: totrans-97
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 填写完所有信息后，Opsgenie 将创建您的值班计划：
- en: '![Figure 12.22 – Updated rotation on-call schedule](img/B21937_12_22.jpg)'
  id: totrans-98
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.22 – 更新后的轮班值班计划](img/B21937_12_22.jpg)'
- en: Figure 12.22 – Updated rotation on-call schedule
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.22 – 更新后的轮班值班计划
- en: Click on the **Add** button and your on-call schedule will be set.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 点击**添加**按钮，您的值班计划将被设置。
- en: Important note
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: At this point, you can make additional on-call schedules for weekends, holidays,
    and pre-planned days off. Whatever your team may need, Opsgenie is flexible enough
    and you will be able to put your team’s schedule in Opsgenie to ensure that escalation
    policies and routing rules in the next recipe work effectively.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一点上，您可以为周末、节假日以及预定的休假日设置额外的值班计划。无论您的团队需要什么，Opsgenie 都足够灵活，您可以将团队的计划输入到 Opsgenie
    中，以确保下一步的升级策略和路由规则能够有效工作。
- en: Your on-call schedule is now created. Whenever it is someone’s turn to be on
    call, they will receive a notification from Opsgenie to start their rotation.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 您的值班计划现已创建。每当轮到某人值班时，他们会收到 Opsgenie 的通知，开始轮班。
- en: Configuring escalation policies and rules
  id: totrans-104
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 配置升级策略和规则
- en: Once your on-call schedule has been configured, it is time to configure the
    escalation policies and routing rules. Opsgenie uses the **escalation policies**,
    **routing rules**, and the **on-call schedule** from the previous recipe to determine
    who will be alerted when an incident occurs.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦您的值班计划配置完成，就该配置升级策略和路由规则了。Opsgenie 使用来自上一步的**升级策略**、**路由规则**和**值班计划**来确定在发生事件时，谁会收到通知。
- en: Important note
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: It’s important to get the escalation policies and routing rules correct otherwise
    you risk sending the alert to the wrong team. The escalation policy you configure
    will determine which users are notified when an alert occurs. Most importantly,
    the escalation policy determines the order of which users get notified and when
    based on how much time has elapsed since the alert was created. If your team doesn’t
    reply, the next person in the chain gets notified until someone does something
    to resolve the alert/incident. The routing policy will determine how the notification
    gets routed when an alert occurs. There are a few different options available
    to you which will be explored in more detail in this recipe.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 正确配置升级策略和路由规则非常重要，否则您可能会把警报发送给错误的团队。您配置的升级策略将决定发生警报时哪些用户会收到通知。最重要的是，升级策略决定了用户接收到通知的顺序和时间，依据警报创建后的时间间隔。如果您的团队没有回复，链条中的下一个人会收到通知，直到有人采取行动解决警报/事件。路由策略将决定警报发生时通知如何传递。您有一些不同的选项，接下来的步骤将详细探讨这些选项。
- en: How to do it
  id: totrans-108
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作
- en: By default, you should already have an escalation policy created in Opsgenie.
    Similar to creating the on-call schedule, you have the option to modify the existing
    escalation policy, or you can add additional escalation policies.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，您应该已经在 Opsgenie 中创建了一个升级策略。与创建值班计划类似，您可以选择修改现有的升级策略，或者添加额外的升级策略。
- en: 'The escalation policy determines who gets notified of any alerts in Opsgenie
    when something goes wrong. Let’s configure your first escalation policy:'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 升级策略决定了当出现问题时，Opsgenie 中谁会收到警报通知。让我们配置你的第一个升级策略：
- en: Select your team from Opsgenie.
  id: totrans-111
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从 Opsgenie 中选择你的团队。
- en: '![Figure 12.23 – Selected team to configure escalation policy](img/B21937_12_23.jpg)'
  id: totrans-112
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.23 – 选择的团队来配置升级策略](img/B21937_12_23.jpg)'
- en: Figure 12.23 – Selected team to configure escalation policy
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.23 – 选择的团队来配置升级策略
- en: Start by hovering over the existing escalation policy and you will see the **Edit**
    button reveal itself.
  id: totrans-114
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，将鼠标悬停在现有的升级策略上，你将看到**编辑**按钮显示出来。
- en: '![Figure 12.24 – Edit existing escalation policy](img/B21937_12_24.jpg)'
  id: totrans-115
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.24 – 编辑现有升级策略](img/B21937_12_24.jpg)'
- en: Figure 12.24 – Edit existing escalation policy
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.24 – 编辑现有升级策略
- en: Clicking on the **Edit** button will pull up a menu that allows you to configure
    your escalation.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 点击**编辑**按钮将弹出一个菜单，允许你配置升级策略。
- en: '![Figure 12.25 – Escalation policies that can be configured](img/B21937_12_25.jpg)'
  id: totrans-118
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.25 – 可以配置的升级策略](img/B21937_12_25.jpg)'
- en: Figure 12.25 – Escalation policies that can be configured
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.25 – 可以配置的升级策略
- en: The first item to change is the `escalation`. Feel free to change it to whatever
    you want.
  id: totrans-120
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 第一个需要更改的项是`升级`。可以随意更改为你想要的内容。
- en: '![Figure 12.26 – Updated escalation name](img/B21937_12_26.jpg)'
  id: totrans-121
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.26 – 更新后的升级名称](img/B21937_12_26.jpg)'
- en: Figure 12.26 – Updated escalation name
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.26 – 更新后的升级名称
- en: Next, you can optionally provide a **Description** text to help your team have
    a better understanding of what the purpose of this specific escalation policy
    is.
  id: totrans-123
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，你可以选择性地提供一个**描述**文本，帮助你的团队更好地理解这个特定升级策略的目的。
- en: '![Figure 12.27 – Updated escalation description](img/B21937_12_27.jpg)'
  id: totrans-124
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.27 – 更新后的升级描述](img/B21937_12_27.jpg)'
- en: Figure 12.27 – Updated escalation description
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.27 – 更新后的升级描述
- en: Finally, you can modify the existing rules or add additional rules.
  id: totrans-126
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，你可以修改现有规则或添加额外规则。
- en: '![Figure 12.28 – Updated escalation rules](img/B21937_12_28.jpg)'
  id: totrans-127
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.28 – 更新后的升级规则](img/B21937_12_28.jpg)'
- en: Figure 12.28 – Updated escalation rules
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.28 – 更新后的升级规则
- en: Important note
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: By default, the escalation policy will immediately notify all the members of
    your on-call schedule as soon as an alert is created, and it is not acknowledged
    right away. Then, after 10 minutes, if no one from the on-call schedule has acknowledged
    the alert, a notification is sent to all the members of your team. This will include
    all the members not currently on the on-call rotation.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，一旦创建警报并且未立即确认，升级策略将立即通知你的值班人员。然后，如果在 10 分钟内，值班人员未确认该警报，将向团队中的所有成员发送通知。包括所有当前不在值班轮换中的成员。
- en: If you need to escalate things even further, you can add additional rules.
  id: totrans-131
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果你需要进一步升级，可以添加额外的规则。
- en: '![Figure 12.29 – Additional escalation rules](img/B21937_12_29.jpg)'
  id: totrans-132
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.29 – 额外的升级规则](img/B21937_12_29.jpg)'
- en: Figure 12.29 – Additional escalation rules
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.29 – 额外的升级规则
- en: When adding an additional rule, you first need to determine whether the escalation
    policy will escalate when an alert is not acknowledged or not closed.
  id: totrans-134
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在添加额外规则时，首先需要确定当警报未被确认或未关闭时，升级策略是否会进行升级。
- en: '![Figure 12.30 – Determine when rule is triggered](img/B21937_12_30.jpg)'
  id: totrans-135
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.30 – 确定规则何时触发](img/B21937_12_30.jpg)'
- en: Figure 12.30 – Determine when rule is triggered
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.30 – 确定规则何时触发
- en: Once you make that decision, then you pick how much time can elapse after the
    alert is created.
  id: totrans-137
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦做出决定，接下来选择警报创建后能经过多少时间。
- en: '![Figure 12.31 – Determine how long after trigger alert should wait](img/B21937_12_31.jpg)'
  id: totrans-138
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.31 – 确定触发警报后应等待多长时间](img/B21937_12_31.jpg)'
- en: Figure 12.31 – Determine how long after trigger alert should wait
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.31 – 确定触发警报后应等待多长时间
- en: Next, pick who will receive the notification of the escalation. You have quite
    a few options and just keep in mind that as time elapses, you want to increase
    the visibility of the alert to the appropriate people that can then take action
    to address the alert.
  id: totrans-140
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，选择谁将接收到升级通知。你有很多选择，只要记住，随着时间的推移，你需要将警报的可见性提高到适当的人员，以便他们能够采取行动解决警报。
- en: '![Figure 12.32 – Select who should get notified of the alert](img/B21937_12_32.jpg)'
  id: totrans-141
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.32 – 选择谁应收到警报通知](img/B21937_12_32.jpg)'
- en: Figure 12.32 – Select who should get notified of the alert
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.32 – 选择谁应收到警报通知
- en: Finally, pick a specific team or user to receive the notification. The teams
    available will be determined by the previous recipe.
  id: totrans-143
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，选择一个特定的团队或用户来接收通知。可用的团队将由前一个步骤决定。
- en: '![Figure 12.33 – Select the team that will receive the alert](img/B21937_12_33.jpg)'
  id: totrans-144
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.33 – 选择接收警报的团队](img/B21937_12_33.jpg)'
- en: Figure 12.33 – Select the team that will receive the alert
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.33 – 选择接收警报的团队
- en: When you are finished making the escalation rule, click on **Save**.
  id: totrans-146
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 完成升级规则设置后，点击**保存**。
- en: '![Figure 12.34 – Save escalation rule](img/B21937_12_34.jpg)'
  id: totrans-147
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.34 – 保存升级规则](img/B21937_12_34.jpg)'
- en: Figure 12.34 – Save escalation rule
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.34 – 保存升级规则
- en: There’s more
  id: totrans-149
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多内容
- en: Now that the escalation policy exists, it is time to work on the routing rules.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 既然升级策略已经存在，现在是时候处理路由规则了。
- en: Routing rules
  id: totrans-151
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 路由规则
- en: 'Like with the escalation policy, each team should have a default routing rule
    in place. Routing rules are quite simple, and you can either modify the existing
    routing rule or add a new routing rule altogether. Let us use the following steps:'
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 与升级策略类似，每个团队应该都有一个默认的路由规则。路由规则非常简单，你可以修改现有的路由规则，或者完全添加一个新的路由规则。以下是步骤：
- en: Back in Opsgenie, under the **On-call** section, we are going to modify the
    default routing rule.
  id: totrans-153
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 返回到 Opsgenie，在**值班**部分，我们将修改默认的路由规则。
- en: '![Figure 12.35 – Routing rule configuration](img/B21937_12_35.jpg)'
  id: totrans-154
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.35 – 路由规则配置](img/B21937_12_35.jpg)'
- en: Figure 12.35 – Routing rule configuration
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.35 – 路由规则配置
- en: Important note
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 重要说明
- en: You have three main options when it comes to setting up your routing rules.
    You can route the alert to no one, you can route it to your escalation policy,
    or you can route it directly to your on-call team.
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 设置路由规则时，你有三个主要选择。你可以选择不路由警报、将其路由到升级策略，或者直接将其路由到你的值班团队。
- en: Click on the existing routing rule and then you will be able to select which
    type of route you want to route your alerts to. The following screenshot shows
    the options that are available.
  id: totrans-158
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击现有的路由规则，然后你将能够选择要将警报路由到哪种类型的路径。以下截图展示了可用的选项。
- en: '![Figure 12.36 – Select escalation routing rule](img/B21937_12_36.jpg)'
  id: totrans-159
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.36 – 选择升级路由规则](img/B21937_12_36.jpg)'
- en: Figure 12.36 – Select escalation routing rule
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.36 – 选择升级路由规则
- en: 'Alternatively, you can create a new routing rule if you do not want to use
    the default one that Opsgenie provides. Creating a routing rule presents you with
    a few more options when compared to creating an escalation rule. The following
    steps will explain how to configure a routing rule:'
  id: totrans-161
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 或者，如果你不想使用 Opsgenie 提供的默认规则，你可以创建一个新的路由规则。与创建升级规则相比，创建路由规则时会有更多选择。以下步骤将说明如何配置路由规则：
- en: To get started, click on **Add routing rule** in the top-right corner.
  id: totrans-162
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要开始，点击右上角的**添加路由规则**。
- en: '![Figure 12.37 – Add a new routing rule](img/B21937_12_37.jpg)'
  id: totrans-163
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.37 – 添加新路由规则](img/B21937_12_37.jpg)'
- en: Figure 12.37 – Add a new routing rule
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.37 – 添加新路由规则
- en: After you click on the **Add routing rule** button, you’ll be prompted to provide
    a name for your routing rule.
  id: totrans-165
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**添加路由规则**按钮后，系统会提示你为路由规则提供一个名称。
- en: '![Figure 12.38 – Provide the routing rule a name](img/B21937_12_38.jpg)'
  id: totrans-166
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.38 – 为路由规则提供名称](img/B21937_12_38.jpg)'
- en: Figure 12.38 – Provide the routing rule a name
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.38 – 为路由规则提供名称
- en: Next, you’ll pick when the routing rule goes into effect. You can pick from
    **Match all alerts**, which means that for any alert, the routing rule will go
    into effect (default). Alternatively, you can make your routing rule trigger based
    on the condition of the alert.
  id: totrans-168
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，你需要选择路由规则何时生效。你可以选择**匹配所有警报**，这意味着对于任何警报，路由规则都会生效（默认设置）。另外，你还可以根据警报的条件来触发路由规则。
- en: '![Figure 12.39 – Select what conditions trigger the routing rule](img/B21937_12_39.jpg)'
  id: totrans-169
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.39 – 选择触发路由规则的条件](img/B21937_12_39.jpg)'
- en: Figure 12.39 – Select what conditions trigger the routing rule
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.39 – 选择触发路由规则的条件
- en: You can create conditions based on either the alert’s priority or a tag associated
    with it. The most important takeaway here is that you can make the routing rule
    go into effect if an alert with a specific priority is received.
  id: totrans-171
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你可以根据警报的优先级或与警报相关的标签创建条件。最重要的一点是，你可以让路由规则在接收到特定优先级的警报时生效。
- en: '![Figure 12.40 – Determine conditions for the routing rule](img/B21937_12_40.jpg)'
  id: totrans-172
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.40 – 确定路由规则的条件](img/B21937_12_40.jpg)'
- en: Figure 12.40 – Determine conditions for the routing rule
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.40 – 确定路由规则的条件
- en: Once you set up your conditions, then the final step is to determine the action
    that is going be triggered by the automation rule.
  id: totrans-174
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦设置好条件，最后一步就是确定由自动化规则触发的操作。
- en: '![Figure 12.41 – Determine the action the routing rule will take](img/B21937_12_41.jpg)'
  id: totrans-175
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.41 – 确定路由规则将采取的操作](img/B21937_12_41.jpg)'
- en: Figure 12.41 – Determine the action the routing rule will take
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.41 – 确定路由规则将采取的操作
- en: Once you pick the route, simply click on the **Add** button to finish creating
    your new routing rule.
  id: totrans-177
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦选择路由，只需点击**Add**按钮完成创建新的路由规则。
- en: '![Figure 12.42 – Add the new routing rule](img/B21937_12_42.jpg)'
  id: totrans-178
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.42 – 添加新的路由规则](img/B21937_12_42.jpg)'
- en: Figure 12.42 – Add the new routing rule
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.42 – 添加新的路由规则
- en: Now that your escalation and routing rules are configured, it is time to manage
    the notifications that are sent out from Opsgenie.
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你的升级和路由规则已经配置好，是时候管理从Opsgenie发送的通知了。
- en: Escalation and notifications configuration
  id: totrans-181
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 升级和通知配置
- en: When an incident occurs in a production environment, an alert can be raised
    in Opsgenie. You do this by opening Opsgenie and creating an alert directly from
    within Opsgenie. When Opsgenie is bundled with Jira Service Management, the creation
    of an alert can happen from within a support request. However, since Jira Service
    Management is not part of the Open DevOps package, an alert must be manually created
    in Opsgenie.
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 当生产环境中发生事故时，可以在 Opsgenie 中发出警报。你可以通过在 Opsgenie 中直接创建警报来完成这一操作。当 Opsgenie 与 Jira
    服务管理捆绑在一起时，可以从支持请求中创建警报。然而，由于 Jira 服务管理不是开放 DevOps 套件的一部分，必须在 Opsgenie 中手动创建警报。
- en: How to do it
  id: totrans-183
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作
- en: 'Let’s use the following steps to create an alert:'
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们按照以下步骤创建警报：
- en: To create an alert, click on **Alerts** in the navigation bar within Opsgenie.
  id: totrans-185
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要创建警报，请在Opsgenie导航栏中点击**Alerts**。
- en: '![Figure 12.43 – Select Alerts from the Opsgenie menu](img/B21937_12_43.jpg)'
  id: totrans-186
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.43 – 从 Opsgenie 菜单中选择 Alerts](img/B21937_12_43.jpg)'
- en: Figure 12.43 – Select Alerts from the Opsgenie menu
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.43 – 从 Opsgenie 菜单中选择 Alerts
- en: Once you are in the **Alerts** section, click on the **Create** **alert** button.
  id: totrans-188
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦进入**Alerts**部分，请点击**Create** **alert**按钮。
- en: '![Figure 12.44 – Create an alert in Opsgenie](img/B21937_12_44.jpg)'
  id: totrans-189
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.44 – 在 Opsgenie 中创建警报](img/B21937_12_44.jpg)'
- en: Figure 12.44 – Create an alert in Opsgenie
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.44 – 在 Opsgenie 中创建警报
- en: Fill out the information for the alert.
  id: totrans-191
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 填写警报的信息。
- en: '![Figure 12.45 – Alert creation information](img/B21937_12_45.jpg)'
  id: totrans-192
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.45 – 警报创建信息](img/B21937_12_45.jpg)'
- en: Figure 12.45 – Alert creation information
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.45 – 警报创建信息
- en: Select the API integration you would like to utilize for this alert. **Default
    API** is recommended for beginners and is the only option if you are in the free
    version of Opsgenie.
  id: totrans-194
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择要用于此警报的 API 集成。对于初学者，建议使用**Default API**，如果你使用的是 Opsgenie 的免费版本，则只有这个选项可用。
- en: '![Figure 12.46 – Alert API selection](img/B21937_12_46.jpg)'
  id: totrans-195
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.46 – 警报 API 选择](img/B21937_12_46.jpg)'
- en: Figure 12.46 – Alert API selection
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.46 – 警报 API 选择
- en: Enter the **Alert message** that should go out. This box has a 130-character
    limit.
  id: totrans-197
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入应发送的**Alert message**。此框有130字符限制。
- en: '![Figure 12.47 – Alert message](img/B21937_12_47.jpg)'
  id: totrans-198
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.47 – 警报消息](img/B21937_12_47.jpg)'
- en: Figure 12.47 – Alert message
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.47 – 警报消息
- en: Select the priority of the alert. Depending on the escalation rules you created,
    this alert will impact/trigger that escalation rule.
  id: totrans-200
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择警报的优先级。根据你创建的升级规则，此警报将影响/触发该升级规则。
- en: '![Figure 12.48 – Alert priority](img/B21937_12_48.jpg)'
  id: totrans-201
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.48 – 警报优先级](img/B21937_12_48.jpg)'
- en: Figure 12.48 – Alert priority
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.48 – 警报优先级
- en: If you know who the responders of the alert should be, fill that out. Otherwise,
    the routing rules will figure out who should be notified based on the values you
    configured in your routing rule configuration.
  id: totrans-203
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果你知道警报响应者是谁，请填写。否则，路由规则将根据你在路由规则配置中配置的值确定应通知谁。
- en: '![Figure 12.49 – Alert responders](img/B21937_12_49.jpg)'
  id: totrans-204
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.49 – 警报响应者](img/B21937_12_49.jpg)'
- en: Figure 12.49 – Alert responders
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.49 – 警报响应者
- en: You can leverage **Tags** if your routing rules are configured to take advantage
    of tags instead of priority.
  id: totrans-206
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果你的路由规则配置为利用标签而不是优先级，你可以利用**Tags**。
- en: '![Figure 12.50 – Alert responders](img/B21937_12_50.jpg)'
  id: totrans-207
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.50 – 警报响应者](img/B21937_12_50.jpg)'
- en: Figure 12.50 – Alert responders
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.50 – 警报响应者
- en: Finally, click on **Create** to create the alert.
  id: totrans-209
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，点击**Create**创建警报。
- en: '![Figure 12.51 – Complete alert example](img/B21937_12_51.jpg)'
  id: totrans-210
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.51 – 完整的警报示例](img/B21937_12_51.jpg)'
- en: Figure 12.51 – Complete alert example
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.51 – 完整的警报示例
- en: The alert will now be visible in the **Alerts** section.
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: 警报现在将显示在**警报**部分。
- en: '![Figure 12.52 – View of available alerts](img/B21937_12_52.jpg)'
  id: totrans-213
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.52 – 可用警报的视图](img/B21937_12_52.jpg)'
- en: Figure 12.52 – View of available alerts
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.52 – 可用警报的视图
- en: Important note
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: Based on your routing rules and escalation policy, each alert will trigger the
    appropriate notifications so that your team can triage and fix the problem that
    triggered the alert.
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 根据你的路由规则和升级策略，每个警报都会触发适当的通知，确保你的团队能够对触发警报的问题进行处理和修复。
- en: Once the alert has been acknowledged, the notifications will stop going out.
    This means that your team has addressed the problem or has determined that an
    incident has occurred and the alert needs to be escalated to an incident.
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦警报被确认，通知将停止发送。这意味着你的团队已经解决了问题，或者已经确定发生了事故，并且该警报需要升级为一个事件。
- en: If you click on the alert, you’ll be able to see all the automatic notifications
    that were sent out for the alert.
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你点击警报，你将能够查看所有与该警报相关的自动发送的通知。
- en: '![Figure 12.53 – Alert history](img/B21937_12_53.jpg)'
  id: totrans-219
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.53 – 警报历史](img/B21937_12_53.jpg)'
- en: Figure 12.53 – Alert history
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.53 – 警报历史
- en: Alerts are critical to ensure your team is notified of critical events and know
    when they need to engage to fix a problem. Make sure you refine your alerts as
    your ecosystem changes to ensure your team is appropriately notified of problems
    when they first occur.
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: 警报对于确保你的团队能够及时了解关键事件并知道何时需要介入修复问题至关重要。随着你的生态系统变化，确保不断优化警报设置，确保在问题刚发生时你的团队能够得到适当的通知。
- en: Improving team communication and response with ChatOps
  id: totrans-222
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 通过 ChatOps 改善团队沟通和响应
- en: When issues arise, your team needs to communicate quickly. In the digital age,
    relying on emails is not going to cut it when seconds matter. The best way for
    teams to engage is with instant communication. Most teams today already utilize
    popular communication tools such as Slack and Microsoft Teams. Opsgenie integrates
    with both of those tools, which then allow your teams to quickly communicate when
    an alert or incident occurs.
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: 当问题出现时，你的团队需要迅速沟通。在数字时代，依赖电子邮件已经无法满足需求，尤其是在每一秒都至关重要的时候。团队之间的即时沟通是最有效的方式。如今，大多数团队已经在使用像
    Slack 和 Microsoft Teams 这样的流行通信工具。Opsgenie 与这两个工具都可以集成，从而让你的团队在警报或事件发生时迅速进行沟通。
- en: While Opsgenie integrates with a variety of instant messaging tools, this recipe
    is going to focus on getting Opsgenie integrated with Slack. Integrating with
    Slack not only allows your team to communicate quicker, but also enables your
    team to get alert information, on-call schedules, and so much more from within
    the Slack interface.
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然 Opsgenie 可以与多种即时消息工具进行集成，但此篇将重点介绍如何将 Opsgenie 与 Slack 集成。与 Slack 集成不仅可以让你的团队更快地沟通，还能让你的团队通过
    Slack 界面获取警报信息、值班安排等更多内容。
- en: How to do it
  id: totrans-225
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作
- en: 'Integrating Opsgenie with Slack is straightforward. The following steps will
    walk you through everything you need to know to get this integration configured:'
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: 将 Opsgenie 与 Slack 集成非常简单。以下步骤将指导你完成配置此集成所需了解的一切：
- en: To initiate the integration with Slack, start by going to the **Teams** section
    within Opsgenie and then select your team.
  id: totrans-227
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要启动与 Slack 的集成，请首先进入 Opsgenie 中的**团队**部分，然后选择你的团队。
- en: '![Figure 12.54 – Available teams in Opsgenie](img/B21937_12_54.jpg)'
  id: totrans-228
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.54 – Opsgenie 中可用的团队](img/B21937_12_54.jpg)'
- en: Figure 12.54 – Available teams in Opsgenie
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.54 – Opsgenie 中可用的团队
- en: Once you are in your team dashboard, click on **Integrations** on the left-hand
    side.
  id: totrans-230
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 进入团队仪表板后，点击左侧的**集成**。
- en: '![Figure 12.55 – Select integrations for your selected team](img/B21937_12_55.jpg)'
  id: totrans-231
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.55 – 为你的选择的团队选择集成](img/B21937_12_55.jpg)'
- en: Figure 12.55 – Select integrations for your selected team
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.55 – 为你的选择的团队选择集成
- en: Important note
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: Please note that if you are on the free version of Opsgenie, this is the only
    way to integrate with Slack. There is a different method through Opsgenie’s settings
    page, but that is only possible for teams that are paying for Opsgenie.
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，如果你使用的是 Opsgenie 的免费版本，集成 Slack 的唯一方式就是此方法。虽然通过 Opsgenie 的设置页面还有另一种集成方法，但该方法仅适用于付费使用
    Opsgenie 的团队。
- en: Click on **Add integration** to get started.
  id: totrans-235
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**添加集成**以开始。
- en: '![Figure 12.56 – Select Add integration to get started](img/B21937_12_56.jpg)'
  id: totrans-236
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.56 – 选择“添加集成”以开始](img/B21937_12_56.jpg)'
- en: Figure 12.56 – Select Add integration to get started
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.56 – 选择“添加集成”以开始
- en: Select **Slack**.
  id: totrans-238
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**Slack**。
- en: '![Figure 12.57 – Available Opsgenie integrations](img/B21937_12_57.jpg)'
  id: totrans-239
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.57 – 可用的 Opsgenie 集成](img/B21937_12_57.jpg)'
- en: Figure 12.57 – Available Opsgenie integrations
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.57 – 可用的 Opsgenie 集成
- en: Follow the instructions displayed. You will need to have a channel ready on
    Slack before you continue.
  id: totrans-241
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 按照显示的说明操作。在继续之前，你需要准备一个 Slack 频道。
- en: '![Figure 12.58 – Slack integration with Opsgenie instructions](img/B21937_12_58.jpg)'
  id: totrans-242
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.58 – Slack 与 Opsgenie 集成说明](img/B21937_12_58.jpg)'
- en: Figure 12.58 – Slack integration with Opsgenie instructions
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.58 – Slack 与 Opsgenie 集成说明
- en: After you pick your channel in Slack, confirm the settings that you want enabled
    in Opsgenie. Once you have selected the options that you are satisfied with, click
    on **Save integration**.
  id: totrans-244
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 Slack 中选择频道后，确认你希望在 Opsgenie 中启用的设置。选定满意的选项后，点击**保存集成**。
- en: '![Figure 12.59 – Select configurations for Slack integration](img/B21937_12_59.jpg)'
  id: totrans-245
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.59 – 选择 Slack 集成的配置](img/B21937_12_59.jpg)'
- en: Figure 12.59 – Select configurations for Slack integration
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.59 – 选择 Slack 集成的配置
- en: Once the integration is configured, you can test the configuration by going
    to Slack and then typing in the `/``genie` command.
  id: totrans-247
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 配置完集成后，你可以通过进入 Slack 并输入`/genie`命令来测试配置。
- en: '![Figure 12.60 – Slack and Opsgenie integration within the Slack UI](img/B21937_12_60.jpg)'
  id: totrans-248
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.60 – Slack 和 Opsgenie 在 Slack UI 中的集成](img/B21937_12_60.jpg)'
- en: Figure 12.60 – Slack and Opsgenie integration within the Slack UI
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.60 – Slack 和 Opsgenie 在 Slack UI 中的集成
- en: Finally, create a sample alert and you’ll see the alert show up in Slack. From
    within Slack, you can now address your alerts without having to disrupt your workflow
    or team communication.
  id: totrans-250
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，创建一个示例警报，你会看到警报出现在 Slack 中。在 Slack 中，你现在可以处理警报，而无需打断你的工作流程或团队沟通。
- en: '![Figure 12.61 – Opsgenie alert within Slack](img/B21937_12_61.jpg)'
  id: totrans-251
  prefs: []
  type: TYPE_IMG
  zh: '![图 12.61 – Slack 中的 Opsgenie 警报](img/B21937_12_61.jpg)'
- en: Figure 12.61 – Opsgenie alert within Slack
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12.61 – Slack 中的 Opsgenie 警报
- en: Slack is now integrated with Opsgenie and your team will now be able to receive
    Opsgenie notifications within Slack, which is very helpful since your team will
    not have to change tools.
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，Slack 已与 Opsgenie 集成，团队可以在 Slack 中接收 Opsgenie 的通知，这非常有帮助，因为团队不需要切换工具。
- en: 'Part 4: Putting It into Practice'
  id: totrans-254
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第四部分：实践应用
- en: We now take everything we’ve learned in the book so far and apply it. We go
    through a sample project where you start with an idea in Jira Product Discovery,
    create an issue in Jira, and create a branch for development in Bitbucket.
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将把书中学到的所有知识应用到实践中。我们通过一个示例项目来操作，首先在 Jira Product Discovery 中从一个想法开始，创建 Jira
    问题，并在 Bitbucket 中创建开发分支。
- en: We then perform a commit to look at the pipeline execution from testing to deployment.
    During this execution, we can see the results in both Bitbucket and Compass.
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，我们进行一次提交，查看从测试到部署的管道执行。在此执行过程中，我们可以在 Bitbucket 和 Compass 中查看结果。
- en: We conclude our journey with a look into the future, where artificial intelligence
    is already changing things. We share some final thoughts and wish you well.
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: 我们以展望未来作为结束，人工智能已经在改变许多事情。我们分享一些最后的想法，祝你好运。
- en: 'This part has the following chapters:'
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: 本部分包含以下章节：
- en: '[*Chapter 13*](B21937_13.xhtml#_idTextAnchor258)*,* *Putting It All Together
    with a Real-World Example*'
  id: totrans-259
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[*第 13 章*](B21937_13.xhtml#_idTextAnchor258)*，* *通过一个真实世界的示例将一切整合起来*'
- en: '[*Chapter 14*](B21937_14.xhtml#_idTextAnchor291)*, Appendix Key Takeaways and
    the Future of Atlassian DevOps Tools*'
  id: totrans-260
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[*第 14 章*](B21937_14.xhtml#_idTextAnchor291)*，附录 关键要点与 Atlassian DevOps 工具的未来*'
