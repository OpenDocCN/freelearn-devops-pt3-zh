- en: '[*Chapter 5*](B17124_05_Final_SK_ePub.xhtml#_idTextAnchor094): Amazon Simple
    Storage Service (S3)'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[*第 5 章*](B17124_05_Final_SK_ePub.xhtml#_idTextAnchor094): Amazon 简单存储服务（S3）'
- en: In this chapter, we look at one of the available storage services on **Amazon
    Web Services** (**AWS**). Many clients who are just starting on their cloud journey
    often consider storage services in the cloud as a stepping stone to going cloud-native
    in the long run. While storage options have become cheaper over the years, the
    fact remains that we continue to consume more and more storage with the passage
    of time. That said, it is vital that organizations also have a smart life cycle
    policy for their storage needs. Companies may be required to keep data for many
    years, and for as long as 7 to 10 years for compliance and regulatory purposes.
    However, at some point, a substantial amount of data is no longer required, and
    purging this data from the network not only makes management easier but also saves
    on cost.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 本章将介绍 **Amazon Web Services**（**AWS**）的其中一项存储服务。许多刚开始云端之旅的客户，往往将云存储服务视为长期走向云原生的垫脚石。虽然存储选项这些年来变得更为便宜，但事实依然是，随着时间的推移，我们对存储的需求不断增加。话虽如此，组织在处理存储需求时，必须制定一个智能的生命周期政策。公司可能需要根据合规性和监管要求保留数据长达
    7 到 10 年。然而，随着时间的推移，某些数据不再需要保存，从网络中清除这些数据不仅能简化管理，还能节省成本。
- en: Access to AWS storage services is extremely easy, and rather than procuring
    new storage hardware to host on-premises, it is much easier and more cost-effective
    to use the services offered by a cloud vendor such as AWS. Understandably, there
    will some types of data that need to be stored on-premises primarily because of
    latency issues, but from a security standpoint, AWS offers numerous options to
    ensure that your data is accessible only to you.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 访问 AWS 存储服务非常简单，与其购买新的存储硬件来进行本地托管，不如使用 AWS 等云供应商提供的服务，既简单又具有成本效益。当然，某些类型的数据可能需要本地存储，主要是由于延迟问题，但从安全角度来看，AWS
    提供了多种选项，确保您的数据仅对您可访问。
- en: 'AWS offers different storage options, and in this chapter, we look at one of
    its flagship products: **Amazon Simple Storage Service** (**Amazon S3**). Amazon
    S3 is an object storage solution and offers very high levels of availability,
    durability, and scalability. AWS also offers other types of storage options, which
    we look at in subsequent chapters.'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: AWS 提供不同的存储选项，本章将介绍其旗舰产品之一：**Amazon 简单存储服务**（**Amazon S3**）。Amazon S3 是一种对象存储解决方案，提供非常高的可用性、耐久性和可扩展性。AWS
    还提供其他类型的存储选项，我们将在后续章节中进行探讨。
- en: By the end of this chapter, you will understand the fundamentals of object storage
    on AWS and how Amazon S3 can help fulfill core storage requirements for your business
    in the cloud. You will also learn how about various features that can be used
    to manage your cloud storage, address regulatory and compliance concerns, and
    design cost-effective solutions. Finally, you will learn how to access your cloud
    storage from on-premises locations and how to migrate large datasets to the cloud.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章结束时，您将了解 AWS 对象存储的基础知识，以及 Amazon S3 如何帮助满足您企业在云端的核心存储需求。您还将学习如何使用各种功能来管理您的云存储、解决合规性和法规问题，并设计具有成本效益的解决方案。最后，您将学习如何从本地位置访问云存储，并如何将大型数据集迁移到云端。
- en: 'The topics in this chapter include the following:'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 本章的主题包括以下内容：
- en: Introduction to storage options on AWS
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: AWS 存储选项简介
- en: Introduction to Amazon S3
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Amazon S3 简介
- en: Learning about archiving solutions with Amazon S3 Glacier
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 了解 Amazon S3 Glacier 的归档解决方案
- en: Connecting your on-premises storage to AWS with Amazon Storage Gateway
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 Amazon Storage Gateway 将您的本地存储连接到 AWS
- en: Migrating large datasets to AWS with the Amazon Snow Family
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 Amazon Snow Family 将大型数据集迁移到 AWS
- en: Exercise 5.1—Setting up an Amazon S3 bucket
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 练习 5.1—设置一个 Amazon S3 存储桶
- en: Exercise 5.2—Configuring public access to S3 buckets
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 练习 5.2—配置 S3 存储桶的公共访问
- en: Exercise 5.3—Enabling versioning on your bucket
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 练习 5.3—启用存储桶的版本控制
- en: Exercise 5.4—Setting up static website hosting
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 练习 5.4—设置静态网站托管
- en: Technical requirements
  id: totrans-15
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 技术要求
- en: To complete the exercises in this chapter, you will need to have an AWS account
    via the AWS Management Console. You will need to be logged in as the IAM user,
    **Alice**, that you created in the last chapter.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 为了完成本章中的练习，您需要通过 AWS 管理控制台拥有一个 AWS 账户。您需要使用上章创建的 IAM 用户 **Alice** 登录。
- en: Introduction to storage options on AWS
  id: totrans-17
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: AWS 存储选项简介
- en: A storage service provides the necessary infrastructure to enable you to store
    and access data. However, different use cases require varied storage architectures
    to ensure performance, reliability, durability, and the right type of access to
    the data. There are three primary storage options available, and AWS offers services
    to cater to each of these.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 存储服务提供了必要的基础设施，帮助你存储和访问数据。然而，不同的使用场景需要不同的存储架构，以确保性能、可靠性、持久性和对数据的正确访问类型。AWS 提供了三种主要的存储选项，每一种都能满足不同的需求。
- en: Block storage
  id: totrans-19
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 块存储
- en: '**Block storage** is an architectural design that enables the storage of data
    onto media such as a hard disk, in fixed-sized chunks. Data is broken up into
    small blocks and placed on the media in these chunks, with a unique address assigned
    that forms part of its metadata. Block storage makes use of a management software
    (which can be part of the operating system) to organize the blocks of data. When
    a user tries to retrieve a file, the management software identifies the blocks
    to retrieve, reassembles the data, and presents the whole file to the user.'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: '**块存储**是一种架构设计，它将数据存储在硬盘等介质上，分成固定大小的块。数据被拆分成小块，并按这些块放置在介质上，每个块分配一个唯一的地址，作为其元数据的一部分。块存储利用管理软件（通常是操作系统的一部分）来组织这些数据块。当用户尝试检索文件时，管理软件会识别要检索的块，重新组装数据，并将整个文件呈现给用户。'
- en: On AWS, block storage options are available as **Elastic Block Store** (**EBS**).
    These can be configured as volumes attached to your **Elastic Compute Cloud**
    (**EC2**) instances and offer ultra-low latency required for high-performance
    workloads. One advantage of EBS volumes is that they are not directly attached
    to the EC2 instance you deploy, but instead are connected via high-speed network
    links. This allows you to detach an EBS volume from one EC2 instance and attach
    it to another if, for example, the first EC2 instance experiences some sort of
    failure.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 在 AWS 上，块存储选项包括**弹性块存储**（**EBS**）。这些可以配置为附加到你的**弹性计算云**（**EC2**）实例的卷，并提供高性能工作负载所需的超低延迟。EBS
    卷的一个优点是，它们并不是直接附加到你部署的 EC2 实例，而是通过高速网络连接。这使得你可以将一个 EBS 卷从一个 EC2 实例上卸载，并将其附加到另一个实例上，例如，当第一个
    EC2 实例发生故障时。
- en: Typical use cases include running and managing system files such as those used
    by your operating system, large databases, or for applications such as **enterprise
    resource planning** (**ERP**) solutions. These types of applications require very
    low-latency access to the data and generally make use of **direct-attached storage**
    (**DAS**) or **storage area networks** (**SANs**).
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 典型的使用场景包括运行和管理系统文件，例如操作系统使用的文件、大型数据库，或者像**企业资源规划**（**ERP**）解决方案这样的应用程序。这些类型的应用程序需要非常低延迟的数据访问，通常会使用**直接附加存储**（**DAS**）或**存储区域网络**（**SANs**）。
- en: File storage
  id: totrans-23
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 文件存储
- en: Another storage architectural design is **file storage**. The architecture offers
    a centralized location for your corporate data, and files are stored in folders
    and sub-folders. File storage offers a hierarchical structure to store your data,
    and this means you can imitate your real-life counterpart—the filing cabinet—to
    organize your data.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 另一种存储架构设计是**文件存储**。该架构为您的企业数据提供了一个集中的位置，文件存储在文件夹和子文件夹中。文件存储提供了一种层次结构来存储数据，这意味着你可以模仿现实生活中的文件柜来组织数据。
- en: Retrieval of the data requires you to know the file and folder structure and
    provide this information. For example, if I need last August's balance sheet Excel
    document, I will need to look in the `2020` folder and the `August` sub-folder,
    and this would enable me to retrieve that specific data.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 数据的检索需要你了解文件和文件夹结构并提供相关信息。例如，如果我需要查看去年八月的资产负债表 Excel 文件，我需要查找`2020`文件夹和`August`子文件夹，这样我就能检索到那个特定的数据。
- en: Due to the nature of file storage, metadata information can be limited, and
    a key limitation to be aware of is that you cannot have unlimited folders and
    sub-folders due to your operating system restrictions. Your hierarchical structure
    can also be the cause of some performance issues, and therefore you need to decide
    on this structure carefully.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 由于文件存储的特性，元数据可能有限，需要注意的一个关键限制是，由于操作系统的限制，你不能无限制地创建文件夹和子文件夹。你的层次结构也可能导致一些性能问题，因此你需要仔细决定这一结构。
- en: File storage lends itself well to being used for file sharing within a corporate
    organization. Because of the folder/sub-folder architecture, it becomes very easy
    to organize your data to fit in well with your organizational structure.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 文件存储非常适合用于公司内部的文件共享。由于有文件夹/子文件夹结构，数据可以很容易地组织，以便与组织结构紧密契合。
- en: 'Amazon offers three different file storage systems, outlined as follows:'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 亚马逊提供了三种不同的文件存储系统，具体如下：
- en: '**Elastic File System** (**EFS**)—This is a managed elastic filesystem designed
    to let you share file data without provisioning or managing storage as you would
    with EBS. Your filesystem will grow and shrink as you add and remove data, and
    mount points can only be created on Linux EC2 instances.'
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**弹性文件系统**（**EFS**）——这是一个托管的弹性文件系统，旨在让你共享文件数据，而无需像使用 EBS 那样配置或管理存储。你的文件系统会随着你添加和删除数据而增长或缩小，且挂载点只能在
    Linux EC2 实例上创建。'
- en: '**FSx for Lustre**—A high-performance filesystem designed for applications
    that require fast storage and can scale to hundreds of **gigabytes** (**GB**)
    of throughput and millions of **input/output operations per second** (**IOPS**).
    FSx for Lustre is also designed for a wide range of Linux-based EC2 instances.'
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**FSx for Lustre**——这是一个高性能文件系统，设计用于需要快速存储的应用，并且能够扩展到数百 GB（**GB**）的吞吐量和数百万次的**输入/输出操作每秒**（**IOPS**）。FSx
    for Lustre 同样适用于广泛的基于 Linux 的 EC2 实例。'
- en: '**FSx for Windows File Server**—Designed for Microsoft Windows EC2 instances
    and offers a fully managed file-share solution, natively supporting the Windows
    file system such as the industry-standard **Server Message Block** (**SMB**) protocol.
    Typical use cases include file-sharing services, local archiving, application
    data sharing, and data protection.'
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**FSx for Windows File Server**——专为 Microsoft Windows EC2 实例设计，提供一个完全托管的文件共享解决方案，原生支持
    Windows 文件系统，如行业标准的**服务器消息块**（**SMB**）协议。典型的使用案例包括文件共享服务、当地归档、应用数据共享和数据保护。'
- en: Object storage
  id: totrans-32
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 对象存储
- en: By contrast, **object storage** involves storing complete files as individual
    objects. Object storage presents a flat file structure—you create some form of
    container and place your objects within this container without using any folder
    or file-level hierarchy. This is also known as unstructured data. Object storage
    metadata (information about the object—such as its name, and so on), along with
    other attributes, is then used to create a unique identifier to easily locate
    that data in your storage pool. Due to the nature of object storage, the metadata
    can contain a vast array of information, enabling you to use object storage for
    data analytics far more easily than a file-based storage solution.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 相比之下，**对象存储**涉及将完整的文件存储为独立的对象。对象存储呈现平面文件结构——你创建某种形式的容器，并将对象存放在这个容器中，而不使用任何文件夹或文件级别的层次结构。这也被称为非结构化数据。对象存储的元数据（有关对象的信息，例如其名称等），以及其他属性，然后用于创建一个独特的标识符，以便轻松定位存储池中的数据。由于对象存储的性质，元数据可以包含大量信息，使得你比使用基于文件的存储解决方案更容易利用对象存储进行数据分析。
- en: An additional benefit is that object storage lends itself well to offering higher
    levels of performance, durability, and scalability. In a file-level storage solution,
    the depth of the folder and file structure will often have a limit based on the
    operating system you are using. With object storage, however, you can potentially
    scale to having limitless amounts of data.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个好处是，对象存储非常适合提供更高水平的性能、耐用性和可扩展性。在文件级存储解决方案中，文件夹和文件结构的深度通常会受到你使用的操作系统的限制。然而，使用对象存储时，你可以在理论上扩展到存储无限量的数据。
- en: The flat file structure is another advantage point as this enables you to retrieve
    data much faster due to the extended categorization feature, as opposed to retrieving
    data from a file storage service.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 平面文件结构是另一个优势点，因为它通过扩展的分类功能，使得你能够比从文件存储服务中检索数据更快地获取数据。
- en: On AWS, object storage options are available with the Amazon S3 service. Amazon
    S3 lets you create containers called **buckets**, within which you place your
    data (objects) in a flat file structure (unstructured manner). You can store and
    retrieve any amount of data—anytime, anywhere.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 在 AWS 上，亚马逊 S3 服务提供了对象存储选项。Amazon S3 允许你创建被称为**存储桶**的容器，在这些容器中你以平面文件结构（无结构方式）存放数据（对象）。你可以随时随地存储和检索任意数量的数据。
- en: Typical use cases for object storage include storing digital assets for your
    websites and applications (documents, images, video), the ability to perform analytics
    on your objects, and offering storage solutions to cutting-edge technologies such
    as **Internet of Things** (**IoT**).
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 对象存储的典型使用案例包括为您的网站和应用程序存储数字资产（文档、图片、视频），对您的对象进行分析的能力，以及为像**物联网**（**IoT**）这样的前沿技术提供存储解决方案。
- en: In this section, we looked at the three main types of storage options available,
    their key features, and typical use cases. We also highlighted some examples of
    AWS services that offer storage solutions.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们探讨了可用的三种主要存储选项、它们的关键特性和典型使用案例。我们还重点介绍了一些提供存储解决方案的 AWS 服务示例。
- en: In the next section, we will introduce you to the Amazon S3 service, which is
    an object storage solution for the cloud.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一节中，我们将向您介绍 Amazon S3 服务，它是云端的对象存储解决方案。
- en: Introduction to Amazon S3
  id: totrans-40
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Amazon S3 简介
- en: Amazon S3 is one of Amazon's flagship products, and offers a robust, scalable,
    durable, and cost-effective **object storage** solution in the cloud. Customers
    can use Amazon S3 to store any amount of data for a wide range of use cases, including
    digital media content for websites, data lakes, mobile applications, IoT device
    data, and big data analytics.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: Amazon S3 是 Amazon 的旗舰产品之一，提供一个强大、可扩展、耐用且具有成本效益的**对象存储**解决方案。客户可以使用 Amazon S3
    存储任何数量的数据，适用于各种使用案例，包括网站的数字媒体内容、数据湖、移动应用程序、物联网设备数据和大数据分析。
- en: Amazon S3 can offer up to 99.999999999% durability and fulfills the storage
    requirements for a majority of clients and their individual business needs.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: Amazon S3 提供高达 99.999999999% 的耐久性，满足大多数客户及其个别业务需求的存储要求。
- en: 'What does eleven 9s of durability mean? According to AWS, if you store 10,000,000
    objects on Amazon S3, then on average you can expect to incur a loss of a single
    object once every 10,000 years. You can review all **frequently asked questions**
    (**FAQs**) for Amazon S3 here: [https://aws.amazon.com/s3/faqs/](https://aws.amazon.com/s3/faqs/).'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: “十一9”耐久性是什么意思？根据 AWS 的说法，如果您在 Amazon S3 上存储 10,000,000 个对象，那么平均而言，您可以预期每 10,000
    年丢失一个对象。您可以在此处查看所有**常见问题解答**（**FAQs**）：[https://aws.amazon.com/s3/faqs/](https://aws.amazon.com/s3/faqs/)。
- en: Buckets and objects
  id: totrans-44
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 桶和对象
- en: 'Before you can upload any data to Amazon S3, you need to create a container
    called a bucket. Buckets need to have a unique global namespace as their contents
    can be made accessible over the public internet. This means that your bucket names
    must be unique across the AWS ecosystem. For example, a document named `blueberry-muffin.txt`
    stored in a bucket named `just-desserts` can be accessible via the internet in
    two primary ways, outlined as follows:'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 在您可以将任何数据上传到 Amazon S3 之前，您需要创建一个名为桶（bucket）的容器。桶需要具有唯一的全局命名空间，因为它们的内容可以通过公共互联网访问。这意味着您的桶名称必须在
    AWS 生态系统中是唯一的。例如，存储在名为 `just-desserts` 的桶中的名为 `blueberry-muffin.txt` 的文档，可以通过互联网以两种主要方式进行访问，具体如下：
- en: '`blueberry-muffin.txt` object is accessible via the S3 **Uniform Resource Locator**
    (**URL**), such as [https://just-desserts.s3.amazonaws.com/blueberry-muffin.txt](https://just-desserts.s3.amazonaws.com/blueberry-muffin.txt).'
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`blueberry-muffin.txt` 对象可以通过 S3 的**统一资源定位符**（**URL**）访问，例如 [https://just-desserts.s3.amazonaws.com/blueberry-muffin.txt](https://just-desserts.s3.amazonaws.com/blueberry-muffin.txt)。'
- en: '`s3-website` dash (`-`) Region—`http://bucket-name.s3-website-Region.amazonaws.com`.
    For example, our recipe will be available at [http://just-desserts.s3-website-us-east-1.amazonaws.com/blueberry-muffin.txt](http://just-desserts.s3-website-us-east-1.amazonaws.com/blueberry-muffin.txt).'
  id: totrans-47
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`s3-website` 横杠（`-`）地区—`http://bucket-name.s3-website-Region.amazonaws.com`。例如，我们的食谱可以在
    [http://just-desserts.s3-website-us-east-1.amazonaws.com/blueberry-muffin.txt](http://just-desserts.s3-website-us-east-1.amazonaws.com/blueberry-muffin.txt)
    上访问。'
- en: b) `s3-website` dot (`.`) Region—`http://bucket-name.s3-website.Region.amazonaws.com`.
    For example, our recipe will be available at [http://just-desserts.s3-website.us-east-1.amazonaws.com/blueberry-muffic.txt](http://just-desserts.s3-website.us-east-1.amazonaws.com/blueberry-muffic.txt).
    We look at static website hosting on Amazon S3 later in this chapter.
  id: totrans-48
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: b) `s3-website` 点（`.`）地区—`http://bucket-name.s3-website.Region.amazonaws.com`。例如，我们的食谱可以在
    [http://just-desserts.s3-website.us-east-1.amazonaws.com/blueberry-muffic.txt](http://just-desserts.s3-website.us-east-1.amazonaws.com/blueberry-muffic.txt)
    上访问。我们将在本章稍后讨论 Amazon S3 的静态网站托管。
- en: When creating buckets, you may therefore find that common names are not available.
    For example, if you wanted to create a bucket name called `marketing`, then you
    will most likely not be able to use this name as it may have been used already.
    You could instead create a marketing bucket with a unique prefix or suffix to
    get an appropriate name. Most companies will try to associate their bucket names
    with their organization name or project name—for example, your marketing bucket
    name could be `my-company-marketing`. That said, you still cannot solely depend
    on any specific naming convention you define for your buckets, because another
    customer may have chosen the exact same name that you might have wanted, and bucket
    names are defined on a first-come first-serve basis.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 创建存储桶时，您可能会发现常见的名称不可用。例如，如果您想创建名为`marketing`的存储桶，那么您很可能无法使用这个名称，因为它可能已经被使用了。您可以通过创建带有独特前缀或后缀的营销存储桶来获得合适的名称。大多数公司会尝试将存储桶名称与其组织名称或项目名称相关联——例如，您的营销存储桶名称可以是`my-company-marketing`。也就是说，您仍然不能仅依赖于您为存储桶定义的任何特定命名约定，因为另一个客户可能选择了您可能想要的相同名称，并且存储桶名称是按先到先得的原则定义的。
- en: 'Some key attributes of Amazon S3 buckets are provided here:'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是 Amazon S3 存储桶的一些关键属性：
- en: Bucket names must be between 3 and 63 characters long.
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 存储桶名称必须介于 3 到 63 个字符之间。
- en: Bucket names must always be in lowercase letters. They can, however, contain
    numbers, hyphens (`-`), and dots (`.`) only.
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 存储桶名称必须始终为小写字母。然而，它们只能包含数字、连字符（`-`）和点（`.`）。
- en: Bucket names must also begin and end with either a letter or number and should
    not include spaces between the names.
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 存储桶名称必须以字母或数字开头和结尾，并且名称之间不能包含空格。
- en: Bucket names must not be formatted as an `192.168.1.1`).
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 存储桶名称不能格式化为`192.168.1.1`）。
- en: Buckets used with `.`) in their names. We discuss Amazon S3TA later in this
    chapter.
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 存储桶名称不能包含`。）`。我们将在本章后面讨论 Amazon S3TA。
- en: You cannot have nested buckets—for example, a bucket within another bucket.
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您不能创建嵌套的存储桶——例如，在一个存储桶中再创建一个存储桶。
- en: Important note
  id: totrans-57
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 重要提示
- en: Except for website-style endpoints, you should avoid using dots (`.`) as part
    of your bucket names as they cannot be used with virtual hosted-style endpoints
    using **Secure Sockets Layer** (**SSL**) and the **HyperText Transfer Protocol
    Secure** (**HTTPS**) protocol. Note that the only reason they work with website-style
    endpoints is because static website hosting is only available over HTTP. You can
    get around this problem if you need to serve your content over HTTPS by incorporating
    a Amazon CloudFront distribution point. We discuss CloudFront in [*Chapter 6*](B17124_06_Final_SK_ePub.xhtml#_idTextAnchor122),
    *AWS Networking Services – VPCs, Route53, and CloudFront*.
  id: totrans-58
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 除了网站风格的端点，您应避免在存储桶名称中使用点（`.`），因为它们无法与使用**安全套接字层**（**SSL**）和**安全超文本传输协议**（**HTTPS**）的虚拟托管风格端点一起使用。请注意，它们与网站风格的端点一起使用的唯一原因是静态网站托管仅通过
    HTTP 提供。如果您需要通过 HTTPS 提供内容，可以通过结合使用 Amazon CloudFront 分发点来解决此问题。我们将在[ *第6章* ](B17124_06_Final_SK_ePub.xhtml#_idTextAnchor122)中讨论
    CloudFront，*AWS 网络服务 – VPC、Route53 和 CloudFront*。
- en: Any data stored in an Amazon S3 bucket is represented as an **object**. An object
    is stored in its entirety within a given bucket rather than with block storage,
    where a file may be broken up into chunks and stored on a given media such as
    a hard disk. As discussed previously, objects are stored in an unstructured manner
    as a **flat filesystem**. This means that accessing an object requires you to
    know its unique ID, which is generally part of the object's metadata. You can
    store an unlimited number of objects within a given bucket, and the maximum size
    of an object on Amazon S3 is 5 **terabytes** (**TB**).
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 存储在 Amazon S3 存储桶中的任何数据都表示为一个**对象**。对象是完整地存储在给定存储桶中，而不是像块存储那样，文件可能会被拆分成块并存储在硬盘等介质上。如前所述，对象是以**扁平文件系统**的方式存储的。这意味着访问一个对象需要知道它的唯一
    ID，这通常是对象元数据的一部分。您可以在一个存储桶中存储无限数量的对象，且 Amazon S3 上单个对象的最大大小为 5 **TB**（**太字节**）。
- en: The filename of an object is called a `!`, `-`, `_`, `.`, `*`, and `( )`.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 对象的文件名被称为`!`、`-`、`_`、`.`、`*`和`()`。
- en: Managing your objects in a bucket
  id: totrans-61
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 管理存储桶中的对象
- en: As mentioned previously, objects are stored in a `/`) parameters to help you
    manage and browse your objects in a hierarchical fashion.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所述，对象存储在`/`）参数中，帮助您以层次化方式管理和浏览对象。
- en: 'At first glance, the usage of prefixes and delimiters (`/`) appears as a typical
    folder hierarchy, but the prefixes and delimiters themselves also form part of
    the object''s **key**, as we can see in the following screenshot:'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 乍一看，前缀和分隔符（`/`）的使用看起来像是典型的文件夹层次结构，但前缀和分隔符本身也构成了对象的**键**，正如我们在以下截图中看到的那样：
- en: '![Figure 5.1 – Amazon S3 prefixes and delimiter example'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 5.1 – 亚马逊 S3 前缀和分隔符示例'
- en: '](img/B17124_05_01.jpg)'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B17124_05_01.jpg)'
- en: Figure 5.1 – Amazon S3 prefixes and delimiter example
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.1 – 亚马逊 S3 前缀和分隔符示例
- en: As you can see in the preceding screenshot, a file (object) called [*Chapter
    5*](B17124_05_Final_SK_ePub.xhtml#_idTextAnchor094) `– Amazon Simple Storage Service
    S3.docx` appears to be stored in a `cloud-practitioner` sub-folder, under another
    sub-folder named `campaign`, in a bucket named `packt-marketing`.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 正如你在前面的截图中看到的，名为[*第 5 章*](B17124_05_Final_SK_ePub.xhtml#_idTextAnchor094) `–
    Amazon Simple Storage Service S3.docx`的文件（对象）似乎存储在名为`cloud-practitioner`的子文件夹下，该子文件夹位于名为`campaign`的另一个子文件夹内，并存储在名为`packt-marketing`的存储桶中。
- en: This architecture allows you to better manage your objects, but the fact remains
    that the keys of the object itself comprise those prefixes and delimiters. This
    means that the `development/sourcecodes.php` and `production/sourcecodes.php`
    keys can reside in the same bucket and are considered unique objects because of
    the different prefixes.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 这种架构允许你更好地管理对象，但事实是，对象本身的键由这些前缀和分隔符组成。这意味着`development/sourcecodes.php`和`production/sourcecodes.php`键可以存在于同一个存储桶中，并因为前缀不同而被视为独特的对象。
- en: Prefixes are also used to help you limit search results to only those keys that
    begin with a specific prefix name. In addition, delimiters enable you to perform
    list operations such that all the keys that share a common prefix can be retrieved
    as a single summary list result.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 前缀还用于帮助你将搜索结果限制为仅包含以特定前缀名称开头的键。此外，分隔符使你能够执行列出操作，从而将所有共享相同前缀的键作为单个汇总列表结果检索。
- en: Prefixes further enhance performance when it comes to accessing your objects
    in Amazon S3\. For example, you can achieve 3,500 `PUT`/`COPY`/`POST`/`DELETE`
    or 5,500`GET`/`HEAD` operations per second per `GET` operations.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 前缀在访问 Amazon S3 中的对象时进一步提高性能。例如，你可以每秒每个`GET`操作实现 3,500 次`PUT`/`COPY`/`POST`/`DELETE`或
    5,500 次`GET`/`HEAD`操作。
- en: Regional hosting – global availability
  id: totrans-71
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 区域托管 – 全球可用性
- en: Your buckets and the objects contained within them are globally accessible if
    you define the necessary permissions. However, it is important to realize that
    a given bucket and any objects it holds are stored in one specific Region alone.
    When you create an Amazon S3 bucket in your AWS account using either the web console,
    **command-line interface** (**CLI**), or via **application programming interface**
    (**API**) access, you must specify the **Region** in which you wish to create
    it.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你定义了必要的权限，你的存储桶及其中的对象是全球可访问的。然而，重要的是要意识到，给定的存储桶及其包含的任何对象仅存储在一个特定的区域中。当你使用
    Web 控制台、**命令行界面**（**CLI**）或通过**应用程序编程接口**（**API**）访问在 AWS 账户中创建 Amazon S3 存储桶时，必须指定你希望创建存储桶的**区域**。
- en: 'Your choice of the Region to create a given bucket is going to depend on several
    factors, including the following ones:'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 你选择创建存储桶的区域将取决于多个因素，包括以下几个：
- en: Optimizing latency by creating buckets closer to end users who need access to
    them
  id: totrans-74
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过在需要访问的终端用户附近创建存储桶来优化延迟
- en: Minimizing costs
  id: totrans-75
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 降低成本
- en: Addressing any regulatory requirements such as data-sovereignty laws
  id: totrans-76
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 满足任何监管要求，例如数据主权法律
- en: Amazon will *never* replicate your data outside of the Region in which you create
    it. This offers the assurance that you can meet and adhere to any data-residency
    laws you may be required to follow as a business.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 亚马逊**绝不会**在你创建数据的区域以外复制你的数据。这为你提供了确保可以满足并遵守作为企业可能需要遵循的任何数据驻留法律的保障。
- en: You can, however, replicate the contents of one bucket in a given Region to
    another bucket in a different Region for several use cases, including **disaster
    recovery** (**DR**) or sharing content with your colleagues, such that the data
    is closer to them to reduce overall latency.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，你可以将某个区域内一个存储桶的内容复制到另一个区域的存储桶，用于多个用例，包括**灾难恢复**(**DR**)或与同事共享内容，以便数据更接近他们，从而减少整体延迟。
- en: Access permissions
  id: totrans-79
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 访问权限
- en: To create and manage your Amazon S3 buckets and upload and download objects
    to the bucket, you need to define the necessary permissions. By default, only
    the resource owner, which is the AWS account that creates the resource, can access
    a bucket.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 要创建和管理您的 Amazon S3 桶并上传和下载对象到桶中，您需要定义必要的权限。默认情况下，只有资源所有者，即创建资源的 AWS 账户，才能访问桶。
- en: However, you can also grant access to other users in your account, as well as
    define permissions for specific **Identity and Access Management** (**IAM**) roles
    to have access to those resources. In addition, you can grant access to users
    in other AWS accounts, and even grant access to members of the public by configuring
    anonymous access. Anonymous access is ideal when you wish to host publicly accessible
    digital assets such as documents, images, and videos for your websites.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，您还可以授予您账户中其他用户的访问权限，并为特定的**身份和访问管理**（**IAM**）角色定义权限，以使其能够访问这些资源。此外，您还可以授予其他
    AWS 账户的用户访问权限，甚至通过配置匿名访问来授予公众成员访问权限。当您希望为网站托管公开可访问的数字资产（如文档、图片和视频）时，匿名访问是理想的选择。
- en: Amazon S3 offers two primary methods of granting access to resources such as
    buckets and objects. You can attach a resource-based policy known as a bucket
    policy, or you can attach **access-control lists** (**ACLs**). Let's examine both
    of these methods for granting access next.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 亚马逊 S3 提供两种主要方法来授予对资源（如桶和对象）的访问权限。您可以附加一个称为桶策略的基于资源的策略，或者您可以附加**访问控制列表**（**ACL**）。接下来，让我们研究这两种授予访问权限的方法。
- en: Bucket policies
  id: totrans-83
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 桶策略
- en: A bucket policy is applied directly to an entire bucket and can be used to grant
    access to both the bucket itself and the objects stored within it. Bucket policies
    can be used to specify different levels of access for different types of objects
    within the same policy document. A bucket policy document is also written in **JavaScript
    Object Notation Format** (**JSON**) format, just like IAM policies are.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 桶策略直接应用于整个桶，并可用于授予对桶本身及其中存储的对象的访问权限。桶策略可用于为同一策略文档中的不同类型对象指定不同级别的访问权限。桶策略文档也采用**JavaScript
    对象表示法格式**（**JSON**），就像 IAM 策略一样。
- en: With bucket policies, you can also grant anonymous access to object in your
    buckets, such as a web page, image, or video, which means that anyone with the
    S3 object URL can access it.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 使用桶策略，您还可以授予对桶中对象的匿名访问权限，例如网页、图片或视频，这意味着任何拥有 S3 对象 URL 的人都可以访问它。
- en: Bucket policies are very flexible and allow you to grant cross-account access
    too. This means that if users in other AWS accounts are permitted, you can grant
    them access to your buckets by specifying their account ID and their IAM user
    **Amazon Resource Name** (**ARN**).
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 桶策略非常灵活，允许您授予跨账户访问权限。这意味着，如果其他 AWS 账户的用户被允许访问，您可以通过指定其账户 ID 和 IAM 用户的**亚马逊资源名称**（**ARN**）来授予他们对您桶的访问权限。
- en: 'Here is an example of a typical bucket policy granting anonymous access to
    the objects it contains:'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个典型的桶策略示例，授予匿名访问它所包含对象的权限：
- en: '![Figure 5.2 – Bucket policy example granting anonymous access to the'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 5.2 – 桶策略示例，授予匿名访问权限'
- en: contents of the 'packt-marketing' S3 bucket
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: '''packt-marketing'' S3 桶的内容'
- en: '](img/B17124_05_02.jpg)'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B17124_05_02.jpg)'
- en: Figure 5.2 – Bucket policy example granting anonymous access to the contents
    of the 'packt-marketing' S3 bucket
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.2 – 桶策略示例，授予对 'packt-marketing' S3 桶内容的匿名访问权限
- en: As seen in the preceding screenshot, the policy allows anonymous access by specifying
    the `Principal` attribute as a wildcard (`*`), which indicates everyone. The action
    allowed on the `packt-marketing` bucket is `s3:GetObject`, which restricts access
    to only being able to read/download the object(s).
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 如上图所示，策略通过将 `Principal` 属性指定为通配符（`*`）来允许匿名访问，这表示所有人。对 `packt-marketing` 桶的允许操作是
    `s3:GetObject`，这限制了只能读取/下载对象。
- en: 'Another element that can be added to a bucket policy is a `Effect` attribute
    of a policy to `Deny` unless the condition is met. For example, you can restrict
    the ability for users to access and download contents from an S3 bucket, unless
    the request originates from a range of IP addresses specified in the condition,
    as illustrated in the following screenshot:'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 桶策略中可以添加的另一个元素是策略的 `Effect` 属性，该属性设置为 `Deny`，除非满足特定条件。例如，您可以限制用户访问和下载 S3 桶中的内容，除非请求来自条件中指定的
    IP 地址范围，如下图所示：
- en: '![Figure 5.3 – Bucket policy defined with a conditional statement'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 5.3 – 定义有条件语句的桶策略'
- en: '](img/B17124_05_03.jpg)'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B17124_05_03.jpg)'
- en: Figure 5.3 – Bucket policy defined with a conditional statement
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 图5.3 – 使用条件语句定义的桶策略
- en: In the preceding screenshot, you will note that the `Effect` attribute of the
    policy is to deny access unless the `NotIPAddress` condition is met. You will
    need to replace the dummy IP address range shown (`w.x.y.z/c`) with a real IP
    address range for your use case.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的截图中，你会注意到策略的`Effect`属性是拒绝访问，除非满足`NotIPAddress`条件。你需要将示例中的虚拟IP地址范围（`w.x.y.z/c`）替换为适合你使用案例的真实IP地址范围。
- en: Bucket and object ACLs
  id: totrans-98
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 桶和对象ACL
- en: ACLs are now considered legacy control systems because bucket policies tend
    to be flexible and offer more granular levels of access. You can mostly use ACLs
    to grant anonymous access to objects and buckets, or to other AWS accounts. Since
    ACLs do not allow you to specify an individual IAM user as the grantee of those
    permissions, their use case is limited and preference is given to bucket policies
    instead.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: ACL现在被视为遗留的控制系统，因为桶策略通常更灵活，且提供更细粒度的访问控制。你通常可以使用ACL为对象和桶授予匿名访问权限，或授予其他AWS账户访问权限。由于ACL不允许你指定单个IAM用户作为这些权限的受益人，因此它们的使用案例有限，通常更倾向于使用桶策略。
- en: However, certain features require you to configure ACLs instead of bucket policies.
    **Server access logging**, for example, is a feature you can enable to provide
    detailed records for the requests that are made to an Amazon S3 bucket.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，某些功能需要你配置ACL而非桶策略。例如，**服务器访问日志**是一项你可以启用的功能，用于提供对Amazon S3桶请求的详细记录。
- en: IAM policies
  id: totrans-101
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: IAM策略
- en: As previously discussed in [*Chapter 4*](B17124_04_Final_SK_ePub.xhtml#_idTextAnchor068),
    *Identity and Access Management*, you can create IAM policies that are assigned
    to IAM identities (such as IAM users, groups of users, or IAM roles) and define
    what they can or cannot do with any specific service and/or resource in your AWS
    account.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 如在[*第4章*](B17124_04_Final_SK_ePub.xhtml#_idTextAnchor068)中所讨论的，*身份和访问管理*，你可以创建分配给IAM身份（如IAM用户、用户组或IAM角色）的IAM策略，并定义它们可以或不能对你的AWS账户中的任何特定服务和/或资源执行的操作。
- en: You can, therefore, grant your IAM principals access to S3 buckets and objects
    contained within those buckets. However, IAM policies cannot be attached directly
    to the resource. Furthermore, you cannot attach an IAM policy directly to an IAM
    user in another AWS account. You would first need to create an IAM role with the
    necessary permissions and then enable a trust policy for the IAM user in the other
    AWS account to be able to assume the role.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，你可以授予IAM主体对S3桶及其中包含的对象的访问权限。然而，IAM策略不能直接附加到资源上。此外，你不能将IAM策略直接附加到另一个AWS账户中的IAM用户。你需要首先创建一个拥有必要权限的IAM角色，然后为另一个AWS账户中的IAM用户启用信任策略，以便该用户能够承担此角色。
- en: Finally, IAM policies cannot be used to grant anonymous access because of the
    simple principle that IAM policies can only be attached to an IAM identity.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，IAM策略不能用于授予匿名访问权限，因为有一个简单的原则：IAM策略只能附加到IAM身份上。
- en: Note
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: You can use a combination of bucket policies, ACLs, and IAM policies to grant
    access. You must remember, however, that any conflicting `Deny` permission will
    always override an `Allow` permission. However, these policy options are not mutually
    exclusive.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以结合使用桶策略、ACL和IAM策略来授予访问权限。然而，你必须记住，任何冲突的`Deny`权限都会始终覆盖`Allow`权限。不过，这些策略选项并不是相互排斥的。
- en: Choosing the right S3 storage class
  id: totrans-107
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 选择正确的S3存储类
- en: Amazon S3 allows you store an unlimited amount of data in the cloud. However,
    not all data needs to be treated the same. For example, you may have some data
    that you require instant access to, but also other types of data that may be rarely
    accessed as it represents old archives stored for compliance purposes.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 亚马逊S3允许你在云中存储无限量的数据。然而，并非所有数据都需要相同的处理方式。例如，你可能有些数据需要即时访问，但也有其他类型的数据可能很少被访问，因为它们是为了合规目的存储的旧档案。
- en: You may also have some data that you can afford to lose because recreating it
    would be easy, whereas other types of data may be simply irreplaceable. Depending
    on the data, its importance, and access patterns, AWS offers different storage
    classes for different use cases. So, for example, if you need to store old archives,
    you have the Amazon Glacier storage class, and if you need instant rapid access
    to your data, you have the Amazon S3 Standard storage class. All storage classes
    offer 99.999999999% **durability** for your data. Durability refers to long-term
    data protection, and AWS offers the necessary infrastructure and processes to
    manage your data, replicate copies, ensure data redundancy, and safeguard against
    degradation or other corruption.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 你可能还拥有一些可以丢失的数据，因为重新创建它们会很容易，而其他类型的数据可能是无法替代的。根据数据、数据的重要性以及访问模式，AWS 为不同的使用场景提供了不同的存储类。例如，如果你需要存储旧的档案数据，可以选择
    Amazon Glacier 存储类；如果你需要即时快速访问数据，可以选择 Amazon S3 Standard 存储类。所有存储类都为你的数据提供 99.999999999%
    的**耐久性**。耐久性指的是长期的数据保护，AWS 提供了必要的基础设施和流程来管理数据、复制副本、确保数据冗余，并防止降级或其他损坏。
- en: Depending on the storage class that you choose to store your data in, AWS also
    offers different levels of **availability**, which determines the percentage of
    time an object is available for retrieval, based on the underlying storage system
    being operational (or the Region and **Availability Zones** (**AZs**) being online
    and accessible). Critical data such as digital assets, medical records, or financial
    statements would be ideal candidates for those storage classes that offer higher
    levels of availability. However, secondary copies of data may not need to be as
    available as the primary copies of the same data.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 根据你选择的存储类，AWS 还提供不同级别的**可用性**，这决定了一个对象在底层存储系统运行正常的情况下（或区域和**可用区**（**AZs**）处于在线和可访问状态时）可以检索的时间百分比。重要数据，如数字资产、医疗记录或财务报表，可能更适合选择那些提供较高可用性的存储类。而数据的次级副本可能不需要与主副本一样高的可用性。
- en: Amazon S3 charges are based around six cost components. These comprise the storage
    itself (comprising the amount of storage, duration, and storage class your objects
    are placed in), requests and data retrievals, data transfers, use of transfer
    acceleration, data management, and analytics, and the use of an Amazon S3 Object
    Lambda (which is the ability to modify and process data as it is returned to an
    application using Lambda functions). Note—data transferred in from the internet
    to an S3 bucket is free. One way of minimizing costs is to identify data that
    may not require instance access or that may be replaceable and store it in classes
    that are cheaper.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: Amazon S3 的收费基于六个费用组成部分。这些组成部分包括存储本身（包括存储的量、存储时长以及存储类）、请求和数据检索、数据传输、加速传输的使用、数据管理和分析，以及使用
    Amazon S3 Object Lambda（即在返回应用程序时，使用 Lambda 函数修改和处理数据的能力）。注意——从互联网传输到 S3 存储桶的数据是免费的。减少成本的一种方式是识别出不需要实例访问或可以替代的数据，并将其存储在更便宜的存储类中。
- en: Important note
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 重要说明
- en: A key point to note here is that you can host different objects under different
    storage classes within the same bucket. You do not need to create separate buckets
    for each storage class.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 这里需要注意的一个关键点是，你可以在同一个存储桶内托管不同存储类的对象。你不需要为每个存储类创建单独的存储桶。
- en: Let's look at the different storage classes next.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来我们来看一下不同的存储类。
- en: Frequent access
  id: totrans-115
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 高频访问
- en: '**Amazon S3 Standard**—This is the default storage class when you upload objects
    to a bucket, unless you specify otherwise. Amazon S3 Standard offers the full
    eleven 9s (99.9999999%) of durability and four 9s (99.99%) of availability. With
    Amazon S3 Standard, your objects are always replicated across a minimum of three
    AZs in the Region you place them in.'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: '**Amazon S3 Standard**——这是你上传对象到存储桶时的默认存储类，除非另行指定。Amazon S3 Standard 提供全额的十一位数字（99.9999999%）的耐久性和四位数字（99.99%）的可用性。在
    Amazon S3 Standard 中，你的对象始终会在你所选择的区域内的至少三个可用区（AZ）之间进行复制。'
- en: Infrequent access
  id: totrans-117
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 低频访问
- en: Amazon S3 offers two types of infrequent-access storage classes. These can be
    used to store objects that you are not going to frequently access, but at the
    same time, you have instant access to the data when you need it.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: Amazon S3 提供两种类型的低频访问存储类。这些存储类适用于存储不常访问的对象，但同时当你需要时，仍然可以即时访问数据。
- en: AWS offers these classes at lower costs on the condition that you do not access
    your data frequently, as you would with the Standard storage class. To enforce
    the conditions, AWS will charge additional retrieval fees. Furthermore, there
    is a minimum object size of 128 **kilobytes** (**KB**). You can still store objects
    under this minimum size, but those objects will be billed as though it is a minimum
    of 128 KB in size.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: AWS 提供这些存储类以较低的成本，前提是您不会像使用标准存储类那样频繁访问数据。为了确保这一条件，AWS 会收取额外的检索费用。此外，存储对象的最小大小为
    128 **千字节**（**KB**）。您仍然可以存储小于此最小大小的对象，但这些对象会按 128 KB 的最小大小进行计费。
- en: '**Amazon S3 Standard-Infrequent Access** (**S3 Standard-IA**)—S3 Standard-IA
    is designed for data that is just as critical as with the Standard storage class
    but is infrequently accessed and is therefore ideal for long-term storage, such
    as for backups, and to act as a data store for DR purposes.'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: '**Amazon S3 标准低频访问**（**S3 Standard-IA**）—S3 Standard-IA 适用于与标准存储类同样重要但访问频率较低的数据，因此非常适合长期存储，例如备份，或作为灾难恢复（DR）用途的数据存储。'
- en: '**Amazon S3 One Zone-Infrequent Access** (**S3 One Zone-IA**)—Data stored in
    this storage class is restricted to one AZ only within the Region you upload it
    to. This reduces your overall availability of the data to 99.5% but is also much
    cheaper than the Standard or the Standard-IA storage classes. This also means
    that if there is an outage of the AZ in which your data is stored, you would have
    to wait for the AZ to come back online before you can access any data. In the
    unlikely event of the destruction of an AZ, you may also lose that data.'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: '**Amazon S3 单区低频访问**（**S3 One Zone-IA**）—此存储类别中的数据仅限于您上传数据的区域中的一个可用区（AZ）进行存储。这会将数据的整体可用性降至
    99.5%，但比标准存储类或标准低频访问存储类便宜得多。这也意味着，如果存储数据的可用区发生故障，您必须等待该可用区恢复上线才能访问数据。在极少数情况下，如果可用区遭到破坏，您可能会丢失该数据。'
- en: Amazon recommends this class for data that can act as a secondary backup or
    that can be recreated.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 亚马逊推荐将此类存储用于作为二级备份的数据或可以重新创建的数据。
- en: Archive storage
  id: totrans-123
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 归档存储
- en: Often, data needs to be retained for archival purposes so that it is available
    when needed for auditing or reference. More often, regulatory and compliance requirements
    state that certain types of data should retained for *n* number of years. These
    could be financial information or past medical records, for example.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，数据需要为了归档目的而保存，以便在审计或参考时可用。更常见的是，监管和合规要求会规定某些类型的数据需要保存 *n* 年。例如，可能是财务信息或过去的医疗记录。
- en: Amazon offers very low-cost storage for such requirements through its archival
    solution, **Amazon Glacier**.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 亚马逊通过其归档解决方案 **Amazon Glacier** 提供非常低成本的存储，以满足此类需求。
- en: '**Amazon Glacier**—This storage class is designed for long-term archiving of
    data that may need to be accessed infrequently and within a few hours.'
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: '**Amazon Glacier**—此存储类旨在长期归档那些可能需要不频繁访问且在几小时内可访问的数据。'
- en: Retrieving data from Amazon Glacier works differently, however, as it is not
    immediately accessible and requires you to initiate a restore request for the
    data. This restore process can take some time (between a few minutes to 12 hours)
    before the data is available to download, and this depends on the retrieval option
    you choose.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，从 Amazon Glacier 中检索数据的方式不同，因为它不能立即访问，您需要发起数据恢复请求。此恢复过程可能需要一些时间（从几分钟到 12
    小时不等），具体时间取决于您选择的检索选项。
- en: '**Amazon Glacier Deep Archive**—This is the lowest-cost storage class whereby
    customers can store very old historical data to meet compliance and regulatory
    requirements. Such data may be required to be kept for 7 to 10 years. Retrieval
    times can take 12 hours or more, depending on the retrieval option chosen.'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: '**Amazon Glacier 深度归档**—这是最低成本的存储类，客户可以将非常旧的历史数据存储在其中，以满足合规性和监管要求。此类数据可能需要保存
    7 至 10 年。根据选择的检索选项，检索时间可能需要 12 小时或更长时间。'
- en: We discuss the Amazon S3 Glacier retrieval options in more detail later in this
    chapter.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将在本章后面详细讨论 Amazon S3 Glacier 的检索选项。
- en: Unpredictable access patterns
  id: totrans-130
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 不可预测的访问模式
- en: Normally, your business will have a predictable access pattern for most data—for
    example, newly created data may need to be accessed frequently, such as daily.
    As data gets older it is accessed less frequently, and sometimes very rarely.
    Your access pattern, while predictable in this case, changes over time. AWS offers
    a feature known as lifecycle management that allows you to move data from one
    storage class to another, depending on changes to your access patterns. We look
    at lifecyle management and lifecycle rules later in this chapter.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，您的业务会对大多数数据有一个可预测的访问模式——例如，新创建的数据可能需要频繁访问，比如每天访问。随着数据的老化，访问频率会逐渐降低，有时甚至非常少。即使在这种情况下，您的访问模式也会随时间变化。AWS
    提供了一项称为生命周期管理的功能，允许您根据访问模式的变化将数据从一个存储类别转移到另一个存储类别。我们将在本章后面讨论生命周期管理和生命周期规则。
- en: Sometimes, however, it is difficult to categorize data as frequently accessed
    or infrequently accessed, simply because of the nature of that data. You might
    be frequently accessing a set of objects for an initial period of a few weeks,
    and those objects may later become infrequently accessed. However, a few months
    down the line, you may need to access those objects again for analysis or some
    form of investigation. This data may now need to be frequently accessed over a
    period once again.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，有时很难将数据分类为频繁访问或不频繁访问，主要是由于数据的性质。您可能在最初的几周内频繁访问一组对象，之后这些对象可能会变成不常访问。但是，几个月后，您可能需要再次访问这些对象进行分析或某种形式的调查。此时，这些数据可能再次需要在一段时间内频繁访问。
- en: In these scenarios, AWS offers another storage class called the Intelligent-Tiering
    storage class. For this privilege, you are charged a small monitoring fee for
    every object to ensure it is automatically transitioned into the right tier, depending
    on access patterns.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 在这些情况下，AWS 提供了另一种存储类别，称为 Intelligent-Tiering 存储类别。为了享受此特权，您需要为每个对象支付少量的监控费用，以确保它根据访问模式自动过渡到正确的存储层。
- en: '**Intelligent-Tiering**—This storage class offers automated tiering of data
    depending on your access pattern. Objects are automatically transitioned across
    four different tiers, two of which are latency access tiers designed to move objects
    between frequently accessed and infrequently accessed tiers, and the other two
    being optional archive access tiers:'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: '**Intelligent-Tiering**—此存储类别根据您的访问模式提供自动分层存储。对象会自动在四个不同的层次之间过渡，其中两个是延迟访问层，旨在将对象在频繁访问和不频繁访问之间移动，另外两个是可选的归档访问层：'
- en: Frequent and infrequent tiers—Objects that are frequently accessed (within 30
    days) are placed automatically in the frequent access tier (Standard storage class).
    Any objects not accessed for 30 days are then moved into the infrequent access
    tier (Standard-IA), thereby incurring lower costs. Remember—the minimum object
    size for Standard -IA is set to 128 KB, and objects less than this size are treated
    and charged as if they are a minimum of 128 KB. Any object in the infrequent tier
    that later gets accessed is then automatically moved back into the frequent tier
    and charged accordingly.
  id: totrans-135
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 频繁和不频繁访问层—频繁访问的对象（30天内访问）会自动放入频繁访问层（标准存储类别）。任何超过 30 天未被访问的对象将被移入不频繁访问层（标准-IA），从而产生更低的费用。请记住——标准-IA
    的最小对象大小为 128 KB，小于此大小的对象将按最小 128 KB 处理和收费。任何在不频繁访问层的对象如果之后被访问，则会自动移动回频繁访问层并按相应收费。
- en: Optional archive access tiers—You can optionally choose to activate the archive
    access tiers. Once activated, this results in the S3 Intelligent-Tiering service
    transition when any object is not accessed for 90 days is moved into the Amazon
    Glacier **Archive Access tier**. If the object is not accessed for 180 days, it
    will be moved into the Amazon **Deep Archive Access tier**.
  id: totrans-136
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 可选的归档访问层—您可以选择启用归档访问层。一旦启用，当任何对象在 90 天内未被访问时，它将被移动到 Amazon Glacier **归档访问层**。如果对象在
    180 天内未被访问，它将被移动到 Amazon **Deep Archive 访问层**。
- en: 'Intelligent-Tiering does not charge a retrieval fee but if objects are archived,
    retrieval can take some time, depending on the retrieval option chosen. The following
    table illustrates the retrieval options available:'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: Intelligent-Tiering 不会收取检索费用，但如果对象已归档，则根据所选择的检索选项，检索可能需要一些时间。下表展示了可用的检索选项：
- en: '![Table 5.1 – Retrieval times for S3 Glacier, Deep Archive, and S3 Intelligent-Tiering
    archive classes'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: '![表 5.1 – S3 Glacier、Deep Archive 和 S3 Intelligent-Tiering 归档类别的检索时间'
- en: '](img/Table_5.1.jpg)'
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Table_5.1.jpg)'
- en: Table 5.1 – Retrieval times for S3 Glacier, Deep Archive, and S3 Intelligent-Tiering
    archive classes
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 表5.1 – S3 Glacier、Deep Archive和S3 Intelligent-Tiering归档类的检索时间
- en: As you can see, you have several retrieval options, and the times will vary
    depending on which archive storage option you select.
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 如您所见，您有多种检索选项，时间将根据您选择的归档存储选项而有所不同。
- en: S3 on Outposts
  id: totrans-142
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: S3 on Outposts
- en: Amazon Outposts is a fully managed on-premises service that comes with a 42U
    rack that can host the same AWS infrastructure and services at your data center.
    The U refers to rack units or "U-spaces" and is equal to 1.75 inches in height.
    A standard height is 48U (a 7-foot rack). The service allows you to create a pool
    of compute, storage, networking, and database services locally on-premises and
    is ideal if you have workloads running that are very sensitive to low-latency
    access. Amazon Outposts can also be used as a precursor to migrate your entire
    data center to the cloud at a later stage.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: Amazon Outposts是一项完全托管的本地服务，配备有一个42U的机架，可以在您的数据中心托管与AWS相同的基础设施和服务。U表示机架单元或“U空间”，其高度为1.75英寸。标准高度为48U（即7英尺的机架）。该服务允许您在本地创建计算、存储、网络和数据库服务池，特别适合需要低延迟访问的工作负载。如果您有计划将整个数据中心迁移到云端，Amazon
    Outposts也可以作为一个前导步骤。
- en: 'With Amazon Outposts already widely available, AWS offers yet another storage
    class called **S3 Outpost**. The service offers durability and redundancy by storing
    data across multiple devices and servers hosted on your outposts and is ideal
    for low-latency access, while also enabling you to meet strict data-residency
    requirements. Amazon S3 on Outpost allows you to host 48 TB or 96 TB as part of
    the S3 storage capacity and provides the option to create a maximum of 100 S3
    buckets on each outpost. Have a look at the Amazon S3 performance chart shown
    in the following screenshot:'
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 随着Amazon Outposts的广泛应用，AWS又推出了一种名为**S3 Outpost**的存储类型。该服务通过将数据存储在您本地Outposts上托管的多个设备和服务器中，提供耐用性和冗余性，适用于低延迟访问，同时也能帮助您满足严格的数据驻留要求。Amazon
    S3 on Outpost允许您将48 TB或96 TB作为S3存储容量的一部分，并提供在每个Outpost上最多创建100个S3存储桶的选项。请查看以下截图中展示的Amazon
    S3性能图表：
- en: '![](img/Table_5.2_a.jpg)![Figure 5.4 – S3 storage class performance and key
    attributes'
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: '![](img/Table_5.2_a.jpg)![图5.4 – S3存储类性能和关键属性'
- en: '](img/Table_5.2_b.jpg)'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Table_5.2_b.jpg)'
- en: Figure 5.4 – S3 storage class performance and key attributes
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 图5.4 – S3存储类性能和关键属性
- en: As shown in the preceding screenshot, you can choose which storage class to
    store your objects in depending on your use case. When making this decision, you
    need to consider durability and availability, as well as the minimum size of your
    objects, and ascertain whether you require instant access to those objects.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 如前面的截图所示，您可以根据使用案例选择存储对象的存储类。在做出这个决定时，您需要考虑耐用性和可用性，以及对象的最小大小，并确定是否需要即时访问这些对象。
- en: Versioning
  id: totrans-149
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 版本控制
- en: To protect against accidental deletions or overwriting, AWS also offers a feature
    called S3 Versioning. By default, when you create a bucket versioning is disabled,
    which means that if you were to upload an object with the same name (which, as
    mentioned earlier, is called a **key** on AWS) as an existing object in an S3
    bucket, then the original object in the bucket will get overwritten. Sometimes
    this may be exactly what you want, but in most cases, you might want to preserve
    the original version. Often, objects are overwritten simply because the name of
    the object was not changed before performing the upload, and this results in an
    accidental overwrite.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 为了防止意外删除或覆盖，AWS还提供了一项名为S3版本控制的功能。默认情况下，在创建存储桶时版本控制是禁用的，这意味着如果您上传一个与现有对象同名（在AWS中称为**键**）的对象，那么该存储桶中的原始对象将会被覆盖。有时候，这正是您想要的效果，但在大多数情况下，您可能希望保留原始版本。通常，对象被覆盖的原因是上传前未更改对象名称，导致了意外覆盖。
- en: Amazon S3 offers a feature where you can enable versioning on a bucket. The
    setting is applied to the entire bucket and will therefore affect all objects.
    Once versioning is enabled, any object that is uploaded with the same name as
    an existing object will be tagged with a new version ID. Accessing the object
    will yield the latest/current version, but a toggle switch in the console will
    allow you to also see all previous versions in case you need to access an earlier
    version of the object.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 亚马逊 S3 提供了一个功能，您可以在存储桶上启用版本控制。该设置会应用于整个存储桶，因此会影响所有对象。一旦启用版本控制，任何上传的与现有对象同名的对象都会被标记为新版本
    ID。访问该对象时将返回最新的当前版本，但控制台中的切换开关允许您查看所有先前版本，以防您需要访问对象的早期版本。
- en: If you try to delete an object (without specifying the version ID) in a bucket
    that has had versioning enabled, then the object is not deleted. AWS adds a delete
    marker to the object and hides it from the S3 management console view. Subsequently
    if you need to *restore* the object again to make it visible in the S3 management
    console, you will simply have to delete the delete marker itself.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您尝试删除存储桶中一个已启用版本控制的对象（没有指定版本 ID），那么该对象不会被删除。AWS 会在该对象上添加删除标记，并将其从 S3 管理控制台视图中隐藏。如果之后您需要
    *恢复* 该对象并使其在 S3 管理控制台中可见，您只需删除该删除标记即可。
- en: 'You should note that buckets can be in one of three states, outlined as follows:'
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 您应该注意，存储桶可以处于三种状态之一，具体如下：
- en: Unversioned (default)
  id: totrans-154
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 未启用版本控制（默认）
- en: Versioning-enabled
  id: totrans-155
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 启用版本控制
- en: Versioning-suspended
  id: totrans-156
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 版本控制已暂停
- en: Once you enable versioning on a bucket, you can never return to the Unversioned
    state, but you can suspend versioning if you do not want new versions of objects
    being created.
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦在存储桶上启用版本控制，您将无法返回到未启用版本控制的状态，但如果您不想创建新版本的对象，您可以暂停版本控制。
- en: Cross-Region and same-Region replication
  id: totrans-158
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 跨区域和同区域复制
- en: As previously discussed, to help customers comply with compliance and data-residency
    laws, AWS will never replicate your objects outside of the Region in which you
    create them. However, there is nothing to stop you from replicating your data
    outside of the Region in which you uploaded it if there are no regulatory requirements
    that prevent you from doing so.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所述，为了帮助客户遵守合规性和数据驻留法律，AWS 永远不会将您的对象复制到您创建它们的区域之外。但是，如果没有监管要求阻止您这样做，您可以将数据复制到您上传数据的区域之外。
- en: '**Amazon Cross-Region Replication** **(CRR)** is used to asynchronously copy
    objects across AWS buckets in different AWS Regions. You can use CRR to do the
    following:'
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: '**亚马逊跨区域复制** **(CRR)** 用于异步地将对象复制到不同 AWS 区域的 AWS 存储桶之间。您可以使用 CRR 来完成以下任务：'
- en: '**Reduce latency**—By copying objects closer to where end users are based,
    you can minimize latency in accessing those objects.'
  id: totrans-161
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**减少延迟**—通过将对象复制到离终端用户更近的地方，您可以最大限度地减少访问这些对象时的延迟。'
- en: '**Increase operational efficiency**—If you run applications across multiple
    Regions that need access to the same set of data, maintaining multiple copies
    in those Regions increases efficiency.'
  id: totrans-162
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**提高运营效率**—如果您跨多个区域运行应用程序并且需要访问相同的数据集，在这些区域中维护多个副本可以提高效率。'
- en: '**Meet regulatory and compliance requirements**—Your organization compliance
    and regulatory requirements may require you to store copies of data thousands
    of kilometers away for DR purposes.'
  id: totrans-163
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**满足合规性和监管要求**—贵组织的合规性和监管要求可能要求您将数据副本存储在数千公里外以用于灾难恢复（DR）。'
- en: 'In addition to CRR, Amazon S3 also enables you to configure replication services
    between buckets in the same Region. This is known as **Same-Region Replication**
    (**SRR**), which can help you achieve the following:'
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 除了 CRR，亚马逊 S3 还允许您配置同区域存储桶之间的复制服务。这被称为 **同区域复制** (**SRR**)，它可以帮助您实现以下目标：
- en: '**Log Data Aggregation**—You may be collecting log data from several sources
    and applications. You can collate these datasets in a single log management bucket
    via replication.'
  id: totrans-165
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**日志数据聚合**—您可能正在从多个源和应用程序收集日志数据。您可以通过复制将这些数据集汇总到单个日志管理存储桶中。'
- en: '**Replicating between development and production accounts**—If you use separate
    development and production accounts and need to use datasets in each, you can
    use replication to move objects from your development accounts to production accounts.'
  id: totrans-166
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**在开发和生产账户之间进行复制**—如果您使用单独的开发和生产账户并且需要在每个账户中使用数据集，您可以使用复制功能将对象从开发账户移至生产账户。'
- en: '**Compliance requirements**—You may be required to maintain multiple copies
    of your data to adhere to data-residency laws. SRR can help you copy data between
    multiple buckets to ensure you have more than one copy for compliance purposes.'
  id: totrans-167
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**合规要求**——你可能需要保留多个副本的数据，以遵守数据存储法规。SRR 可以帮助你在多个桶之间复制数据，以确保你有多个副本用于合规目的。'
- en: It is important to note that both buckets must be configured with versioning
    enabled in order to set up CRR or SRR. You can also replicate objects across Regions
    or within the same Region, in either the same AWS account or across multiple AWS
    accounts. Finally, you can replicate objects into different storage classes from
    its original storage class, which means that your replicated objects can reside
    in a cheaper storage class, if perhaps they are being used simply as a backup
    copy—for example, your original objects can reside in the Standard storage class,
    but the replicated objects can be placed into the Standard-IA storage class. This
    will reduce your overall costs of storage.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 需要注意的是，两个桶必须配置为启用版本控制，才能设置 CRR 或 SRR。你还可以跨地区或在同一地区复制对象，无论是在同一 AWS 账户内还是跨多个 AWS
    账户。此外，你可以将对象从原始存储类别复制到不同的存储类别，这意味着你的复制对象可以存储在更便宜的存储类别中，例如，它们仅作为备份副本使用——例如，你的原始对象可以存储在标准存储类别中，而复制的对象可以放在标准-IA
    存储类别中。这将降低你整体的存储成本。
- en: Another feature of the replication service is support for multiple destination
    buckets. You can configure S3 Replication (multi-destination), which enables you
    to replicate data from one source bucket to multiple destination buckets, either
    within the same Region, across Regions, or a combination of both.
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 复制服务的另一个特点是支持多个目标桶。你可以配置 S3 复制（多目标），它允许你将数据从一个源桶复制到多个目标桶，目标桶可以位于同一地区、跨地区，或两者的组合。
- en: Amazon S3 Lifecycle Management Amazon S3 offers unlimited amount of storage.
    This means that it is very easy to upload any amount of data you create and simply
    forget about it. At the same time, let's not forget that Amazon S3 charges you
    for the total amount of storage consumed, and the cost also depends on the storage
    class in which you place your objects.
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: Amazon S3 生命周期管理 Amazon S3 提供无限量的存储空间。这意味着你可以轻松上传你创建的任何数量的数据，并可以完全不再关注它。同时，我们也不能忘记，Amazon
    S3 会根据你使用的存储量收费，费用还取决于你将对象放置在哪种存储类别中。
- en: Often, the bulk of your data is going to be infrequently accessed, especially
    after the initial period in which the data was created. This makes it essential
    to have some mechanism for moving objects you no longer need frequent access to
    into a cheaper storage class, to manage your storage costs effectively. In addition,
    you may also host a lot of archive data that you no longer require after a period,
    even for compliance and auditing purposes. For example, some regulations state
    that certain types of data need only be kept for a maximum of 7 years.
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，数据的大部分在创建后的初期会很少被访问。这使得你必须有一种机制，将那些不再需要频繁访问的对象移动到更便宜的存储类别，以有效管理你的存储成本。此外，你可能还会存储大量存档数据，这些数据在一段时间后不再需要，甚至不再用于合规性和审计目的。例如，一些法规规定，某些类型的数据最多只需要保存
    7 年。
- en: Manually trying to manage vast quantities of data can be a tiresome affair,
    often involving the creation of scripts and tools to review the data stored in
    the cloud. Instead, you can use a reliable solution by Amazon S3, known as Amazon
    S3 Lifecycle Management.
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 手动管理大量数据可能是一项繁琐的工作，通常需要创建脚本和工具来审查存储在云中的数据。相反，你可以使用 Amazon S3 提供的可靠解决方案——Amazon
    S3 生命周期管理。
- en: 'Amazon S3 Lifecycle Management actions can be applied to your Amazon S3 buckets.
    These can be applied to the entire bucket or a subset of data by defining a prefix.
    These actions fall into two main categories, outlined as follows:'
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: Amazon S3 生命周期管理操作可以应用于你的 Amazon S3 桶。这些操作可以应用于整个桶或通过定义前缀应用于部分数据。这些操作主要分为两大类，具体如下：
- en: '**Transition actions**—These allow you to move objects from one storage class
    to another after a certain period of time has passed. For example, if you know
    that you are going to be infrequently accessing a particular dataset after 60
    days, you can set a rule to move that data from the Standard storage class to
    the Standard-IA storage class 60 days after creation.'
  id: totrans-174
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**过渡操作**—这允许你在一定时间后将对象从一种存储类移动到另一种存储类。例如，如果你知道在 60 天后你将不频繁访问某个特定数据集，你可以设置一个规则，将该数据从标准存储类移动到标准-IA
    存储类，60 天后进行过渡。'
- en: '**Expiration actions**—These allow you to delete objects from the S3 storage
    system after a set number of days. For example, if you do not require old log
    files after 365 days, you can set a rule to automatically expire those objects
    after 365 days, which will purge them from the storage platform.'
  id: totrans-175
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**过期操作**—这些操作允许你在设置的天数后删除 S3 存储系统中的对象。例如，如果你在 365 天后不再需要旧的日志文件，你可以设置一个规则，使这些对象在
    365 天后自动过期，从存储平台中删除它们。'
- en: You can use a combination of transition actions and expiration actions as well.
    For example, you may have log data that you frequently access for the first 30
    days. After that, you may still need to revisit that data for a period of 180
    days, post which you no longer require it. You can set a combination rule to transition
    the log files after 30 days of creation from the Standard class to the Standard-IA
    class, then create another expiration action to purge the data after 180 days.
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 你还可以使用过渡操作和过期操作的组合。例如，你可能有一些日志数据，在前 30 天会频繁访问。之后，你可能仍然需要在 180 天内重新访问这些数据，180
    天后就不再需要了。你可以设置一个组合规则，在创建后 30 天将日志文件从标准类过渡到标准-IA 类，然后创建另一个过期操作，在 180 天后清除数据。
- en: You can also apply different lifecycle actions to versioned data—for example,
    you can have one set of rules and actions against the current version of your
    objects and another set for previous versions. This further allows you to manage
    your objects more effectively.
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 你还可以对版本化的数据应用不同的生命周期操作——例如，你可以为当前版本的对象设置一组规则和操作，为先前的版本设置另一组规则。这进一步允许你更有效地管理对象。
- en: S3 encryption
  id: totrans-178
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: S3 加密
- en: All data uploaded to Amazon S3 is encrypted in transit using the HTTPS protocol.
    However, data stored on S3 is not modified in any way, which means that if you
    are uploading sensitive data in plaintext, the data is stored unencrypted by default.
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 上传到 Amazon S3 的所有数据在传输过程中都会使用 HTTPS 协议进行加密。然而，存储在 S3 上的数据不会被修改，这意味着如果你上传的是明文的敏感数据，默认情况下数据将以未加密的形式存储。
- en: 'To add an additional layer of security, you can encrypt the data before storing
    it in S3\. This is known as encryption at rest. AWS offers two options for encrypting
    your data at rest, outlined as follows:'
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 为了增加额外的安全层，你可以在将数据存储到 S3 之前对其进行加密。这被称为静态加密。AWS 提供了两种加密数据静态存储的选项，如下所述：
- en: '**Server-side encryption**—When you upload (create) an object, Amazon S3 encrypts
    it before saving it to disk, and when you download/request an object, it is automatically
    decrypted by the S3 service. You have three mutually exclusive options when deciding
    to encrypt your objects using server-side encryption, outlined as follows:'
  id: totrans-181
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**服务器端加密**—当你上传（创建）对象时，Amazon S3 会在保存到磁盘之前对其进行加密，而当你下载/请求对象时，S3 服务会自动解密该对象。在决定使用服务器端加密加密对象时，你有三种互斥的选择，具体如下：'
- en: a) **Server-side encryption** with **Amazon S3-managed keys** (**SSE-S3**)—
    Amazon encrypts your data with a 256-bit **Advanced Encryption Standard** (**AES-256**).
    Each object is encrypted with a unique key, and the key itself is further encrypted
    with a master key that AWS rotates and manages for you.
  id: totrans-182
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: a) 使用**Amazon S3 管理的密钥**（**SSE-S3**）的**服务器端加密**—Amazon 使用 256 位的**高级加密标准**（**AES-256**）对你的数据进行加密。每个对象都使用唯一的密钥进行加密，密钥本身会使用
    AWS 为你旋转和管理的主密钥进一步加密。
- en: b) **Server-side encryption** with **customer master keys** (**CMKs**) stored
    in AWS **Key Management Service** (**SSE-KMS**)—This is similar to SSE-S3 but
    with added features, including the ability to create and manage your own CMKs,
    as well as an auditing feature that shows when your CMK was used and by whom.
  id: totrans-183
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: b) 使用**客户主密钥**（**CMK**）存储在 AWS **密钥管理服务**（**SSE-KMS**）中的**服务器端加密**—这类似于 SSE-S3，但具有更多附加功能，包括能够创建和管理自己的
    CMK，以及一个审计功能，显示何时以及由谁使用了你的 CMK。
- en: c) **Server-side encryption** with **customer provided keys** (**CPKs**) (**SSE-C**)—Encryption
    is performed by Amazon S3, but with CPKs. This is ideal if you need to follow
    regulatory requirements of creating and managing your own keys.
  id: totrans-184
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: c) **服务器端加密**与**客户提供的密钥**（**CPKs**）（**SSE-C**）—加密由 Amazon S3 执行，但使用 CPKs。如果您需要遵循管理和创建自己密钥的监管要求，这种方式是理想选择。
- en: '**Client-side encryption**—This is where data is encrypted on the client side
    and the encrypted data is then uploaded to Amazon S3\. The full encryption process
    is therefore managed by the customer.'
  id: totrans-185
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**客户端加密**—在这种情况下，数据在客户端加密，之后加密数据会上传到 Amazon S3。因此，整个加密过程由客户管理。'
- en: Static website hosting
  id: totrans-186
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 静态网站托管
- en: In addition to storing data, Amazon S3 also offers a service for hosting complete
    websites for your company. The only limitation is that the web hosting service
    is designed to host static websites only, as opposed to dynamic websites.
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 除了存储数据外，Amazon S3 还提供为您的公司托管完整网站的服务。唯一的限制是，网站托管服务仅设计用于托管静态网站，而非动态网站。
- en: The primary difference is that while the content stored on Amazon S3 to deliver
    the complete website can be changed and updated, it remains constant and *static*,
    and all users accessing the site will see the same content.
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 主要区别在于，尽管存储在 Amazon S3 上以交付完整网站的内容可以更改和更新，但它始终保持不变且*静态*，并且所有访问该网站的用户都将看到相同的内容。
- en: Dynamic websites use server-side scripting to deliver dynamic content that changes
    in-flight depending on various parameters, and generally connect to a backend
    database to fetch content.
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 动态网站使用服务器端脚本根据不同参数在飞行中交付动态内容，并通常连接到后端数据库以获取内容。
- en: Nevertheless, static websites can also provide complete end-to-end solutions
    and serve several use cases at a fraction of the cost. In addition to hosting
    and delivering digital assets such as **HyperText Transfer Markup** (**HTML**)
    files, **Cascading Style Sheets** (**CSS**), **Portable Document Format** (**PDF**)
    documents, images, and videos, you can also host client-side scripts that run
    in the client browser to offer additional features that can include interactive
    elements—for example, you can run a client-side script on a S3 static website
    to collect email addresses for potential customers and store them with a third-party
    email-campaign service provider. You can also host scripts that access additional
    AWS services. Having lambda functions and, potentially, **Elastic Container Service**
    (**ECS**) or **Elastic Kubernetes Service** (**EKS**) as backends allows you to
    run anything starting from a static website. Ultimately, you have a wide range
    of use cases for hosting static websites on Amazon S3\. Owing to its highly available
    and scalable nature to handle large volumes of traffic, Amazon S3 can prove to
    be a better solution than hosting static sites across a fleet of EC2 instances,
    depending on your use case.
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，静态网站也可以提供完整的端到端解决方案，并以低成本支持多个使用场景。除了托管和交付数字资产，如**超文本标记语言**（**HTML**）文件、**层叠样式表**（**CSS**）、**便携文档格式**（**PDF**）文档、图像和视频外，您还可以托管在客户端浏览器中运行的客户端脚本，以提供额外的功能，包括互动元素——例如，您可以在
    S3 静态网站上运行一个客户端脚本，以收集潜在客户的电子邮件地址并将其存储在第三方电子邮件营销服务提供商处。您还可以托管访问其他 AWS 服务的脚本。通过
    Lambda 函数，并可能结合**弹性容器服务**（**ECS**）或**弹性 Kubernetes 服务**（**EKS**）作为后端，您可以从一个静态网站开始运行任何应用程序。最终，您可以在
    Amazon S3 上托管静态网站，满足各种使用场景。由于其高度可用且可扩展的特点，能够处理大量流量，Amazon S3 相较于通过一组 EC2 实例托管静态网站，可能会是一个更好的解决方案，具体取决于您的使用场景。
- en: 'Some examples of considering the Amazon S3 static website hosting service include
    the following:'
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是一些考虑使用 Amazon S3 静态网站托管服务的示例：
- en: '**Developing a product-prelaunch website**—Often, when you need to advertise
    a pre-launch campaign of a new product range, you may not be able to gauge the
    amount of traffic you might generate. Hosting the same solution on a fleet of
    EC2 instances may be more costly since you may need to scale out fast and utilize
    a large server farm if your marketing campaigns have been particularly successful.
    By way of contrast, the scalable nature of S3 will ensure that demand is met automatically
    with the inflow of large amounts of traffic.'
  id: totrans-192
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**开发产品预发布网站**—通常，当您需要宣传新产品系列的预发布活动时，可能无法准确预测会产生多少流量。将同一解决方案托管在一组 EC2 实例上可能更为昂贵，因为如果您的营销活动特别成功，您可能需要快速扩展并使用大量的服务器集群。相比之下，S3
    的可扩展特性确保了随着大量流量的涌入，需求会自动得到满足。'
- en: '**Offloading**—With Amazon S3, you get a highly scalable, reliable, and low-latency
    data storage solution. Even if you host dynamic websites that run on expensive
    EC2 instances and EBS volumes, you are likely to have a large volume of static
    content (such as documents, images, and videos, for example). You could offload
    such static content to an S3 bucket and reference it via API calls from all sites
    hosted on EC2 instances. The benefits include low storage costs for your digital
    assets and, because your servers are kept lean, you also get better performance.'
  id: totrans-193
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**卸载**——通过 Amazon S3，你可以获得一个高度可扩展、可靠且低延迟的数据存储解决方案。即使你托管运行在昂贵 EC2 实例和 EBS 卷上的动态网站，你也可能有大量的静态内容（例如文档、图像和视频）。你可以将这些静态内容卸载到
    S3 存储桶，并通过 API 调用在所有托管在 EC2 实例上的站点中引用它。其优点包括降低数字资产的存储成本，而且由于你的服务器保持精简，你还可以获得更好的性能。'
- en: '**"Lite" version of website or "Under Maintenance" banners**—Sometimes, you
    need to host an alternative version of your site when you are performing upgrades
    or rolling out major updates. By hosting a *lite* static version of your site
    on an S3 bucket, you can easily redirect request to the S3 buckets during periods
    of maintenance or major updates.'
  id: totrans-194
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**“精简版”网站或“维护中”横幅**——有时，在执行升级或发布重大更新时，你需要托管站点的替代版本。通过在 S3 存储桶中托管站点的*精简版*静态版本，你可以在维护或重大更新期间轻松将请求重定向到
    S3 存储桶。'
- en: In this section, we looked at the fundamentals of Amazon S3 on AWS and learned
    about its various features. In the next section, we look at some additional services,
    covering transfer of data and archiving.
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们学习了 AWS 上 Amazon S3 的基础知识，并了解了它的各种功能。在下一节中，我们将介绍一些附加服务，涵盖数据传输和归档。
- en: Amazon S3TA
  id: totrans-196
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Amazon S3TA
- en: If you host an S3 bucket in a specific Region but require users across the globe
    to upload objects to it, your users may experience longer and unexpected variable
    speeds for uploads and downloads over the internet, depending on where they are
    based. S3TA reduces this speed variability that is often experienced due to the
    architecture of the public internet. S3TA routes your uploads via Amazon CloudFront's
    globally distributed edge locations and AWS backbone networks. This, in turn,
    gives faster speeds and consistently low latency for your data transfers.
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你在某个特定区域托管了 S3 存储桶，但需要全球用户向其上传对象，用户可能会根据所在位置体验到更长时间的上传和下载速度波动。S3TA 减少了这种由于公共互联网架构而经常出现的速度波动。S3TA
    通过 Amazon CloudFront 全球分布的边缘位置和 AWS 主干网络来路由你的上传数据，从而提供更快的速度和始终如一的低延迟。
- en: 'Here is a screenshot of a S3TA speed checker that uploads a sample file from
    your browser to various S3 Regions and compares the speed results between standard
    internet upload versus uploads via S3TA. You can try out the speed test at [https://s3-accelerate-speedtest.s3-accelerate.amazonaws.com/en/accelerate-speed-comparsion.html](https://s3-accelerate-speedtest.s3-accelerate.amazonaws.com/en/accelerate-speed-comparsion.html):'
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个 S3TA 速度测试工具的截图，它将一个示例文件从浏览器上传到不同的 S3 区域，并比较标准互联网上传速度与通过 S3TA 上传速度之间的差异。你可以在
    [https://s3-accelerate-speedtest.s3-accelerate.amazonaws.com/en/accelerate-speed-comparsion.html](https://s3-accelerate-speedtest.s3-accelerate.amazonaws.com/en/accelerate-speed-comparsion.html)
    上尝试这个速度测试：
- en: '![Figure 5.5 – Amazon S3TA speed test'
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 5.5 – Amazon S3TA 速度测试'
- en: '](img/B17124_05_05.jpg)'
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B17124_05_05.jpg)'
- en: Figure 5.5 – Amazon S3TA speed test
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.5 – Amazon S3TA 速度测试
- en: In this section, we introduced you to the Amazon S3 service and discussed its
    various feature sets. Amazon S3 is an object storage solution designed to help
    customers store any amount of data in the cloud. With features such as versioning,
    CRR/SRR, encryption, and static website hosting, you can use Amazon S3 for a wide
    range of use cases at affordable storage costs.
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们向你介绍了 Amazon S3 服务，并讨论了它的各种功能。Amazon S3 是一种对象存储解决方案，旨在帮助客户将任何数量的数据存储到云中。凭借版本控制、CRR/SRR、加密和静态网站托管等功能，你可以以负担得起的存储成本，将
    Amazon S3 用于各种用例。
- en: In the next section, we look at some additional features of the Amazon Glacier
    services, which offer an archival storage solution.
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一节中，我们将介绍 Amazon Glacier 服务的其他功能，它们提供了归档存储解决方案。
- en: Learning about archiving solutions with Amazon S3 Glacier
  id: totrans-204
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 学习使用 Amazon S3 Glacier 的归档解决方案
- en: Earlier in this chapter, we introduced you to the Amazon S3 Glacier and Glacier
    Deep Archive storage classes. Amazon Glacier offers long-term storage at very
    a low cost and is intended to be used for archival storage. The architecture offers
    the same 99.999999999% (eleven 9s) of durability so that in the event of a major
    disaster, you can rest assured that your old archives will be available to recover
    if the need arises. The technology works differently from standard S3 storage.
    The archives need to be requested before you can access/download them, which involves
    a two-step process of first creating a retrieval job and then downloading your
    data once the job is complete.
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章早些时候，我们介绍了Amazon S3 Glacier和Glacier Deep Archive存储类。Amazon Glacier提供非常低成本的长期存储，旨在用于归档存储。该架构提供相同的99.999999999%（11个9）的耐久性，因此在发生重大灾难时，你可以放心，旧的归档文件将在需要时可用进行恢复。该技术与标准S3存储不同。归档文件需要先请求才能访问/下载，涉及一个两步过程：首先创建检索任务，然后在任务完成后下载你的数据。
- en: This retrieval process can take some time and depends on your chosen retrieval
    options, as previously discussed. However, the upside to this delay in being able
    to access your data is that you get some of the cheapest storage options on the
    Amazon platform.
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 这个检索过程可能需要一些时间，具体取决于你选择的检索选项，如前所述。然而，这种延迟访问数据的优点是，你可以获得Amazon平台上最便宜的存储选项。
- en: Archives and vaults
  id: totrans-207
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 归档和金库
- en: As with other Amazon S3 storage classes, you can store any amount of data in
    the Glacier class. However, your objects are stored as archives, and an archive
    can contain either a single file or multiple files clubbed together in a `.zip`
    or `.tar` format. The size of your archive can between 1 byte and 40 terabytes.
    On Amazon S3, a single object can only be a maximum of 5 TB.
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 与其他Amazon S3存储类一样，你可以将任何数量的数据存储在Glacier类中。然而，你的对象将作为归档存储，而归档可以包含单个文件或多个文件，文件可以以`.zip`或`.tar`格式打包在一起。归档的大小可以从1字节到40TB不等。在Amazon
    S3上，单个对象的最大大小为5TB。
- en: Furthermore, archives can be grouped and stored in vaults. When you create a
    vault, you need to specify the Region in which it will be created. Vaults also
    let you define access and notification policies, and you can have up to 1,000
    vaults per Region. A vault policy enables you to define who can access it and
    which actions can be performed on it. You can also define vault lock policies,
    such as **Write Once Read Many** (**WORM)**, or time-based record-retention policies
    for regulatory archives.
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，归档文件可以被分组并存储在金库中。当你创建一个金库时，需要指定它将被创建的区域。金库还允许你定义访问和通知策略，每个区域最多可以拥有1,000个金库。金库策略使你能够定义谁可以访问金库以及可以对其执行哪些操作。你还可以定义金库锁定策略，如**只写多读**（**WORM**），或者用于合规性归档的基于时间的记录保留策略。
- en: Retrieval options
  id: totrans-210
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 检索选项
- en: 'As previously discussed, access to your archives in Amazon Glacier is not instantaneous.
    Depending on the Glacier storage class you choose (Glacier versus Deep Archive),
    you have the following different retrieval options available:'
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所述，访问Amazon Glacier中的归档文件不是即时的。根据你选择的Glacier存储类（Glacier与Deep Archive），你有以下不同的检索选项：
- en: a) **Amazon S3 Glacier Retrieval Options**
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: a) **Amazon S3 Glacier检索选项**
- en: '**Standard**—This is the default retrieval option and typically takes between
    3 and 5 hours to complete, before your data is made available to download.'
  id: totrans-213
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**标准**—这是默认的检索选项，通常需要3到5小时完成，之后你的数据将可以下载。'
- en: '**Expedited**—If you need urgent access to just a subset of your archives,
    you can opt for the Expedited retrieval option. Naturally, the cost of retrieval
    is higher than the other options. Furthermore, Expedited retrievals are made available
    within 1 to 5 minutes for archives of up to 250 **megabytes** (**MB**). In addition,
    two types of expedited retrieval options are available: On-Demand and Provisioned.
    With On-Demand, your retrieval requests are generally fulfilled within a 5-minute
    period, although during periods of high demand, this may take longer. Optionally,
    you can purchase Provisioned capacity, which ensures available retrieval capacity
    when you need it the most.'
  id: totrans-214
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**加急**—如果你需要紧急访问你的部分归档文件，可以选择加急检索选项。显然，加急检索的费用比其他选项更高。此外，对于最多250 **兆字节**（**MB**）的归档，加急检索将在1到5分钟内提供。除此之外，还提供两种加急检索选项：按需和预配。在按需选项中，你的检索请求通常会在5分钟内完成，尽管在高需求期间，这可能需要更长时间。你还可以选择购买预配容量，以确保在最需要时能获得可用的检索容量。'
- en: '**Bulk** —This is designed to help you retrieve large amounts of data at the
    lowest-cost retrieval option and typically takes between 5 to 12 hours to complete.'
  id: totrans-215
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**批量** —此选项旨在帮助你以最低的检索成本检索大量数据，通常需要 5 到 12 小时才能完成。'
- en: b) **Amazon S3 Glacier Deep Archive Retrieval Options**
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: b) **Amazon S3 Glacier 深度归档检索选项**
- en: '**Standard**—Retrieval of your deep archives can be achieved within 12 hours.'
  id: totrans-217
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**标准**—深度归档的检索可以在 12 小时内完成。'
- en: '**Bulk**—Retrieval of **petabytes** (**PB**) of data within 48 hours can be
    achieved, and it is also the lowest-cost option available.'
  id: totrans-218
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**批量**—可以在 48 小时内检索 **PB**（**千兆字节**）级的数据，也是最具成本效益的选项。'
- en: In this section, we looked at archiving solutions with the Amazon S3 Glacier
    service and how you can store data for many years to fulfill compliance and regulatory
    requirements. In the next section, we look at how you can connect your on-premises
    storage services to Amazon S3\.
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们讨论了使用 Amazon S3 Glacier 服务的归档解决方案，以及如何存储数据多年以满足合规和监管要求。在下一节中，我们将探讨如何将你的本地存储服务连接到
    Amazon S3。
- en: Connecting your on-premises storage to AWS with Amazon Storage Gateway
  id: totrans-220
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 将你的本地存储连接到 AWS，使用 Amazon Storage Gateway。
- en: Amazon Storage Gateway is an on-premises solution that enables you to connect
    your on-premises servers and storage systems to the Amazon S3 cloud environment.
    The service involves installing the Storage Gateway **virtual machines** (**VMs**)
    on-premises and connecting your servers to them. The gateway uses industry-standard
    protocols to then transfer data between your servers and the Amazon S3 platform.
    The VM can be deployed on either VMware ESXi or a Microsoft Hyper-V hypervisor.
    Optionally, you can also order a hardware appliance, which is a physical server
    that comes pre-installed and configured with the Storage Gateway software. This
    reduces the administration time involved in setting up your own VMs and integrates
    with your existing storage systems over protocols such as **Network File System**
    (**NFS**), SMB, and **Internet Small Computer Systems Interface** (**iSCSI**).
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: Amazon Storage Gateway 是一个本地解决方案，允许你将本地服务器和存储系统连接到 Amazon S3 云环境。该服务包括在本地安装
    Storage Gateway **虚拟机**（**VMs**）并将你的服务器连接到这些虚拟机。然后，网关使用行业标准协议在你的服务器和 Amazon S3
    平台之间传输数据。虚拟机可以部署在 VMware ESXi 或 Microsoft Hyper-V 虚拟化平台上。你还可以选择订购硬件设备，它是一台预安装并配置好
    Storage Gateway 软件的物理服务器。这可以减少设置你自己虚拟机时所需的管理时间，并通过诸如 **网络文件系统**（**NFS**）、SMB 和
    **互联网小型计算机系统接口**（**iSCSI**）等协议与现有存储系统集成。
- en: Amazon Storage Gateway enables your on-premises application to connect to the
    AWS storage systems *transparently* over standard protocols such as NFS/SMB, **Virtual
    Transport Layer** (**VTL**), and iSCSI. Connectivity between the Storage Gateway
    VMs or hardware appliance to the AWS platform can be established over the internet,
    through secure IPsec **virtual private network** (**VPN**) tunnels or via AWS
    Direct Connect.
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: Amazon Storage Gateway 使你的本地应用程序能够通过标准协议，如 NFS/SMB、**虚拟传输层**（**VTL**）和 iSCSI，*透明地*连接到
    AWS 存储系统。Storage Gateway 虚拟机或硬件设备与 AWS 平台之间的连接可以通过互联网、通过安全的 IPsec **虚拟私人网络**（**VPN**）隧道，或通过
    AWS Direct Connect 建立。
- en: 'Amazon S3 Storage Gateway supports different use cases with the following deployment
    options:'
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: Amazon S3 Storage Gateway 支持不同的使用案例，提供以下部署选项：
- en: '**File Gateway**—Enables you to use standard NFS SMB protocols to store data
    in Amazon S3\. Data is also cached locally, enabling low-latency access. Here,
    there are two options available, as follows:'
  id: totrans-224
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**文件网关**—使你能够使用标准的 NFS、SMB 协议将数据存储在 Amazon S3 中。数据还会被本地缓存，从而实现低延迟访问。这里有两个可选项，如下所示：'
- en: a) **Amazon S3 File Gateway**—This service enables you to present a file-server
    solution to your on-premises servers and access Amazon S3, where you can store
    and retrieve objects in Amazon S3 using industry-standard file protocols such
    as NFS and SMB. Furthermore, because the data is ultimately stored in S3, you
    benefit from all its features such as versioning, bucket policies, CRR, and so
    on.
  id: totrans-225
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: a) **Amazon S3 文件网关**—此服务使你能够为本地服务器提供文件服务器解决方案，并访问 Amazon S3，你可以使用行业标准的文件协议，如
    NFS 和 SMB，在 Amazon S3 中存储和检索对象。此外，由于数据最终存储在 S3 中，你可以享受所有 S3 特性，如版本控制、存储桶策略、CRR
    等。
- en: b) **Amazon FSx File Gateway**—This service allows you to connect your on-premises
    Windows servers or Windows-based applications (as well as Linux and macOS systems)
    to the cloud-hosted Amazon FSx for Windows File Server with low latency, and the
    ability to set up and access a virtually unlimited number of Windows file shares
    in the cloud. Amazon FSx File Gateway offers full support for SMB protocol support,
    as well as integration with **Active Directory** (**AD**) and the ability to configure
    access controls using ACLs.
  id: totrans-226
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: b) **Amazon FSx 文件网关**—此服务允许您将本地 Windows 服务器或基于 Windows 的应用程序（以及 Linux 和 macOS
    系统）连接到云托管的 Amazon FSx for Windows File Server，实现低延迟，并能够在云中设置和访问几乎无限数量的 Windows
    文件共享。Amazon FSx 文件网关完全支持 SMB 协议，并集成**活动目录**（**AD**），同时可以使用 ACL 配置访问控制。
- en: '**Volume Gateway**—Enables you to present block storage volumes to your on-premises
    servers over the iSCSI protocol. Volume Gateway can be used to asynchronously
    back up your data to Amazon S3 and comes in two different modes, outlined as follows:'
  id: totrans-227
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**卷网关**—使您能够通过 iSCSI 协议将块存储卷呈现给本地服务器。卷网关可用于异步将您的数据备份到 Amazon S3，并有两种不同的模式，具体如下：'
- en: '**Cache mode**—The bulk of your data is stored in Amazon S3, with only the
    most frequently accessed data stored locally in the cachefor low-latency connectivity.
    This means that you do not need very large amounts of local storage, which helps
    reduce your capital expenditure.'
  id: totrans-228
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**缓存模式**—大部分数据存储在 Amazon S3 中，仅将最常访问的数据存储在本地缓存中，以实现低延迟连接。这意味着您不需要非常大的本地存储，从而有助于降低资本支出。'
- en: '**Stored mode**—Your data is stored locally and available for low-latency access
    on premises. This is particularly useful if your application is sensitive to latency
    for data access. The data is then asynchronously backed up to Amazon S3 and can
    be used for DR purposes.'
  id: totrans-229
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**存储模式**—您的数据本地存储，并可在本地环境中低延迟访问。如果您的应用程序对数据访问的延迟敏感，这尤其有用。数据随后会异步备份到 Amazon
    S3，并可用于灾难恢复（DR）目的。'
- en: '**Tape Gateway**—Many organizations use backup software solutions for their
    on-premises backup needs (for example, Veritas Backup Exec and NetBackup). Often,
    these applications back up data to physical tapes, which most companies store
    off-site. However, the tape drives, tapes, and off-site storage facilities can
    become very costly. The Tape Gateway solution comes to the rescue by enabling
    you to present virtual tapes to your backup software applications over iSCSI.
    Tape Gateway stores these virtual tapes in a **virtual tape library** (**VTL**),
    which is backed up by Amazon S3\. Data is written to these virtual tapes, which
    results in the Tape Gateway solution asynchronously uploading the data to Amazon
    S3\. When you need to restore the data, it is downloaded to the local cache, and
    the backup application can restore it to a location you specify on premises.'
  id: totrans-230
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**磁带网关**—许多组织使用备份软件解决方案来满足本地备份需求（例如，Veritas Backup Exec 和 NetBackup）。通常，这些应用程序将数据备份到物理磁带，而大多数公司将磁带存储在异地。然而，磁带驱动器、磁带和异地存储设施可能会变得非常昂贵。磁带网关解决方案通过使您能够通过
    iSCSI 将虚拟磁带呈现给备份软件应用程序来拯救您。磁带网关将这些虚拟磁带存储在**虚拟磁带库**（**VTL**）中，并由 Amazon S3 备份。数据会写入这些虚拟磁带，导致磁带网关解决方案异步将数据上传到
    Amazon S3。当您需要恢复数据时，它将被下载到本地缓存，备份应用程序可以将其恢复到您指定的本地位置。'
- en: To manage long-term storage of old data, you can transition virtual tapes between
    Amazon S3 and Amazon S3 Glacier or Amazon S3 Glacier Deep Archive. If you later
    need to access the data on an **archived virtual tape**, you need to retrieve
    the tape and present it to your Tape Gateway solution.
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: 为了管理旧数据的长期存储，您可以在 Amazon S3 和 Amazon S3 Glacier 或 Amazon S3 Glacier Deep Archive
    之间转换虚拟磁带。如果以后需要访问**归档的虚拟磁带**上的数据，则需要检索该磁带并将其呈现给您的磁带网关解决方案。
- en: Note that retrieval of an archived tape from Glacier will take between 3 and
    5 hours and from Deep Archive can take up to 12 hours.
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，从 Glacier 中检索归档的磁带将需要 3 到 5 小时，而从 Deep Archive 中检索则可能需要最长 12 小时。
- en: In this section, we looked at how you connect your on-premises applications
    to the Amazon S3 storage service using the Storage Gateway solution. In the next
    section, we look at how you can migrate large volumes of data to the cloud using
    alternative offline methods, which is particularly useful when you have limited
    internet bandwidth.
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们介绍了如何使用 Storage Gateway 解决方案将本地应用程序连接到 Amazon S3 存储服务。在下一节中，我们将讨论如何使用其他离线方法将大量数据迁移到云端，这在您拥有有限的互联网带宽时特别有用。
- en: Migrating large datasets to AWS with the AWS Snow Family
  id: totrans-234
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用 AWS Snow 家族将大型数据集迁移到 AWS
- en: Many companies looking to move to the cloud generally host vast amounts of data
    on premises. While it is possible to transfer data over the public internet into
    Amazon S3, customers with vast amounts of data may need to consider offline methods
    of transfer due to bandwidth limitations.
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: 许多寻求迁移到云的公司通常将大量数据托管在本地。尽管可以通过公共互联网将数据传输到 Amazon S3，但拥有大量数据的客户可能需要考虑离线传输方法，原因是带宽限制。
- en: AWS offers rugged devices that can be delivered to your on-premises location.
    These include the **Snowcone**, **Snowball**, and **Snowmobile** devices.
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: AWS 提供坚固耐用的设备，可以送到您的本地位置。这些设备包括 **Snowcone**、**Snowball** 和 **Snowmobile**。
- en: AWS Snowball
  id: totrans-237
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: AWS Snowball
- en: At its very basic offering, you simply copy large amounts of data to the device
    and ship it back to AWS to have the data imported into Amazon S3\. These devices
    are known as AWS Snowball devices and are part of the Snow Family of devices.
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: 在最基本的应用中，您只需将大量数据复制到设备中，并将其寄回 AWS，以将数据导入到 Amazon S3。这些设备被称为 AWS Snowball 设备，是
    Snow 家族设备的一部分。
- en: These edge devices come with compute and storage capabilities contained in highly
    rugged, tamper-proof devices. The devices feature a **Trusted Platform Module**
    (**TPM**) chip that detects unauthorized modifications to hardware, software,
    or firmware. These devices can be used for storage and data processing at your
    on-premises locations. Often, customers will use Snowball edge devices for migrations,
    data collections, and processing with or without internet connectivity.
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: 这些边缘设备具有计算和存储功能，包含在高度坚固、防篡改的设备中。设备配备 **受信平台模块** (**TPM**) 芯片，能够检测硬件、软件或固件的未授权修改。这些设备可用于在本地位置进行存储和数据处理。通常，客户会使用
    Snowball 边缘设备进行迁移、数据收集和处理，无论是否有互联网连接。
- en: 'Amazon Snowball comes in *two flavors*, as follows:'
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: Amazon Snowball 有 *两种版本*，如下所示：
- en: '**Snowball Edge Compute Optimized**—These devices offer both storage and computing
    resources and can be used for **machine learning** (**ML**), analytics, and any
    local computing tasks. The devices come with 52 **virtual central processing units**
    (vCPUs), 208 GB of memory, and an optional NVIDIA Tesla V100 **graphics processing
    unit** (**GPU**). In terms of storage, the device offers 42 TB of **hard-disk
    drive** (**HDD**) capacity and 7.68 TB of **solid-state drive** (**SSD**) capacity.'
  id: totrans-241
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Snowball Edge 计算优化版**—这些设备同时提供存储和计算资源，可用于 **机器学习** (**ML**)、分析以及任何本地计算任务。设备配备
    52 个 **虚拟中央处理单元** (vCPUs)、208 GB 内存，并配备可选的 NVIDIA Tesla V100 **图形处理单元** (**GPU**)。在存储方面，设备提供
    42 TB 的 **硬盘驱动器** (**HDD**) 容量和 7.68 TB 的 **固态硬盘** (**SSD**) 容量。'
- en: '**Snowball Edge Storage Optimized**—These devices offer larger storage capacity
    and are ideal for data migration tasks. With 80 TB of HDD and 1 TB of **serial
    advanced technology attachment** (**SATA**) SDD volumes, you can start moving
    large volumes of data to the cloud. The device also comes with 40 vCPUs and 80
    GB of memory.'
  id: totrans-242
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Snowball Edge 存储优化版**—这些设备提供更大的存储容量，适用于数据迁移任务。配备 80 TB 的 HDD 和 1 TB 的 **串行高级技术附件**
    (**SATA**) SDD 卷，您可以开始将大量数据迁移到云端。该设备还配备了 40 个 vCPUs 和 80 GB 内存。'
- en: Amazon Snowcone
  id: totrans-243
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Amazon Snowcone
- en: The smallest member of the AWS Snow Family, these devices are the smallest ever
    and weigh just 4.5 **pounds** (**lb**) (2.1 **kilograms** (**kg**)). Snowcone
    devices come with 8 TB of usable storage and are designed for outside use in areas
    of low network connectivity. Examples include IoT, vehicular, and drone use cases.
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: 作为 AWS Snow 家族中最小的成员，这些设备是有史以来最小的，重量仅为 4.5 **磅** (**lb**)（2.1 **千克** (**kg**))。Snowcone
    设备提供 8 TB 可用存储，设计用于网络连接较差的户外环境。例如，物联网、车辆和无人机使用场景。
- en: The device also offers compute capabilities with two vCPUs and 4 GB of memory,
    as well as USB-C power using a cord and optional battery.
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: 该设备还提供计算能力，配备两个 vCPUs 和 4 GB 内存，并通过 USB-C 电源连接线和可选电池提供电力。
- en: Amazon Snowmobile
  id: totrans-246
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Amazon Snowmobile
- en: If you need to transfer exabyte-scale data to the cloud, then you are going
    need an extremely large 45-foot-long *rugged* shipping container. Amazon Snowmobile
    can transfer up to 100 PB of data to the cloud and assist in all your data center
    migration efforts.
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您需要将 exabyte 级的数据迁移到云端，那么您将需要一个极其庞大的 45 英尺长的 *坚固* 运输集装箱。Amazon Snowmobile
    可以将最多 100 PB 的数据迁移到云端，并协助您的所有数据中心迁移工作。
- en: The shipping container is delivered on-site and an AWS team member will work
    with your team to connect a high-speed switch from Snowmobile to your local network.
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: 运输集装箱将被送到现场，AWS团队成员将与您的团队合作，将Snowmobile的高速交换机连接到您的本地网络。
- en: With 24/7 video surveillance, optional escort security, and 256-bit encryption,
    you have access to the most secure way of transferring sensitive data to Amazon
    S3\.
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: 通过24/7视频监控、可选的护送安保服务以及256位加密，您可以使用最安全的方式将敏感数据传输到Amazon S3。
- en: In this section, we reviewed offline methods to transfer large amounts of data
    to the cloud and assist in your data migration efforts. The Amazon Snow Family
    offers more than just storage containers—these devices come with high levels of
    compute capabilities to perform data processing, analytics, and ML tasks as you
    copy data to them as well.
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们回顾了将大量数据离线传输到云端的方法，并帮助您进行数据迁移。Amazon Snow Family不仅提供存储容器，这些设备还具备强大的计算能力，可以在将数据复制到它们时执行数据处理、分析和机器学习任务。
- en: In the next section, we review some of the key points highlighted in this chapter.
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一部分，我们回顾本章中强调的一些关键点。
- en: Exercise 5.1 – Setting up an Amazon S3 bucket
  id: totrans-252
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 练习5.1 – 设置Amazon S3存储桶
- en: 'In this exercise, we will create an Amazon S3 bucket and upload an object to
    it. More specifically, we will upload a single web page document and test access
    to it after the upload. Since we plan to later *use* this bucket to host a static
    website and make content accessible to anyone on the internet, you will need to
    disable the **Block Public Access** setting, as discussed in the access permissions
    settings earlier in this chapter. Proceed as follows:'
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: 在本练习中，我们将创建一个Amazon S3存储桶，并上传一个对象到其中。更具体地，我们将上传一个单独的网页文档，并在上传后测试访问。由于我们计划稍后*使用*此存储桶来托管一个静态网站并使内容对互联网上的任何人可访问，您需要禁用**阻止公共访问**设置，正如本章之前在访问权限设置中讨论的那样。请按以下步骤进行：
- en: On your computer, create a new file using a standard text editor of your choice
    (Notepad on Windows or TextEdit on Mac).
  id: totrans-254
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在您的计算机上，使用您选择的标准文本编辑器（Windows上的记事本或Mac上的TextEdit）创建一个新文件。
- en: 'Add the following lines of code to the document:'
  id: totrans-255
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将以下代码行添加到文档中：
- en: '[PRE0]'
  id: totrans-256
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Next, save it with a filename of `index` with a `.html` extension—so, the filename
    with the extension should be `index.html`. This will create a simple web page
    object for you. You may need to set the **Save as type** option to **All Files**,
    as illustrated in the following screenshot:![Figure 5.6 – Saving a file with a
    .html extension to create a web page
  id: totrans-257
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，保存文件，文件名为`index`，并添加`.html`扩展名—因此，文件名和扩展名应为`index.html`。这将为您创建一个简单的网页对象。您可能需要将**另存为类型**选项设置为**所有文件**，如下图所示：![图5.6
    – 通过.html扩展名保存文件以创建网页
- en: '](img/B17124_05_06.jpg)'
  id: totrans-258
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B17124_05_06.jpg)'
- en: Figure 5.6 – Saving a file with a .html extension to create a web page
  id: totrans-259
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图5.6 – 通过.html扩展名保存文件以创建网页
- en: Next, log in to your AWS account as the IAM user, **Alice**.
  id: totrans-260
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，以IAM用户**Alice**身份登录到您的AWS账户。
- en: Navigate to the Amazon S3 console.
  id: totrans-261
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 进入Amazon S3控制台。
- en: Click **Create bucket**, as illustrated in the following screenshot:![Figure
    5.7 – List of buckets
  id: totrans-262
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 单击**创建存储桶**，如下图所示：![图5.7 – 存储桶列表
- en: '](img/B17124_05_07.jpg)'
  id: totrans-263
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B17124_05_07.jpg)'
- en: Figure 5.7 – List of buckets
  id: totrans-264
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图5.7 – 存储桶列表
- en: For the name of the bucket, type in your name followed by a hyphen (`-`) and
    the word `webpage`. Make sure there are no spaces in the name and that all lowercase
    letters are used. Assuming that the name you have chosen has not already been
    taken by another customer of AWS, you should be able to use this bucket name.
    If you get an error when you create the bucket, stating that the name is not available,
    you will simply need to choose a different name.
  id: totrans-265
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于存储桶的名称，请输入您的名字，后跟一个连字符（`-`）和单词`webpage`。确保名称中没有空格，并且使用全小写字母。假设您选择的名称尚未被AWS的其他客户占用，您应该能够使用这个存储桶名称。如果在创建存储桶时遇到错误，提示名称不可用，您只需要选择另一个名称。
- en: For `us-east-1`.
  id: totrans-266
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于`us-east-1`。
- en: Next, under the **Block Public Access settings for bucket** sub-heading, uncheck
    he box for **Block all public access**. Note that for general use cases, you do
    not want to unblock public access unless your use case demands it, such as when
    trying to configure static website hosting, which we will look at later in *Exercise
    5.4*. If you do not need anonymous access such as that from end users on the public
    internet, you must always correctly configure your permissions using bucket policies,
    ACLs, or access point policies, to ensure you leverage the **principal of least
    privilege** (**PoLP**).
  id: totrans-267
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，在**存储桶的公共访问阻止设置**子标题下，取消勾选**阻止所有公共访问**的框。请注意，对于一般用例，除非你的用例需要，否则你不应解除公共访问阻止，例如在配置静态网站托管时，我们将在*练习
    5.4*中讨论此操作。如果你不需要像公共互联网中的最终用户那样的匿名访问，你必须始终正确配置权限，使用存储桶策略、ACL 或访问点策略，以确保你遵循**最小权限原则**（**PoLP**）。
- en: Next, check the box to state that you acknowledge that the preceding settings
    could make the bucket and its objects publicly accessible, as illustrated in the
    following screenshot:![Figure 5.8 – Turning off block all public access on your
    bucket
  id: totrans-268
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，勾选该框，声明你已知悉前述设置可能会使存储桶及其对象变为公共可访问，如下图所示：![图 5.8 – 关闭存储桶的所有公共访问阻止
- en: '](img/B17124_05_08.jpg)'
  id: totrans-269
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B17124_05_08.jpg)'
- en: Figure 5.8 – Turning off block all public access on your bucket
  id: totrans-270
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 5.8 – 关闭存储桶的所有公共访问阻止
- en: Leave all other settings as default and click on the **Create bucket** button
    at the bottom of the screen. Your Amazon S3 bucket has now been created.
  id: totrans-271
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 保持其他所有设置为默认，并点击屏幕底部的**创建存储桶**按钮。你的 Amazon S3 存储桶现在已经创建。
- en: Next, in your list of buckets in the main S3 console, select the bucket you
    just created. This will take you to the current list of objects in the bucket.
    You will note that there will be none at present.
  id: totrans-272
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，在主 S3 控制台的存储桶列表中，选择你刚刚创建的存储桶。这将带你进入存储桶中当前的对象列表。你会注意到目前没有任何对象。
- en: You will notice an **Upload** button. Click on this button and you will have
    the option to add files and folders, as per the following screenshot:![Figure
    5.9 – Uploading object to your bucket
  id: totrans-273
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你会注意到有一个**上传**按钮。点击该按钮后，你将可以添加文件和文件夹，如下图所示：![图 5.9 – 将对象上传到你的存储桶
- en: '](img/B17124_05_09.jpg)'
  id: totrans-274
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B17124_05_09.jpg)'
- en: Figure 5.9 – Uploading object to your bucket
  id: totrans-275
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 5.9 – 将对象上传到你的存储桶
- en: Add the `index.html` file you created/downloaded earlier.
  id: totrans-276
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加你之前创建/下载的`index.html`文件。
- en: Scroll toward the bottom of the screen and click the **Upload** button.
  id: totrans-277
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 向屏幕底部滚动并点击**上传**按钮。
- en: Your file will be uploaded.
  id: totrans-278
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你的文件将被上传。
- en: You will note a green banner at the top of the screen to say that the upload
    has been successful. Now, go ahead and click **Exit**.
  id: totrans-279
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你会注意到屏幕顶部会有一个绿色横幅，显示上传已成功。现在，继续点击**退出**。
- en: You are then presented with the contents of the bucket you just created.
  id: totrans-280
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然后，你将看到你刚刚创建的存储桶的内容。
- en: You can now click on the `index.html` file in the **Objects** list, which will
    take you to the Amazon S3 properties page of the file itself.
  id: totrans-281
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你现在可以点击**对象**列表中的`index.html`文件，这将带你进入该文件本身的 Amazon S3 属性页面。
- en: Note that each object has its own URL accessible from the internet (as long
    as the permissions are correctly set), as we can see in the following screenshot:![Figure
    5.10 – Uploading the index.html object to your bucket
  id: totrans-282
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 请注意，每个对象都有自己的 URL，可以通过互联网访问（只要权限设置正确），正如我们在以下截图中看到的：![图 5.10 – 将 index.html
    对象上传到你的存储桶
- en: '](img/B17124_05_10.jpg)'
  id: totrans-283
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B17124_05_10.jpg)'
- en: Figure 5.10 – Uploading the index.html object to your bucket
  id: totrans-284
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 5.10 – 将 index.html 对象上传到你的存储桶
- en: If you try to click on this object URL to open it up in another browser window,
    you will find that you cannot access it. Instead, you get an **Access Denied**
    error message. This is because access to an object via its URL has the same effect
    as trying to anonymously read the object over the public internet.
  id: totrans-285
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果你尝试点击这个对象的 URL 在另一个浏览器窗口中打开，你会发现无法访问它。相反，你会看到一个**拒绝访问**的错误信息。这是因为通过 URL 访问对象的效果就像是尝试匿名地通过公共互联网读取该对象。
- en: Although we disabled the `Allow` rule to grant access to them. You could click
    on the **Permissions** tab of the object itself and set up an ACL to enable public
    access for this object. However, as discussed previously, using bucket policies
    is a better option as these offer more features and granular control.
  id: totrans-286
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管我们禁用了`Allow`规则来授予访问权限，但你可以点击对象本身的**权限**标签，设置 ACL 以启用该对象的公共访问。然而，如前所述，使用存储桶策略是更好的选择，因为它们提供了更多的功能和更精细的控制。
- en: In the next exercise, we will set up a bucket policy to see how we can allow
    public access to this file.
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一个练习中，我们将设置一个存储桶策略，看看如何允许公共访问此文件。
- en: Exercise 5.2 – Configuring public access to S3 buckets
  id: totrans-288
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 练习 5.2 – 配置 S3 存储桶的公共访问
- en: In this exercise, we will configure the Amazon S3 bucket with a `index.html`
    web page you created earlier.
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
  zh: 在本练习中，我们将配置 Amazon S3 存储桶，使用你之前创建的`index.html`网页。
- en: Remember that you could choose to restrict access to only a set of known users—for
    example, if you wanted only IAM users in your AWS account to have access to the
    objects. You can also configure cross-account access, in which you define principals
    that belong to another AWS account and grant them specific levels of access.
  id: totrans-290
  prefs: []
  type: TYPE_NORMAL
  zh: 记住，你可以选择将访问权限限制为仅一组已知用户——例如，如果你只想让你的 AWS 账户中的 IAM 用户访问这些对象。你还可以配置跨账户访问，在这种情况下，你定义属于另一个
    AWS 账户的主体，并授予他们特定的访问权限。
- en: 'In this exercise, we want to grant anonymous access to the `index.html` page
    because ultimately, we will be building out a static website hosting service using
    this bucket in later exercises. Proceed as follows:'
  id: totrans-291
  prefs: []
  type: TYPE_NORMAL
  zh: 在本练习中，我们希望授予对`index.html`页面的匿名访问权限，因为最终，我们将在后续的练习中使用这个存储桶构建静态网站托管服务。请按以下步骤操作：
- en: Navigate back to the S3 console and click on the bucket you just created, as
    illustrated in the following screenshot:![Figure 5.11 – Successful upload
  id: totrans-292
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 返回 S3 控制台，点击你刚刚创建的存储桶，如下图所示：![图 5.11 – 上传成功
- en: '](img/B17124_05_11.jpg)'
  id: totrans-293
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B17124_05_11.jpg)'
- en: Figure 5.11 – Successful upload
  id: totrans-294
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 5.11 – 上传成功
- en: Click on the **Permissions** tab.
  id: totrans-295
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**权限**标签。
- en: You will note that the **Block public access** has been disabled and is in an
    **Off** state.
  id: totrans-296
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你会注意到**阻止公共访问**已经被禁用，且处于**关闭**状态。
- en: Scroll further down until you get to **Bucket Policies**, and then click **Edit**.
  id: totrans-297
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 向下滚动，直到看到**存储桶策略**，然后点击**编辑**。
- en: 'Add the following policy, replacing the values in the placeholder `Your-Bucket-Name`
    with the name of your S3 bucket:'
  id: totrans-298
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加以下策略，将占位符`Your-Bucket-Name`中的值替换为你的 S3 存储桶名称：
- en: '[PRE1]'
  id: totrans-299
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Click **Save Changes**. If you copied the policy correctly, the policy validator
    will not throw up any errors.
  id: totrans-300
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**保存更改**。如果你正确复制了策略，策略验证器不会抛出任何错误。
- en: You should then get a confirmation that the policy has been saved and, more
    importantly, you will note that the bucket's contents are now publicly accessible,
    as illustrated in the following screenshot:![Figure 5.12 – S3 Bucket permissions
    tab
  id: totrans-301
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然后你应该会收到确认消息，表明策略已经保存，更重要的是，你会注意到存储桶的内容现在可以公开访问，如下图所示：![图 5.12 – S3 存储桶权限标签
- en: '](img/B17124_05_12.jpg)'
  id: totrans-302
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B17124_05_12.jpg)'
- en: Figure 5.12 – S3 Bucket permissions tab
  id: totrans-303
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 5.12 – S3 存储桶权限标签
- en: Next, click on the **Objects** tab again.
  id: totrans-304
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，再次点击**对象**标签。
- en: Click on the `index.html` file to open its **S3 Properties** pane.
  id: totrans-305
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击`index.html`文件，打开其**S3 属性**面板。
- en: Right-mouse click on the object URL and open it in a new browser tab.
  id: totrans-306
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键点击对象的 URL，并在新浏览器标签页中打开它。
- en: 'You should find that the web page is now accessible from your browser, as illustrated
    in the following screenshot:'
  id: totrans-307
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你应该会发现该网页现在可以通过浏览器访问，如下图所示：
- en: '![Figure 5.13 – Your index.html page in a browser window'
  id: totrans-308
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 5.13 – 你的`index.html`页面在浏览器窗口中显示'
- en: '](img/B17124_05_13.jpg)'
  id: totrans-309
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B17124_05_13.jpg)'
- en: Figure 5.13 – Your index.html page in a browser window
  id: totrans-310
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.13 – 你的`index.html`页面在浏览器窗口中显示
- en: So far, we have disabled block public access on this bucket as we will eventually
    be configuring it for static website hosting. In this exercise, we also uploaded
    the object, `index.html`, which is a recipe document written in HTML code.
  id: totrans-311
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，我们已经禁用了该存储桶的公共访问阻止功能，因为我们最终会将其配置为静态网站托管。在本练习中，我们还上传了对象`index.html`，它是一个用
    HTML 代码编写的食谱文档。
- en: In the next exercise, you will learn how to configure versioning on your bucket.
    Versioning will help you create previous copies of an object so that new uploads
    of updated content for the same object are stored as new versions of the object.
    This will enable you to prevent against accidental changes to your objects by
    being able to restore a previous version, as we will see in the upcoming exercises.
  id: totrans-312
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一个练习中，你将学习如何在存储桶上配置版本控制。版本控制将帮助你创建对象的历史副本，这样同一对象的新内容上传将作为该对象的新版本进行存储。这将使你能够防止意外更改对象，因为你可以恢复以前的版本，我们将在接下来的练习中看到这一点。
- en: Exercise 5.3 – Enabling versioning on your bucket
  id: totrans-313
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 练习 5.3 – 启用存储桶的版本控制
- en: 'In this exercise, we will enable versioning on the Amazon S3 bucket. As you
    update existing objects with newer versions, you can rest assured that if you
    need to revert to an older version, those versions will still exist in your bucket.
    Obviously, if you try to delete a specific version of the object itself, then
    it will be purged from the S3 platform. However, enabling versioning can help
    prevent against accidental deletions and overwrites. Proceed as follows:'
  id: totrans-314
  prefs: []
  type: TYPE_NORMAL
  zh: 在本练习中，我们将启用 Amazon S3 存储桶的版本控制。当您用更新版本替换现有对象时，您可以放心，如果需要恢复到旧版本，这些版本仍然会存在于您的存储桶中。显然，如果您尝试删除某个特定版本的对象，它将会从
    S3 平台中被清除。然而，启用版本控制可以帮助防止意外删除和覆盖。请按照以下步骤操作：
- en: Navigate back to the S3 console.
  id: totrans-315
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 返回到 S3 控制台。
- en: Click on the bucket you created earlier in *Exercise 5.1*.
  id: totrans-316
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击*练习 5.1*中您之前创建的存储桶。
- en: Click on the **Properties** tab.
  id: totrans-317
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**属性**标签。
- en: You will see an **Edit the Bucket Versioning** option to edit the state. At
    present, the versioning will be set to **disabled**. Note that once again you
    can suspend versioning actions, but you will not be able to disable them.
  id: totrans-318
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您将看到一个**编辑存储桶版本控制**选项来编辑状态。目前，版本控制将被设置为**禁用**。请注意，您可以暂停版本控制操作，但无法完全禁用它们。
- en: Click **Edit** in the **Bucket Versioning** section.
  id: totrans-319
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**存储桶版本控制**部分点击**编辑**。
- en: Select **Enable**.
  id: totrans-320
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**启用**。
- en: Click **Save Changes**.
  id: totrans-321
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**保存更改**。
- en: 'Let''s try to test the versioning feature next, as follows:'
  id: totrans-322
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，让我们测试版本控制功能，步骤如下：
- en: Navigate to the location where you saved the `index.html` web page on your computer.
    Open the file with your text editor using Notepad or TextEdit (for Mac).
  id: totrans-323
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航到您在计算机上保存的 `index.html` 网页的位置。使用记事本或 TextEdit（Mac 用户）打开该文件。
- en: Replace the word `Blueberry` in the existing `<H1>` tag within the document
    to `Chocolate`.
  id: totrans-324
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将文档中现有的 `<H1>` 标签中的 `Blueberry` 替换为 `Chocolate`。
- en: Save the file without changing the format or extension.
  id: totrans-325
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 保存文件时不要更改格式或扩展名。
- en: Navigate back to your Amazon S3 console in your AWS account and click on the
    bucket you created earlier.
  id: totrans-326
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 返回到您的 AWS 账户中的 Amazon S3 控制台，点击您之前创建的存储桶。
- en: Click on **Objects**, as illustrated in the following screenshot:![Figure 5.14
    – List of objects in your Amazon S3 bucket
  id: totrans-327
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**对象**，如以下截图所示：![图 5.14 – 您的 Amazon S3 存储桶中的对象列表
- en: '](img/B17124_05_14.jpg)'
  id: totrans-328
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B17124_05_14.jpg)'
- en: Figure 5.14 – List of objects in your Amazon S3 bucket
  id: totrans-329
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 5.14 – 您的 Amazon S3 存储桶中的对象列表
- en: Click **Upload**.
  id: totrans-330
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**上传**。
- en: Click **Add Files**.
  id: totrans-331
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**添加文件**。
- en: Select the same `index.html` file you updated moments ago and click **Upload**.
  id: totrans-332
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择刚才更新的相同`index.html` 文件并点击**上传**。
- en: Click **Exit**.
  id: totrans-333
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**退出**。
- en: Click on the `index.html` fileagain to open up its **S3 Properties** window.
  id: totrans-334
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 再次点击 `index.html` 文件，打开其**S3 属性**窗口。
- en: Under **Object URL**, right-mouse click on the URL and open in a new browser
    window.
  id: totrans-335
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**对象 URL**下，右键点击该 URL，并在新浏览器窗口中打开。
- en: You should find that the web page has been updated with the word **Chocolate**,
    as illustrated in the following screenshot:![Figure 5.15 – Your index.html page
    showcasing the recipe
  id: totrans-336
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您应该能看到网页已经更新，显示了**巧克力**这个词，如以下截图所示：![图 5.15 – 展示食谱的 `index.html` 页面
- en: '](img/B17124_05_15.jpg)'
  id: totrans-337
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B17124_05_15.jpg)'
- en: Figure 5.15 – Your index.html page showcasing the recipe
  id: totrans-338
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 5.15 – 展示食谱的 `index.html` 页面
- en: In the Amazon S3 management console, click on the **Versions** tab, as illustrated
    in the following screenshot:![Figure 5.16 – Bucket version tab
  id: totrans-339
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 Amazon S3 管理控制台中，点击**版本**标签，如以下截图所示：![图 5.16 – 存储桶版本标签
- en: '](img/B17124_05_16.jpg)'
  id: totrans-340
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B17124_05_16.jpg)'
- en: Figure 5.16 – Bucket version tab
  id: totrans-341
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 5.16 – 存储桶版本标签
- en: Note that there are two versions—the original version, which has a version ID
    of `null`, and a newer version with a `null` is because it was created/uploaded
    to the bucket before we enabled versioning. Going forward, all new updates to
    this file will be assigned a new version ID, allowing you to preserve older versions
    if you ever need to access them again.
  id: totrans-342
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 请注意，有两个版本——原始版本，版本 ID 为`null`，以及一个较新的版本，`null`是因为它是在我们启用版本控制之前创建/上传到存储桶的。今后，所有对该文件的更新都将分配一个新的版本
    ID，从而让您可以保留旧版本，以备日后需要时访问。
- en: In this exercise, you learned how to configure versioning on your bucket. You
    were able to upload and manage multiple versions of the same object, and you discovered
    how unversioned objects have a version ID of `null`, whereas versioned objects
    have a version ID comprised of a series of characters unique to that version.
    You also discovered how to display a list of available versions of your objects
    in a version-enabled bucket.
  id: totrans-343
  prefs: []
  type: TYPE_NORMAL
  zh: 在本练习中，你学会了如何为桶配置版本控制。你能够上传并管理同一对象的多个版本，并发现未版本化的对象具有`null`版本 ID，而版本化的对象则具有由一系列独特字符组成的版本
    ID。你还学会了如何在启用版本控制的桶中显示可用对象的版本列表。
- en: Exercise 5.4 – Setting up static website hosting
  id: totrans-344
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 练习 5.4 – 设置静态网站托管
- en: In this exercise, we will configure the bucket to host a static website. When
    configured with a static website hosting service, the bucket will be configured
    with a website endpoint that you can distribute to your users, who can then access
    all the pages (assuming they are linked) using the standard HTML protocol.
  id: totrans-345
  prefs: []
  type: TYPE_NORMAL
  zh: 在本练习中，我们将配置桶以托管静态网站。配置了静态网站托管服务后，桶将配置为网站端点，你可以将其分发给用户，用户随后可以使用标准的 HTML 协议访问所有页面（假设它们是有链接的）。
- en: 'To configure your bucket for static website hosting, you need a minimum of
    two files— an `index.html` file and an `error.html` file. An error file is simply
    a file that the S3 static website hosting service will redirect to if there is
    a problem with the `index.html` file—for example, if it cannot find the `index.html`
    page. You could use the `error.html` file to broadcast the fact that perhaps the
    site is under maintenance. Proceed as follows:'
  id: totrans-346
  prefs: []
  type: TYPE_NORMAL
  zh: 要配置你的桶以进行静态网站托管，至少需要两个文件——一个`index.html`文件和一个`error.html`文件。错误文件是一个 S3 静态网站托管服务在`index.html`文件出现问题时会重定向到的文件——例如，如果找不到`index.html`页面。你可以使用`error.html`文件来广播网站可能正在维护的信息。请按以下步骤操作：
- en: Create a new HTML file using your text editor as before (either Notepad on Windows
    or TextEdit on a Mac). However, in this file, simply add a line of text along
    the lines of `This site is under maintenance`.
  id: totrans-347
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用文本编辑器（如 Windows 上的记事本或 Mac 上的 TextEdit）创建一个新的 HTML 文件。然而，在此文件中，只需添加一行文本，例如`该站点正在维护`。
- en: Save the file as `error.html`, making sure to set the file types to **All Types**
    if you are using a Windows machine.
  id: totrans-348
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将文件保存为`error.html`，如果你使用的是 Windows 机器，请确保将文件类型设置为**所有类型**。
- en: Navigate back to the S3 console and click on your S3 bucket.
  id: totrans-349
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 返回 S3 控制台并点击你的 S3 桶。
- en: Click on **Properties** and then scroll toward the bottom of the page, until
    you find the **Static website hosting** section heading.
  id: totrans-350
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**属性**，然后向下滚动页面，直到找到**静态网站托管**部分标题。
- en: Click **Edit** and select the **Enable** option.
  id: totrans-351
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**编辑**并选择**启用**选项。
- en: For **Hosting type**, select **Host a static website**.
  id: totrans-352
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于**托管类型**，选择**托管静态网站**。
- en: Under the `index.html`.
  id: totrans-353
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在`index.html`下。
- en: Under the `error.html`.
  id: totrans-354
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在`error.html`下。
- en: Leave all the remaining settings at their defaults and click **Save changes**
    at the bottom of the page.
  id: totrans-355
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 保持其他所有设置为默认值，并点击页面底部的**保存更改**。
- en: Next, click on the **Objects** tab.
  id: totrans-356
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，点击**对象**标签。
- en: Click **Upload** and click **Add files**.
  id: totrans-357
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**上传**并点击**添加文件**。
- en: Select the `error.html` file and click **Upload**. You should then see a screen
    like this:![Figure 5.17 – Upload of updated index page to your bucket
  id: totrans-358
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择`error.html`文件并点击**上传**。你应该会看到如下画面：![图 5.17 – 将更新后的索引页面上传到你的桶
- en: '](img/B17124_05_17.jpg)'
  id: totrans-359
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B17124_05_17.jpg)'
- en: Figure 5.17 – Upload of updated index page to your bucket
  id: totrans-360
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 5.17 – 将更新后的索引页面上传到你的桶
- en: Click **Exit**.
  id: totrans-361
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**退出**。
- en: At this stage, your bucket has been configured for static website hosting. To
    test it, you need to access your website via the S3 website URL endpoint.
  id: totrans-362
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 此时，你的桶已配置为静态网站托管。要进行测试，你需要通过 S3 网站 URL 端点访问你的网站。
- en: In the S3 console, while still viewing the contents of the buckets (under **Objects**),
    click on the **Properties** tab again.
  id: totrans-363
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 S3 控制台中，仍然查看桶的内容（在**对象**下），再次点击**属性**标签。
- en: Scroll down till you reach the **Static website hosting** section, and you will
    note the URL is provided under the **Bucket website endpoint** heading, as illustrated
    in the following screenshot:![Figure 5.18 – Enabling static website hosting on
    your bucket
  id: totrans-364
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 向下滚动直到你找到**静态网站托管**部分，你会注意到网址已在**桶网站端点**标题下提供，如下截图所示：![图 5.18 – 在你的桶上启用静态网站托管
- en: '](img/B17124_05_18.jpg)'
  id: totrans-365
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B17124_05_18.jpg)'
- en: Figure 5.18 – Enabling static website hosting on your bucket
  id: totrans-366
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 5.18 – 在你的桶上启用静态网站托管
- en: Navigate to the provided URL in a new browser window, and you should find that
    the website opens with the recipe web page, as illustrated in the following screenshot:![Figure
    5.19 – Updated index.html page with the wrong heading (Chocolate)
  id: totrans-367
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在新浏览器窗口中导航到提供的 URL，你应该会看到该网站打开了带有配方网页的页面，如下图所示：![图 5.19 – 更新的 index.html 页面，标题错误（巧克力）
- en: '](img/B17124_05_19.jpg)'
  id: totrans-368
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B17124_05_19.jpg)'
- en: Figure 5.19 – Updated index.html page with the wrong heading (Chocolate)
  id: totrans-369
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 5.19 – 更新的 index.html 页面，标题错误（巧克力）
- en: As you will note, the recipe is for a blueberry muffin, but the heading has
    changed to **Chocolate**. Assuming that this was an error in the update, we can
    easily revert to the previous version of this web page because we have already
    configured the bucket for versioning.
  id: totrans-370
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如你所见，这个配方是蓝莓松饼，但标题已更改为**巧克力**。假设这是更新中的错误，我们可以轻松地恢复到该网页的前一个版本，因为我们已经为存储桶启用了版本控制。
- en: Navigate back to the Amazon S3 bucket so that you are looking at the actual
    contents of the bucket under the **Objects** tab, as illustrated in the following
    screenshot:![Figure 5.20 – List of updated objects in your bucket
  id: totrans-371
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 返回到 Amazon S3 存储桶，查看存储桶中实际的内容，位于**对象**标签下，如下图所示：![图 5.20 – 存储桶中更新的对象列表
- en: '](img/B17124_05_20.jpg)'
  id: totrans-372
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B17124_05_20.jpg)'
- en: Figure 5.20 – List of updated objects in your bucket
  id: totrans-373
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 5.20 – 存储桶中更新的对象列表
- en: Notice the **List versions** toggle just below the **Objects** sub-heading.
  id: totrans-374
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 请注意，**列表版本**切换按钮位于**对象**子标题下方。
- en: Click this toggle switch to list out all versions of all objects in your bucket,
    as illustrated in the following screenshot:![Figure 5.21 – List of objects and
    their individual versions.
  id: totrans-375
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击此切换开关，列出存储桶中所有对象的所有版本，如下图所示：![图 5.21 – 对象及其各自版本的列表。
- en: '](img/B17124_05_21.jpg)'
  id: totrans-376
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B17124_05_21.jpg)'
- en: Figure 5.21 – List of objects and their individual versions.
  id: totrans-377
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 5.21 – 对象及其各自版本的列表。
- en: As you will note, there are two versions of the `index.html` page. The latest
    version has got a version ID and contains an incorrect recipe heading.
  id: totrans-378
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如你所见，`index.html` 页面有两个版本。最新版本具有版本 ID，并包含错误的配方标题。
- en: Click on the checkbox to select this version and then click the **Delete** button.
  id: totrans-379
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击复选框选择此版本，然后点击**删除**按钮。
- en: You are then prompted to confirm your delete request by typing in the phrase
    `permanently delete` in the provided textbox, as illustrated in the following
    screenshot:![Figure 5.22 – Deleting incorrect version of the index.html page
  id: totrans-380
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然后，你会被提示确认删除请求，需在提供的文本框中输入短语`permanently delete`，如下图所示：![图 5.22 – 删除错误版本的 index.html
    页面
- en: '](img/B17124_05_22.jpg)'
  id: totrans-381
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B17124_05_22.jpg)'
- en: Figure 5.22 – Deleting incorrect version of the index.html page
  id: totrans-382
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 5.22 – 删除错误版本的 index.html 页面
- en: Next, click **Delete objects**.
  id: totrans-383
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，点击**删除对象**。
- en: Click **Exit**, and you will note that the version has now been deleted.
  id: totrans-384
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**退出**，你会注意到该版本现在已被删除。
- en: 'Click on **Properties** again and then scroll down to the **Static website
    hosting** section. Open up the website URL in a new browser tab and you should
    see that the older, correct version of the web page is now displayed, as illustrated
    in the following screenshot:'
  id: totrans-385
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 再次点击**属性**，然后向下滚动至**静态网站托管**部分。在新浏览器标签页中打开网站 URL，你应该会看到旧版正确的网页，如下图所示：
- en: '![Figure 5.23 – Previous recipe page with the correct heading (Blueberry)'
  id: totrans-386
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 5.23 – 正确标题（蓝莓）的前一个配方页面'
- en: '](img/B17124_05_23.jpg)'
  id: totrans-387
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B17124_05_23.jpg)'
- en: Figure 5.23 – Previous recipe page with the correct heading (Blueberry)
  id: totrans-388
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.23 – 正确标题（蓝莓）的前一个配方页面
- en: In this exercise, you learned how to configure your bucket with static website
    hosting. You learned how, in this particular lab exercise, we made an error in
    the title of our web page and we were able to revert to an older versioning of
    the same document, thanks to having versioning enabled earlier.
  id: totrans-389
  prefs: []
  type: TYPE_NORMAL
  zh: 在本次练习中，你学习了如何为存储桶配置静态网站托管。你了解到，在本次实验中，我们在网页标题上犯了错误，但由于之前已启用版本控制，我们能够恢复到旧版本的同一文档。
- en: Summary
  id: totrans-390
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: Amazon S3 is one of AWS's flagship storage products and comes with unlimited
    amounts of storage capacity that is highly scalable and durable.
  id: totrans-391
  prefs: []
  type: TYPE_NORMAL
  zh: Amazon S3 是 AWS 的旗舰存储产品之一，提供无限存储容量，具有高度的可扩展性和耐用性。
- en: In this chapter, you learned about the core feature of Amazon S3, including
    versioning, lifecycle management, and replication services, and how Amazon S3
    meets a wide range of use cases. You also learned how you can build and deploy
    static website hosting on an Amazon S3 bucket and its various applications in
    the real world.
  id: totrans-392
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，你学习了 Amazon S3 的核心功能，包括版本控制、生命周期管理和复制服务，以及 Amazon S3 如何满足广泛的使用场景。你还学习了如何在
    Amazon S3 存储桶上构建并部署静态网站托管以及其在现实世界中的各种应用。
- en: We also discussed how Amazon S3 comes with a wide range of security tools such
    as the ability to create granular access permissions via bucket policies and ACLs,
    as well as encryption of data in transit and at rest. You have also learned how
    you can connect your on-premises workloads to the Amazon S3 platform using Amazon
    Storage Gateway via the internet, a VPN, or AWS Direct Connect services.
  id: totrans-393
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还讨论了 Amazon S3 提供的广泛安全工具，例如通过存储桶策略和 ACL 创建精细化访问权限的能力，以及数据传输中和静态数据的加密。你还学习了如何通过互联网、VPN
    或 AWS Direct Connect 服务将本地工作负载连接到 Amazon S3 平台。
- en: If you are looking to migrate large amounts of data to the cloud, you can use
    the Amazon Snowball service to help you transfer large volumes of data, using
    rugged and tamper-resistant devices that are shipped to your on-premises location.
    Once you get the data copied, you simply ship it back to AWS to have your data
    imported into your S3 environment.
  id: totrans-394
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你打算将大量数据迁移到云端，可以使用 Amazon Snowball 服务帮助你传输大量数据，利用坚固且防篡改的设备，这些设备会送到你的本地位置。将数据复制完成后，你只需将设备送回
    AWS，便可以将数据导入到 S3 环境中。
- en: In the next chapter, we discuss networking services, focusing on the **Amazon
    Virtual Private Cloud** (**VPC**) service, among others. We also look at the Amazon
    Direct Connect service and at how you can connect your on-premises network with
    your AWS cloud services using VPN technologies.
  id: totrans-395
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将讨论网络服务，重点介绍 **Amazon 虚拟私有云**（**VPC**）服务等。我们还将介绍 Amazon Direct Connect
    服务以及如何使用 VPN 技术将本地网络与 AWS 云服务连接。
- en: In the next section, we look at some review questions for this chapter to test
    your knwoledge.
  id: totrans-396
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一部分，我们将查看一些复习问题，以测试你的知识。
- en: Questions
  id: totrans-397
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 问题
- en: 'Here are a few questions to test your knowledge:'
  id: totrans-398
  prefs: []
  type: TYPE_NORMAL
  zh: 下面是一些问题来测试你的知识：
- en: Which of the following is true regarding Amazon S3? (Select 2 answers)
  id: totrans-399
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以下哪项关于 Amazon S3 的说法是正确的？（选择 2 个答案）
- en: Amazon S3 is object-based storage.
  id: totrans-400
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: Amazon S3 是基于对象的存储。
- en: Amazon S3 is an example of file storage.
  id: totrans-401
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: Amazon S3 是文件存储的一个例子。
- en: Amazon S3 is an example of block storage.
  id: totrans-402
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: Amazon S3 是块存储的一个例子。
- en: The Amazon S3 One Zone-IA storage class offers 99.5% of availability. Amazon
    S3 can be configured as shared mount volumes for Linux-based EC2 instances.
  id: totrans-403
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: Amazon S3 One Zone-IA 存储类别提供 99.5% 的可用性。Amazon S3 可配置为 Linux 基础的 EC2 实例的共享挂载卷。
- en: You wish to enforce a policy on an S3 bucket that grants anonymous access to
    its content if users connect to the data from the corporate and branch offices
    as part of your security strategy. Which S3 configuration feature will enable
    you to define the IP ranges from where you will allow access to the data?
  id: totrans-404
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你希望在 S3 存储桶上强制执行一项策略，如果用户从公司和分支机构连接到数据，则允许匿名访问其内容，作为安全策略的一部分。哪项 S3 配置功能将使你能够定义允许访问数据的
    IP 范围？
- en: Security groups
  id: totrans-405
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 安全组
- en: Bucket policy
  id: totrans-406
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 存储桶策略
- en: NTFS permissions
  id: totrans-407
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: NTFS 权限
- en: '**Network ACLs** (**NACLs**)'
  id: totrans-408
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**网络访问控制列表**（**NACLs**）'
- en: Which AWS service is the most cost-effective if you need to host static website
    content for an upcoming product launch?
  id: totrans-409
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果你需要托管静态网站内容以迎接即将到来的产品发布，哪项 AWS 服务是最具成本效益的？
- en: Amazon EC2
  id: totrans-410
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: Amazon EC2
- en: Amazon EFS
  id: totrans-411
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: Amazon EFS
- en: Amazon S3
  id: totrans-412
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: Amazon S3
- en: Azure ExpressRoute
  id: totrans-413
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: Azure ExpressRoute
- en: Which Amazon S3 storage class enables you to optimize costs by automatically
    moving data to the most cost-effective access tier, while ensuring that frequently
    accessed data is made available immediately?
  id: totrans-414
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 哪个 Amazon S3 存储类别使你能够通过自动将数据移动到最具成本效益的访问层来优化成本，同时确保频繁访问的数据能立即可用？
- en: Amazon S3 Standard
  id: totrans-415
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: Amazon S3 标准
- en: Amazon S3 One-Zone IA
  id: totrans-416
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: Amazon S3 One-Zone IA
- en: Amazon Snowball
  id: totrans-417
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: Amazon Snowball
- en: Amazon S3 Intelligent-Tiering
  id: totrans-418
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: Amazon S3 智能分层
- en: Which Amazon S3 service can be configured to automatically migrate data from
    one storage class to another after a set number of days as a means of reducing
    your costs, especially where frequent instant access may not be required to that
    subset of data?
  id: totrans-419
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 哪项 Amazon S3 服务可以配置为在设定的天数后自动将数据从一个存储类别迁移到另一个存储类别，以减少成本，尤其是在某些数据子集可能不需要频繁即时访问的情况下？
- en: Static website hosting
  id: totrans-420
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 静态网站托管
- en: Lifecycle management
  id: totrans-421
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 生命周期管理
- en: Storage transition
  id: totrans-422
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 存储转换
- en: S3 migration
  id: totrans-423
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: S3 迁移
- en: When retrieving data from Amazon Glacier, what is the typical time taken by
    a Standard retrieval option to make the archive available for download?
  id: totrans-424
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从 Amazon Glacier 中检索数据时，标准检索选项使档案可供下载的典型时间是多久？
- en: 20 minutes
  id: totrans-425
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 20 分钟
- en: 24 hours
  id: totrans-426
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 24 小时
- en: 3 to 5 hours
  id: totrans-427
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 3 到 5 小时
- en: 90 seconds
  id: totrans-428
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 90 秒
- en: Which feature of the Amazon S3 platform enables you to upload content to a centralized
    bucket from across any location via Amazon edge locations, ensuring faster transfer
    speeds and avoidance of public internet congestion?
  id: totrans-429
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Amazon S3 平台的哪个功能允许您通过 Amazon 边缘位置从任何位置上传内容到一个集中式存储桶，确保更快的传输速度并避免公共互联网拥堵？
- en: Amazon S3TA
  id: totrans-430
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: Amazon S3TA
- en: AWS S3 Storage Gateway
  id: totrans-431
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: AWS S3 存储网关
- en: Amazon VPC
  id: totrans-432
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: Amazon VPC
- en: CloudFront
  id: totrans-433
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: CloudFront
- en: Your on-premises applications require access to a centrally managed cloud storage
    service. The application running on your servers need to be able to store and
    retrieve files as durable objects on Amazon S3 over standard NFS-based access
    with local caching. Which AWS service can help you deliver a solution to meet
    the aforementioned requirements?
  id: totrans-434
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您的本地应用程序需要访问集中管理的云存储服务。运行在您服务器上的应用程序需要能够通过标准的基于 NFS 的访问和本地缓存，将文件作为持久对象存储和检索到
    Amazon S3。哪项 AWS 服务可以帮助您交付满足上述需求的解决方案？
- en: AWS Storage Gateway— Amazon S3File Gateway
  id: totrans-435
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: AWS 存储网关 — Amazon S3 文件网关
- en: AWS EFS
  id: totrans-436
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: AWS EFS
- en: Amazon Redshift
  id: totrans-437
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: Amazon Redshift
- en: EBS volumes
  id: totrans-438
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: EBS 卷
- en: You are looking to migrate your on-premises data to the cloud. As part of a
    one-time data migration effort, you need to transfer over 900 TB of data to Amazon
    S3 in a couple of weeks. Which is the most cost-effective strategy to transfer
    this amount of data to the cloud?
  id: totrans-439
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您正在寻找将本地数据迁移到云端的方式。作为一次性数据迁移工作的一部分，您需要在几周内将超过 900 TB 的数据传输到 Amazon S3。哪种方式是将如此大量数据迁移到云端最具成本效益的策略？
- en: Use the Amazon RDS service
  id: totrans-440
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 Amazon RDS 服务
- en: Use the Amazon Snowball service
  id: totrans-441
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 Amazon Snowball 服务
- en: Use the Amazon VPN connection between your on-premises network and AWS
  id: totrans-442
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 Amazon VPN 连接您的本地网络与 AWS
- en: Use AWS Rain
  id: totrans-443
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 AWS Rain
