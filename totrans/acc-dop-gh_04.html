<html><head></head><body>
		<div id="_idContainer069">
			<h1 id="_idParaDest-82"><em class="italic"><a id="_idTextAnchor081"/>Chapter 3</em>: Teamwork and Collaborative Development</h1>
			<p>A high-performing team is more than the sum of its members, and it takes a high-performing team to build products that people love.</p>
			<p>In this chapter, you'll learn how to set up your team for high collaborative development using pull requests. You'll learn what a pull request is and which features can help you to get a good code review workflow for your team.</p>
			<p>In this chapter, we will cover the following core topics:</p>
			<ul>
				<li>Software development is a team sport</li>
				<li>The heart of collaboration: the pull request</li>
				<li>Hands-on: Creating a pull request</li>
				<li>Proposing changes</li>
				<li>Pull request reviews</li>
				<li>Hands-on: Making suggestions</li>
				<li>Best practices for code reviews</li>
			</ul>
			<h1 id="_idParaDest-83"><a id="_idTextAnchor082"/>Software development is a team sport</h1>
			<p>The designer and engineer Peter Skillman created an experiment: he challenged teams of four persons to compete against each other in the marshmallow challenge. The rules are simple—build the highest possible structure that can support a marshmallow using the following material:</p>
			<ul>
				<li>20 pieces of uncooked spaghetti</li>
				<li>1 yard of transparent tape</li>
				<li>1 yard of string</li>
				<li>1 marshmallow</li>
			</ul>
			<p>The experiment was not about the problem itself—it was about how the teams would work together to solve the problem. In the experiment, teams of business students from Stanford and the University of Tokyo competed against kindergartners. And guess who was the winner?</p>
			<p>The business students examined the materials, discussed the best strategy, and carefully picked the most promising ideas. They acted professionally and in a rational and intelligent way, and yet the kindergartners always won. They did not decide on the best strategy—they just got to work and started experimenting. They stood close together and communicated in short bursts: <em class="italic">Here, no, here!</em></p>
			<p>The kindergartners did not win because they were more intelligent or skilled. They won because they worked better together as a team (<em class="italic">Coyle D.(2018)</em>).</p>
			<p>And you can observe the same in sports: you can put the best players in one team, and yet if they don't form a good team, they will lose to a team with less skilled individuals who work perfectly together.</p>
			<p>In software engineering, we want teams with high cohesion, not just individual experts that work together but team members that experiment together like the kindergartners in the marshmallow experiment. We do this by looking<a id="_idIndexMarker195"/> for so-called <strong class="bold">E-shaped</strong> team members as the <a id="_idIndexMarker196"/>evolution of <strong class="bold">T-shaped</strong> team members. <strong class="bold">I-shaped</strong> specialists<a id="_idIndexMarker197"/> have deep experience in one area but very little skills or experience in other areas. T-shaped people are generalists with deep experience in one area but also a broad set of skills across many areas. The evolution is E-shaped people—<strong class="bold">E</strong> for <strong class="bold">experience</strong>, <strong class="bold">expertise</strong>, <strong class="bold">exploration</strong>, and <strong class="bold">execution</strong>. They have deep experience in multiple areas with proven execution skills. They are always innovating and eager to learn new skills. E-shaped people are the best way to combine different areas of expertise into one high-collaborative team (<em class="italic">Kim G., Humble J., Debois P. and Willis J.</em>).</p>
			<p>You can see very quickly how your team is collaborating by looking at some of the <strong class="bold">pull requests</strong>. Who does the code reviews, and on which topics? What are the issues people are discussing about? How is the tone? If you have ever seen pull requests of high-performing teams, you'll know that you can easily spot things that are not going well. Here are some pull request anti-patterns that you can easily spot:</p>
			<ul>
				<li>Pull requests are <a id="_idIndexMarker198"/>too big and contain many changes (<strong class="bold">batch size</strong>).</li>
				<li>Pull requests are only created when a feature is already finished or on the last day of the sprint (<strong class="bold">last-minute approvals</strong>).</li>
				<li>Pull requests are approved without any comments. This is normally because people just approve to not mess with the other team members (<strong class="bold">auto-approvals</strong>).</li>
				<li>Comments rarely contain questions. This normally means the discussions are about <strong class="bold">irrelevant details</strong>—such as formatting and style—and not about architectural design issues.</li>
			</ul>
			<p>I'll show you later <em class="italic">the best practices for code reviews</em> and how you can avoid these anti-patterns. Let's first have a closer look at what a pull request is.</p>
			<h1 id="_idParaDest-84"><a id="_idTextAnchor083"/>The heart of collaboration – the pull request</h1>
			<p>A <strong class="bold">pull request</strong> is <a id="_idIndexMarker199"/>more than just a classical code review. It's a way to do the following:</p>
			<ul>
				<li>Collaborate on code</li>
				<li>Share knowledge</li>
				<li>Create shared ownership of the code</li>
				<li>Collaborate across team boundaries</li>
			</ul>
			<p>But what exactly is a pull request? A <strong class="bold">pull request</strong>—also known <a id="_idIndexMarker200"/>as a <strong class="bold">merge request</strong>— is a process of <a id="_idIndexMarker201"/>integrating changes from other branches into a target branch in your <strong class="bold">Git</strong> repository. The changes can come from a branch within your repository or from a <strong class="bold">fork</strong>—a copy of your repository. Pull request is often abbreviated to <strong class="bold">PR</strong>. People without write permissions can fork your repository and create pull requests. This allows owners of open source repositories to allow contributions without giving everyone write access to the repository. That's why in the open source world, pull requests are the default for integrating changes into the repository.</p>
			<p>Pull requests can<a id="_idIndexMarker202"/> also be used to collaborate cross-team in an open source style called inner source (see <a href="B17827_05_Epub.xhtml#_idTextAnchor130"><em class="italic">Chapter 5</em></a>, <em class="italic">Influence of Open and Inner Source on Software Delivery Performance</em>).</p>
			<p class="callout-heading">About Git</p>
			<p class="callout"><strong class="bold">Git</strong> is <a id="_idIndexMarker203"/>a distributed <strong class="bold">revision control system</strong> (<strong class="bold">RCS</strong>). In contrast to central RCS, every developer <a id="_idIndexMarker204"/>stores the entire repository on their machine and syncs changes with other repositories. Git is based on a few simple architectural decisions. Every version is stored as the entire file—not just the changes. Changes are tracked using a hash algorithm. The revisions and the filesystems are stored as a <strong class="bold">directed acyclic graph</strong> (<strong class="bold">DAG</strong>) that <a id="_idIndexMarker205"/>is linked using the hash of the parent object. This makes it very easy to branch and merge changes. That's why Git states the following about itself: <strong class="source-inline">git – the stupid content tracker</strong> (see Git man page in <em class="italic">Figure 3.1</em>).</p>
			<p class="callout">Git was created <a id="_idIndexMarker206"/>in 2005 by Linus Torvalds as the RCS for the Linux kernel. Until 2005, BitKeeper was used for that purpose, but due to a license change, BitKeeper could not be used any longer without costs for open source.</p>
			<p class="callout">Git is the most popular RCS today and there are many books on Git alone (see Chacon S. and Straub B., 2014; Kaufmann M., 2021; and many more). Git is at the heart of GitHub, but in this book, I focus on GitHub<a id="_idIndexMarker207"/> as a <strong class="bold">DevOps</strong> platform and not as an RCS.</p>
			<p class="callout">In <a href="B17827_11_Epub.xhtml#_idTextAnchor249"><em class="italic">Chapter 11</em></a>, <em class="italic">Trunk-Based Development</em>, I'll talk about branching workflows as this is related to engineering velocity, but I'll not dive deeper into branching and merging. Please refer to the <em class="italic">Further readings and references</em> section for that.</p>
			<p><em class="italic">Figure 3.1</em> shows<a id="_idIndexMarker208"/> the <strong class="source-inline">man</strong> page for Git:</p>
			<div>
				<div id="_idContainer047" class="IMG---Figure">
					<img src="image/B17827_03_001.jpg" alt="Figure 3.1 – The man page for Git – the stupid content tracker&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 3.1 – The man page for Git – the stupid content tracker</p>
			<p>Git versions text files on a per-line basis. This means the pull request focuses on lines changed: a line can be added, removed, or both—in this case, you can see the differences between the old and the new line. Before merging, the pull request allows you to <a id="_idIndexMarker209"/>do the following:</p>
			<ul>
				<li>Review changes and comment on them</li>
				<li>Build and test the changes together with new code in the source repository without merging it first</li>
			</ul>
			<p>Only if the changes pass all checks do they get merged back automatically by the pull request.</p>
			<p>Since everything is code in modern software engineering, it is not only about source code. You can collaborate on the following:</p>
			<ul>
				<li>Architecture, design, and concept documents</li>
				<li>Source code</li>
				<li>Tests</li>
				<li>Infrastructure (as code)</li>
				<li>Configuration (as code)</li>
				<li>Documentation</li>
			</ul>
			<p>Everything can be done in a text file. In the previous chapter, I already talked about <strong class="bold">markdown</strong> as the standard for<a id="_idIndexMarker210"/> human-readable files. It is perfect for collaborating on concept documents and documentation. You can also render markdown to <strong class="bold">Portable Document Format</strong> (<strong class="bold">PDF</strong>) documents<a id="_idIndexMarker211"/> if you require physical documents that can be archived<a id="_idIndexMarker212"/> or sent to customers. You can extend markdown with diagrams—for example, with <em class="italic">Mermaid</em> (see <a href="https://mermaid-js.github.io/mermaid/">https://mermaid-js.github.io/mermaid/</a>). While <strong class="bold">markdown</strong> is for human-readable files, <strong class="bold">YAML Ain't Markup Language</strong> (<strong class="bold">YAML</strong>) is for machine-readable files. So, with a <a id="_idIndexMarker213"/>combination of source code, markdown, and YAML, you can automate the creation of all artifacts of your development life cycle and collaborate on changes just as you collaborate on the source code!</p>
			<p class="callout-heading">Example</p>
			<p class="callout">At GitHub, everything is basically handled as markdown. Even the legal team and <strong class="bold">human resources</strong> (<strong class="bold">HR</strong>) use markdown, issues, and pull requests to collaborate on contracts. One example is the hiring process: job descriptions are stored as markdown and the complete hiring process is tracked using issues. Other examples are the GitHub site policies (such as <em class="italic">Terms of Service</em> or <em class="italic">Community Guidelines</em>). They are all in markdown and are open source (<a href="https://github.com/github/site-policy">https://github.com/github/site-policy</a>).</p>
			<p class="callout">If you want to learn more <a id="_idIndexMarker214"/>about GitHub team collaboration, see <a href="https://youtu.be/HyvZO5vvOas?t=3189">https://youtu.be/HyvZO5vvOas?t=3189</a>.</p>
			<h1 id="_idParaDest-85"><a id="_idTextAnchor084"/>Hands-on – Creating a pull request</h1>
			<p>If you are new to<a id="_idIndexMarker215"/> pull requests, it's best to create one to experience what it is about. If you are already familiar with pull requests, you can skip this part and continue reading about the <em class="italic">pull request features</em>. Proceed as follows:</p>
			<ol>
				<li>Open the following repository and create a fork by clicking <strong class="bold">Fork</strong> in the top-right corner of the repository: <a href="https://github.com/wulfland/AccelerateDevOps">https://github.com/wulfland/AccelerateDevOps</a>.</li>
			</ol>
			<p>In the fork, navigate to <strong class="source-inline">Chapter 3</strong> | <strong class="bold">Create a pull request</strong> (<strong class="source-inline">ch3_pull-request/Create-PullRequest.md</strong>). The file also contains instructions so that you don't have to switch between your browser and the book all the time.</p>
			<p>Edit the file by clicking the <strong class="bold">Edit</strong> pencil icon above the file content.</p>
			<ol>
				<li value="2">Delete the row that is marked in the file.</li>
				<li>Add a few rows of random text.</li>
				<li>Modify one line by removing letters that exceed the permitted length.</li>
				<li>Commit your changes, but not directly to the <strong class="source-inline">main</strong> branch. Commit them to a new <strong class="bold">branch</strong> like in Figure 3.2: </li>
			</ol>
			<div>
				<div id="_idContainer048" class="IMG---Figure">
					<img src="image/B17827_03_002.jpg" alt="Figure 3.2 – Committing the changes to a new branch&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 3.2 – Committing the changes to a new branch</p>
			<ol>
				<li value="6">You automatically get redirected to a page where you can create a pull request. Enter a title and a description. Note that you have full markdown support with all the features you know from the issues in <a href="B17827_02_Epub.xhtml#_idTextAnchor047"><em class="italic">Chapter 2</em></a>, <em class="italic">Planning, Tracking, and Visualizing your Work</em>: emoticons (<strong class="source-inline">:+1:</strong>), mentions (<strong class="source-inline">@</strong>), references (<strong class="source-inline">#</strong>), task lists (<strong class="source-inline">– [ ]</strong>), and source code with syntax highlighting (<strong class="source-inline">```</strong>). You also can assign assignees, labels, projects, and milestones.</li>
			</ol>
			<p>At the top of the page, you see that the target branch (<strong class="source-inline">base</strong>) is <strong class="source-inline">main</strong> and that the source branch to integrate is the one you just created. The <strong class="bold">Create pull request</strong> button is a dropdown. You could also choose to create a draft pull request. For now, we skip this and create a pull request by clicking the <strong class="bold">Create pull request</strong> button, <a id="_idIndexMarker216"/>(see <em class="italic">Figure 3.3</em>).</p>
			<div>
				<div id="_idContainer049" class="IMG---Figure">
					<img src="image/B17827_03_003.jpg" alt="Figure 3.3 – Creating a pull request for the changes you made to the file&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 3.3 – Creating a pull request for the changes you made to the file</p>
			<ol>
				<li value="7">In the pull request, navigate to <strong class="bold">Files changed</strong> and note the changes you made to the file: deleted lines are red, added lines are green, and modified lines are a deleted line followed by an added line. If you hover with your mouse over the lines, you get a plus <strong class="bold">+</strong> icon on the left side. If you click the icon, you can add a single-line comment. If you hold the icon and pull it, you can add a comment for multiple lines. The comment has, again, the same markup support as issues with all the rich features! Add a comment and click <strong class="bold">Add single comment</strong> (see <em class="italic">Figure 3.4</em>):</li>
			</ol>
			<div>
				<div id="_idContainer050" class="IMG---Figure">
					<img src="image/B17827_03_004.jpg" alt="Figure 3.4 – Adding a comment to a changed line&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 3.4 – Adding a comment to a changed line</p>
			<p>The important<a id="_idIndexMarker217"/> difference between a classical code review and a pull request is that you can update a pull request. This allows you to address comments and work together on issues until they are closed. To show this, you'll edit the file and commit to the new branch to see that the pull request will reflect the changes.</p>
			<ol>
				<li value="8">You can edit the file directly from the pull request by opening the menu in the top-right corner and selecting <strong class="bold">Edit file</strong> (see <em class="italic">Figure 3.5</em>):</li>
			</ol>
			<div>
				<div id="_idContainer051" class="IMG---Figure">
					<img src="image/B17827_03_005.jpg" alt="Figure 3.5 – Editing file from within the pull request&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 3.5 – Editing file from within the pull request</p>
			<ol>
				<li value="9">Modify the file by adding a new line of text to it. Commit the changes to the branch you created before creating the pull request (see <em class="italic">Figure 3.6)</em>: </li>
			</ol>
			<div>
				<div id="_idContainer052" class="IMG---Figure">
					<img src="image/B17827_03_006.jpg" alt="Figure 3.6 – Committing the changes to your branch&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 3.6 – Committing the changes to your branch</p>
			<ol>
				<li value="10">Navigate back <a id="_idIndexMarker218"/>to the pull request and note that your changes are automatically displayed. You can see all changes in a file under <strong class="bold">Files changed</strong> or you can see changes in individual commits under <strong class="bold">Commits</strong> (see <em class="italic">Figure 3.7</em>):</li>
			</ol>
			<div>
				<div id="_idContainer053" class="IMG---Figure">
					<img src="image/B17827_03_007.jpg" alt="Figure 3.6 – Committing the changes to your branch&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 3.7 – Commenting on changes in individual commits</p>
			<ol>
				<li value="11">If you are new <a id="_idIndexMarker219"/>to pull requests on GitHub, the important takeaways are these:<ul><li>A pull request is about the <strong class="bold">changes</strong> in a branch to a base branch. If you update the branch, the pull request gets automatically updated.</li><li>You can <strong class="bold">collaborate</strong> on all changes using the rich features you already know from GitHub issues: task lists, mentions, references, source code, and so on.</li><li>You can look at changes on a <strong class="bold">per-file</strong> base or a <strong class="bold">per-commit</strong> base. This helps separate important changes from unimportant ones (for example, refactoring).</li></ul></li>
			</ol>
			<h1 id="_idParaDest-86"><a id="_idTextAnchor085"/>Proposing changes</h1>
			<p>GitHub pull requests have a rich feature set that helps you to improve your collaboration flow.</p>
			<h2 id="_idParaDest-87"><a id="_idTextAnchor086"/>Draft pull requests</h2>
			<p>When is the best time to create a pull request? You can argue about this, but I'd say: the earlier the better! Ideally, you create a pull request the moment you start working on something. This way, your team always knows what everybody is working on by just looking at the open pull requests. But if you open a pull request too early, the reviewers don't know when to give<a id="_idIndexMarker220"/> feedback. That's where <strong class="bold">draft pull requests</strong> come in handy. You can create your pull request early, but everyone knows that the work is still in progress and reviewers do not get notified yet, but you still can mention people in comments to get early feedback on code.</p>
			<p>When creating a pull request, you can directly create it in a draft state (see <em class="italic">Figure 3.8</em>): </p>
			<div>
				<div id="_idContainer054" class="IMG---Figure">
					<img src="image/B17827_03_008.jpg" alt="Figure 3.8 – Creating a pull request as a draft&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 3.8 – Creating a pull request as a draft</p>
			<p>Draft pull requests are clearly marked as <strong class="bold">Draft</strong> and have their own icon (see <em class="italic">Figure 3.9)</em>. You can also filter your pull requests in a search by using <strong class="source-inline">draft:true</strong> or <strong class="source-inline">draft:false</strong> as a search parameter:</p>
			<div>
				<div id="_idContainer055" class="IMG---Figure">
					<img src="image/B17827_03_009.jpg" alt="Figure 3.9 – Draft pull requests are marked with their own symbol&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 3.9 – Draft pull requests are marked with their own symbol</p>
			<p>If your pull request is already in a review state, you can still change the state back at any time by clicking the link under <strong class="bold">Reviewers</strong> | <strong class="bold">Still in progress?</strong> | <strong class="bold">Convert to draft</strong>.</p>
			<p>If your pull <a id="_idIndexMarker221"/>request is ready to be reviewed, just click on <strong class="bold">Ready for review</strong> (see <em class="italic">Figure 3.10</em>):</p>
			<div>
				<div id="_idContainer056" class="IMG---Figure">
					<img src="image/B17827_03_010.jpg" alt="Figure 3.10 – Removing the draft state of a pull request&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 3.10 – Removing the draft state of a pull request</p>
			<p>Draft pull requests are a great feature to collaborate early on changes using pull requests in a way that is transparent for the team.</p>
			<h2 id="_idParaDest-88"><a id="_idTextAnchor087"/>Code owners</h2>
			<p><strong class="bold">Code owners</strong> are a<a id="_idIndexMarker222"/> good way to automatically add reviewers to a pull request if certain files in your repository are changed. This feature can also be used to collaborate across team boundaries or add approvals in early development stages instead of requiring them in the release pipeline. Let's say you have infrastructure defined as code in your repository. You can use code owners to require a review from a person in the shared operations team, or you have files that define the look and feel of your application. Every time you change them, you might want to have approval from the design team. Code owners are not just about the approval; they can also be used to spread knowledge in communities of practice across team boundaries.</p>
			<p>Code owners can be teams or individuals. They need write permissions in order to become a code owner. Code owners get added as a reviewer if a pull request moves out of the draft state.</p>
			<p>To define <a id="_idIndexMarker223"/>code owners, you create a file with the name <strong class="source-inline">CODEOWNERS</strong> either in the root of the repository, a <strong class="source-inline">docs/</strong> folder, or a <strong class="source-inline">.github/</strong> folder. The syntax of the file is simple, as outlined here: </p>
			<ul>
				<li>Use <strong class="source-inline">@username</strong> or <strong class="source-inline">@org/team-name</strong> to define the code owners. You can also use the email addresses of users.</li>
				<li>Use patterns to match files to assign code owners. The order is important: the last matching pattern takes precedence.</li>
				<li>Use <strong class="source-inline">#</strong> for comments, <strong class="source-inline">!</strong> to negate a pattern, and <strong class="source-inline">[</strong> <strong class="source-inline">]</strong> to define character ranges.</li>
			</ul>
			<p>Here is an example <a id="_idIndexMarker224"/>of a code owner file:</p>
			<pre class="source-code"># The global owner is the default for the entire repository</pre>
			<pre class="source-code"><strong class="bold">*</strong>          @org/team1</pre>
			<pre class="source-code"># The design team is owner of <strong class="bold">all .css files</strong></pre>
			<pre class="source-code"><strong class="bold">*.css</strong>      @org/design-team</pre>
			<pre class="source-code"># The admin is owner of <strong class="bold">all files in all subfolders</strong> of the</pre>
			<pre class="source-code"># folder IaC in the root of the repository</pre>
			<pre class="source-code"><strong class="bold">/IaC/</strong>      @admin</pre>
			<pre class="source-code"># User1 is the owner of <strong class="bold">all files</strong> in the folder <strong class="bold">d</strong>ocs or </pre>
			<pre class="source-code"># <strong class="bold">D</strong>ocs – but not of files in subfolders of docs!</pre>
			<pre class="source-code"><strong class="bold">/[Dd]ocs/* </strong>@user1</pre>
			<p>See the following page, <em class="italic">About code owners</em>, for more details: <a href="https://docs.github.com/en/github/creating-cloning-and-archiving-repositories/creating-a-repository-on-github/about-code-owners ">https://docs.github.com/en/github/creating-cloning-and-archiving-repositories/creating-a-repository-on-github/about-code-owners.</a></p>
			<p>Code owners <a id="_idIndexMarker225"/>are a great way to get shared knowledge across team boundaries and to shift approvals from change boards in release pipelines to early approvals when changes happen.</p>
			<h2 id="_idParaDest-89"><a id="_idTextAnchor088"/>Required reviews</h2>
			<p>You can require a given number of approvals before merging a pull request. This is set on a <strong class="bold">branch protection rule</strong> that <a id="_idIndexMarker226"/>can apply to one of many branches. You create branch protection rules under <strong class="bold">Settings</strong> | <strong class="bold">Branches</strong> | <strong class="bold">Add rule</strong>. In the rule, you can set the <a id="_idIndexMarker227"/>number of <strong class="bold">required reviews</strong> before merging, choose whether you want to dismiss approvals when changes are made to the code, and enforce approvals from code owners (see <em class="italic">Figure 3.11</em>): </p>
			<div>
				<div id="_idContainer057" class="IMG---Figure">
					<img src="image/B17827_03_011.jpg" alt="Figure 3.11 – Required reviews for a specific branch&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 3.11 – Required reviews for a specific branch</p>
			<p>For more information <a id="_idIndexMarker228"/>on branch protection, see https://docs.github.com/en/github/administering-a-repository/defining-the-mergeability-of-pull-requests/about-protected-branches#about-branch-protection-rules. I will cover this topic in more detail in <a href="B17827_07_Epub.xhtml#_idTextAnchor175"><em class="italic">Chapter 7</em></a>, <em class="italic">Trunk-Based Development</em>.</p>
			<h2 id="_idParaDest-90"><a id="_idTextAnchor089"/>Requesting a pull request review</h2>
			<p>If your code is ready <a id="_idIndexMarker229"/>to be reviewed, you can manually add the required number of reviewers. GitHub provides you with <strong class="bold">reviewers' suggestions</strong> based on the author of the code that you have changed (see <em class="italic">Figure 3.12</em>). You can just click on <strong class="bold">Request</strong> or you can manually search for people to perform the review:</p>
			<div>
				<div id="_idContainer058" class="IMG---Figure">
					<img src="image/B17827_03_012.jpg" alt="Figure 3.12 – Suggested reviewers&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 3.12 – Suggested reviewers</p>
			<p>You can also have GitHub automatically assign reviewers to your team. You configure this per team under <strong class="bold">Settings</strong> | <strong class="bold">Code review assignment</strong>. You can select the number of reviewers that automatically get assigned and select one of the following two algorithms:</p>
			<ul>
				<li><strong class="bold">Round robin</strong>: Chooses reviewers based on who received the least recent requests so far</li>
				<li><strong class="bold">Load balance</strong>: Chooses reviewers based upon each member's total number of review requests considering outstanding reviews</li>
			</ul>
			<p>You can exclude certain members from reviews, and you can select to not notify the entire team when reviewers are assigned. See Figure 3.13 for how to configure code review assignments for your team:</p>
			<div>
				<div id="_idContainer059" class="IMG---Figure">
					<img src="image/B17827_03_013.jpg" alt="Figure 3.13 – Managing code review assignments for your team&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 3.13 – Managing code review assignments for your team</p>
			<h2 id="_idParaDest-91"><a id="_idTextAnchor090"/>Auto-merge</h2>
			<p>One of my <a id="_idIndexMarker230"/>favorite features from pull <a id="_idIndexMarker231"/>requests is <strong class="bold">auto-merge</strong>. This allows you to increase your velocity when working on small changes, especially if you have <strong class="bold">continuous deployment</strong> (<strong class="bold">CD</strong>) enabled. Auto-merge automatically merges your changes if all policies are met. If you have done your changes, you enable auto-merge and can work on other changes. If your pull request has the required number of approvals and all automatic checks pass, the pull request gets automatically merged and deployed to production.</p>
			<h1 id="_idParaDest-92"><a id="_idTextAnchor091"/>Pull request reviews</h1>
			<p>If you have been selected for a<a id="_idIndexMarker232"/> review, you can comment on many changes, make suggestions, and in the end submit your review with one of the following notations:</p>
			<ul>
				<li><strong class="bold">Comment</strong></li>
				<li><strong class="bold">Approve</strong></li>
				<li><strong class="bold">Request changes</strong></li>
			</ul>
			<p>In the previous section, I focused on pull request features relevant to the author of a pull request. In this section, I describe a feature that helps reviewers to perform a review and give proper feedback to the author.</p>
			<h2 id="_idParaDest-93"><a id="_idTextAnchor092"/>Reviewing proposed changes in a pull request</h2>
			<p>You can start your review <a id="_idIndexMarker233"/>by looking at the changes one file at a time. If you hover over lines, you see the <strong class="bold">+</strong> icon on the left. It can be used to add a single-line comment, or by dragging it over multiple lines, you can create a multiline comment. If you have a comment, you select <strong class="bold">Start review</strong> to start the review process without submitting the comment yet. If you add more comments, the button changes to <strong class="bold">Add review comment</strong>; you can add as many comments to a review as you want. Comments are only visible to you until you submit the review! You can cancel a review at any time.</p>
			<h2 id="_idParaDest-94"><a id="_idTextAnchor093"/>Marking files as viewed</h2>
			<p>When reviewing, you see a<a id="_idIndexMarker234"/> progress bar at the top of the file. When you're done with one file, you can select the <strong class="bold">Viewed</strong> checkbox. The file will be collapsed and the progress bar will show the progress (see <em class="italic">Figure 3.14</em>): </p>
			<div>
				<div id="_idContainer060" class="IMG---Figure">
					<img src="image/B17827_03_014.jpg" alt="Figure 3.14 – Marking files as viewed&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 3.14 – Marking files as viewed</p>
			<h2 id="_idParaDest-95"><a id="_idTextAnchor094"/>Hands-on – Making suggestions</h2>
			<p>The best way to give feedback is<a id="_idIndexMarker235"/> by making <strong class="bold">suggestions</strong> that the author of the pull request can easily integrate into their branch. This feature is so important that it is worth trying it out if you've never tried it. Here's how you'd go about this:</p>
			<ol>
				<li value="1">Open the fork from the repository you created in the previous hands-on exercise: https://github.com/&lt;your user name&gt;/AccelerateDevOps.</li>
			</ol>
			<p>In the fork, navigate to <strong class="source-inline">Chapter 3</strong> | <strong class="bold">Review Changes</strong> (<strong class="source-inline">ch3_pull-request/Review-Changes.md</strong>). The file also contains instructions so that you don't have to switch between your browser and the book all the time.</p>
			<p>Copy the sample source code by clicking the <strong class="bold">Copy</strong> icon in the top-right corner of the source code block.</p>
			<ol>
				<li value="2">Navigate to <strong class="source-inline">src/app.js</strong> (use the link in markdown). Select the branch you created in the previous hands-on exercise and edit the file by clicking the <strong class="bold">Edit</strong> icon (pencil) in the top-right corner (see <em class="italic">Figure 3.15</em>): </li>
			</ol>
			<div>
				<div id="_idContainer061" class="IMG---Figure">
					<img src="image/B17827_03_015.jpg" alt="Figure 3.15 – Editing code file to add sample code&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 3.15 – Editing code file to add sample code</p>
			<ol>
				<li value="3">Delete <em class="italic">line 2</em> and insert the code by pressing <em class="italic">Ctrl</em> + <em class="italic">V</em>.</li>
				<li>Commit directly to the source branch of your pull request.</li>
				<li>Navigate back to the pull request and look for <strong class="source-inline">src/app.js</strong> under <strong class="bold">Files changed</strong>. Note that the nested loop in <em class="italic">lines 6</em> to <em class="italic">9</em> is not correctly indented. Mark <em class="italic">lines 6</em> to <em class="italic">9</em> and create a multiline comment. Click the <strong class="bold">Suggestion</strong> button and you'll see that the code is in the suggestion block, including whitespaces (see <em class="italic">Figure 3.16</em>): </li>
			</ol>
			<div>
				<div id="_idContainer062" class="IMG---Figure">
					<img src="image/B17827_03_016.jpg" alt="Figure 3.16 – Creating a suggestion for a multiline comment&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 3.16 – Creating a suggestion for a multiline comment</p>
			<ol>
				<li value="6">Note that<a id="_idIndexMarker236"/> the <strong class="source-inline">suggestion</strong> code block contains the complete code, including whitespaces. Add four blanks at the beginning of each line to fix the indentation.</li>
			</ol>
			<p>You can make the suggestion part of a review (<strong class="bold">Start a review</strong>) or submit the suggestion directly to the author (<strong class="bold">Add single comment</strong>). For this hands-on exercise, we add the suggestion as a single comment.</p>
			<h2 id="_idParaDest-96"><a id="_idTextAnchor095"/>Incorporating feedback into your pull request</h2>
			<p>Since you are the reviewer and author, you can directly switch roles. As the author, you see all suggestions for your pull request.</p>
			<p>You can<a id="_idIndexMarker237"/> commit a <a id="_idIndexMarker238"/>suggestion directly to your branch, or you can batch multiple suggestions to one commit and then commit all the changes at once. Add the change to the batch and apply the batch at the top of the file (see <em class="italic">Figure 3.17</em>): </p>
			<div>
				<div id="_idContainer063" class="IMG---Figure">
					<img src="image/B17827_03_017.jpg" alt="Figure 3.17 – Incorporating suggestions into your code&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 3.17 – Incorporating suggestions into your code</p>
			<p>Suggestions are a <a id="_idIndexMarker239"/>great way to provide feedback and suggest<a id="_idIndexMarker240"/> code changes. They are really easy for an author to incorporate into their code.</p>
			<h2 id="_idParaDest-97"><a id="_idTextAnchor096"/>Submitting a review </h2>
			<p>If you have finished<a id="_idIndexMarker241"/> your review and added all your comments and suggestions, you can submit it. The author will be informed about the outcome and can answer your comments. You can leave a final comment and select one of these three options:</p>
			<ul>
				<li><strong class="bold">Approve</strong>: Approves the changes. This is the only option that counts to the required reviewer count!</li>
				<li><strong class="bold">Comment</strong>: Submit feedback without approval or denial.</li>
				<li><strong class="bold">Request changes</strong>: Indicate that changes are needed for approval from your side.</li>
			</ul>
			<p>Finish the review by<a id="_idIndexMarker242"/> clicking <strong class="bold">Submit review</strong> (see <em class="italic">Figure 3.18</em>):</p>
			<div>
				<div id="_idContainer064" class="IMG---Figure">
					<img src="image/B17827_03_018.jpg" alt="Figure 3.18 – Finishing your review&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 3.18 – Finishing your review</p>
			<h2 id="_idParaDest-98"><a id="_idTextAnchor097"/>Finishing your pull request</h2>
			<p>If you want to abandon<a id="_idIndexMarker243"/> the changes in your branch, you can close a pull request without merging. To incorporate your changes into the base branch you have three <strong class="bold">merge</strong> options, outlined as follows:</p>
			<ul>
				<li><strong class="bold">Create a merge commit</strong>: This is<a id="_idIndexMarker244"/> the default option. It creates a merge commit and displays all commits from your branch as a separate branch in the history. If you have many long-running branches, this can clutter the history. You can see a representation of this merge option here:</li>
			</ul>
			<div>
				<div id="_idContainer065" class="IMG---Figure">
					<img src="image/B17827_03_019.jpg" alt="Figure 3.19 – Git history if you do a merge commit&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 3.19 – Git history if you do a merge commit</p>
			<ul>
				<li><strong class="bold">Squash and merge</strong>: All the commits from the branch will be combined into a single commit. This creates a clean, linear history and is a good merge method if you delete the branch after merging. It is not recommended if you keep working on the branch. You can <a id="_idIndexMarker245"/>see a representation of this merge option here:</li>
			</ul>
			<div>
				<div id="_idContainer066" class="IMG---Figure">
					<img src="image/B17827_03_020.jpg" alt="Figure 3.20 – Git history if you do a squash and merge&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 3.20 – Git history if you do a squash and merge</p>
			<ul>
				<li><strong class="bold">Rebase and merge</strong>: Applies all <a id="_idIndexMarker246"/>the commits of the branch to the head of the base branch. This also creates a linear history but keeps the individual commits. It's also not recommended if you keep working on the branch. You can see a representation of this merge option here:</li>
			</ul>
			<div>
				<div id="_idContainer067" class="IMG---Figure">
					<img src="image/B17827_03_021.jpg" alt="Figure 3.21 – Git history seems linear if you do a rebase and merge&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 3.21 – Git history seems linear if you do a rebase and merge</p>
			<p>Select the merge method you <a id="_idIndexMarker247"/>want and click <strong class="bold">Merge pull request</strong> (see <em class="italic">Figure 3.22</em>):</p>
			<div>
				<div id="_idContainer068" class="IMG---Figure">
					<img src="image/B17827_03_022.jpg" alt="Figure 3.22 – Finishing a pull request&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 3.22 – Finishing a pull request</p>
			<p>Modify the merge message <a id="_idIndexMarker248"/>and click <strong class="bold">Confirm merge</strong>. After the merge, you can delete the branch if you want.</p>
			<h1 id="_idParaDest-99"><a id="_idTextAnchor098"/>Best practices for code reviews</h1>
			<p>Pull requests are a <a id="_idIndexMarker249"/>great way to collaborate on any kind of code. This chapter only scratches the surface of the possibilities you have for your collaboration workflow, but to get your teams to effectively collaborate, you should consider some best practices for effective code reviews.</p>
			<h2 id="_idParaDest-100"><a id="_idTextAnchor099"/>Teach Git</h2>
			<p>This one might look obvious, but make sure your teams are well trained in Git. Well-crafted commits with a <strong class="bold">good commit message</strong> that only serve <strong class="bold">one purpose</strong> are much easier to review than many changes spread randomly across multiple commits. In particular, mixing refactoring and business logic makes reviews a nightmare. If team members know how to fix up commits, patch changes they made in different commits, and how to craft good commit messages, the resulting pull request will be much easier to review.</p>
			<h2 id="_idParaDest-101"><a id="_idTextAnchor100"/>Link pull request to issue</h2>
			<p>Link the pull request to the corresponding issue that initiated the work. This helps to give context to the pull request. If you use third-party integration, link the pull request to the Jira ticket, Azure Boards work item, or any other source you have connected to GitHub.</p>
			<h2 id="_idParaDest-102"><a id="_idTextAnchor101"/>Use draft pull requests</h2>
			<p>Have the<a id="_idIndexMarker250"/> team members create a <strong class="bold">draft pull request</strong> right when they <strong class="bold">start working</strong> on something. This way, the team knows who is working on what. This also encourages people to use comments with mentions to ask people for feedback before the review starts. Early feedback on changes helps to get faster reviews at the end.</p>
			<h2 id="_idParaDest-103"><a id="_idTextAnchor102"/>Have a minimum number of two approvers</h2>
			<p>You should have a <strong class="bold">minimum number</strong> of two <strong class="bold">required approvers</strong>. The more the better, depending on team size. But one is not enough. Having multiple reviewers gives reviews some kind of dynamic. I noticed big changes in the review practice of some teams by just<a id="_idIndexMarker251"/> changing this from one to two!</p>
			<h2 id="_idParaDest-104"><a id="_idTextAnchor103"/>Do peer reviews</h2>
			<p>Consider<a id="_idIndexMarker252"/> reviews to be <strong class="bold">peer reviews</strong>. Do not have senior architects review the code of others! Younger colleagues should also do reviews of peers to learn. A good practice is to add the entire team as reviewers and require a certain percentage of approvals (for example, 50%), and then people pick the pull requests they want. Or, you <a id="_idIndexMarker253"/>could use <strong class="bold">automatic review assignments</strong> to distribute reviews randomly in your team.</p>
			<h2 id="_idParaDest-105"><a id="_idTextAnchor104"/>Automate review steps</h2>
			<p>Many review steps can be automated, especially formatting. Have a good linter <strong class="bold">check the formatting</strong> of code (for example, <a href="https://github.com/github/super-linter">https://github.com/github/super-linter</a>), or write some tests to check if the documentation is complete. Use static and dynamic code analysis to find issues automatically. The more you automate banal checks, the more the reviews can concentrate on important things.</p>
			<h2 id="_idParaDest-106"><a id="_idTextAnchor105"/>Deploy and test changes</h2>
			<p>Build and test your changes automatically before merging. Install the code to test if necessary. The more confident people are that the changes will not break anything, the more they will trust in the process. Use <strong class="bold">auto-merge</strong> to <a id="_idIndexMarker254"/>automatically merge and release your changes if all approvals and validation pass. The high automation makes people work in smaller batch sizes, which makes reviews much easier.</p>
			<h2 id="_idParaDest-107"><a id="_idTextAnchor106"/>Review guidelines/code of conduct</h2>
			<p>Some engineers have a strong opinion on what is the right way to do something, and debates can run out of hand quickly. You want to have intense discussions to get the best solutions, but <a id="_idIndexMarker255"/>you want these to happen in an inclusive way so that everyone in the team can participate equally. Having <strong class="bold">review guidelines</strong> and a <strong class="bold">code of conduct</strong> in place helps as a gatekeeper. If people do not behave appropriately, you can point to the rules.</p>
			<h1 id="_idParaDest-108"><a id="_idTextAnchor107"/>Summary</h1>
			<p>Software development is a team sport, and it is important to have a team with shared ownership for the code that collaborates tightly on new changes. A GitHub pull request can help to achieve this if it is used in the right way.</p>
			<p>In the next chapter, you will about asynchronous and synchronous work, and how asynchronous workflows can help you to collaborate from anywhere at any time.</p>
			<h1 id="_idParaDest-109"><a id="_idTextAnchor108"/>Further readings and references</h1>
			<p>Here are the references from this chapter that you can also use to get more information on the topics:</p>
			<ul>
				<li><em class="italic">Coyle D</em>. (2018). <em class="italic">The Culture Code: The Secrets of Highly Successful Groups</em> (1st ed.). <em class="italic">Cornerstone Digital</em>.</li>
				<li><em class="italic">Kim G</em>., <em class="italic">Humble J.</em>, <em class="italic">Debois P.</em> and <em class="italic">Willis J.</em> (2016). <em class="italic">The DevOps Handbook: How to Create World-Class Agility, Reliability, and Security in Technology Organizations</em> (1st ed.). <em class="italic">IT Revolution Press</em>.</li>
				<li>Scott Prugh (2014). <em class="italic">Continuous Delivery</em>. <a href="https://www.scaledagileframework.com/guidance-continuous-delivery/">https://www.scaledagileframework.com/guidance-continuous-delivery/</a></li>
				<li><em class="italic">Chacon S.</em> and <em class="italic">Straub B.</em> (2014). <em class="italic">Pro Git</em> (2nd ed.). <em class="italic">Apress</em>. <a href="https://git-scm.com/book/de/v2">https://git-scm.com/book/de/v2</a></li>
				<li><em class="italic">Kaufmann M.</em> (2021). <em class="italic">Git für Dummies</em> (1st ed., German). <em class="italic">Wiley-VCH</em>.</li>
				<li>Git: <a href="https://en.wikipedia.org/wiki/Git">https://en.wikipedia.org/wiki/Git</a></li>
				<li>Pull requests: <a href="https://docs.github.com/en/github/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/about-pull-requests">https://docs.github.com/en/github/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/about-pull-requests</a></li>
				<li>Code owners: https://docs.github.com/en/github/creating-cloning-and-archiving-repositories/creating-a-repository-on-github/about-code-owners</li>
				<li>Branch protection: https://docs.github.com/en/github/administering-a-repository/defining-the-mergeability-of-pull-requests/about-protected-branches#about-branch-protection-rules</li>
				<li>Code review assignments: https://docs.github.com/en/organizations/organizing-members-into-teams/managing-code-review-assignment-for-your-team</li>
				<li>Auto-merge: <a href="https://docs.github.com/en/github/collaborating-with-pull-requests/incorporating-changes-from-a-pull-request/automatically-merging-a-pull-request">https://docs.github.com/en/github/collaborating-with-pull-requests/incorporating-changes-from-a-pull-request/automatically-merging-a-pull-request</a></li>
				<li>Pull request reviews: <a href="https://docs.github.com/en/github/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/about-pull-request-reviews">https://docs.github.com/en/github/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/about-pull-request-reviews</a></li>
			</ul>
		</div>
	</body></html>