<html><head></head><body>
<div id="_idContainer274">
<h1 class="chapter-number" id="_idParaDest-174"><a id="_idTextAnchor342"/><span class="koboSpan" id="kobo.1.1">9</span></h1>
<h1 id="_idParaDest-175"><a id="_idTextAnchor343"/><span class="koboSpan" id="kobo.2.1">Mobile DevOps Best Practices</span></h1>
<p><span class="koboSpan" id="kobo.3.1">As discussed in the previous chapters, it is essential to use the mobile DevOps process in order to develop and release quality mobile applications frequently and quickly to your customers. </span><span class="koboSpan" id="kobo.3.2">It is possible to speed up the development and distribution of mobile applications by combining the best practices of developers, test engineers, release experts, and other stakeholders. </span><span class="koboSpan" id="kobo.3.3">As a result of the shorter delivery times, quality and user experience will also </span><span class="No-Break"><span class="koboSpan" id="kobo.4.1">be improved.</span></span></p>
<p><span class="koboSpan" id="kobo.5.1">Throughout this chapter, we will explore a range of essential topics that will empower mobile app developers and DevOps teams to implement efficient and effective </span><strong class="bold"><span class="koboSpan" id="kobo.6.1">continuous integration/continuous delivery</span></strong><span class="koboSpan" id="kobo.7.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.8.1">CI/CD</span></strong><span class="koboSpan" id="kobo.9.1">) pipelines; we will delve into the fundamental practices that drive successful mobile </span><span class="No-Break"><span class="koboSpan" id="kobo.10.1">app development.</span></span></p>
<p><span class="koboSpan" id="kobo.11.1">In this chapter, we will cover the </span><span class="No-Break"><span class="koboSpan" id="kobo.12.1">following topics:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.13.1">Best practices for CI/CD in mobile </span><span class="No-Break"><span class="koboSpan" id="kobo.14.1">app development</span></span></li>
<li><span class="koboSpan" id="kobo.15.1">Managing mobile app versions </span><span class="No-Break"><span class="koboSpan" id="kobo.16.1">and releases</span></span></li>
<li><span class="koboSpan" id="kobo.17.1">Managing mobile </span><span class="No-Break"><span class="koboSpan" id="kobo.18.1">app infrastructure</span></span></li>
<li><span class="koboSpan" id="kobo.19.1">The A/B testing and </span><span class="No-Break"><span class="koboSpan" id="kobo.20.1">feature flags</span></span></li>
<li><span class="koboSpan" id="kobo.21.1">Remote and dependency caching for </span><span class="No-Break"><span class="koboSpan" id="kobo.22.1">mobile apps</span></span></li>
<li><span class="koboSpan" id="kobo.23.1">Execution of CI builds and tests </span><span class="No-Break"><span class="koboSpan" id="kobo.24.1">in parallel</span></span></li>
<li><span class="koboSpan" id="kobo.25.1">Automating build, test, and release </span><span class="No-Break"><span class="koboSpan" id="kobo.26.1">with fastlane</span></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.27.1">Mock APIs</span></span></li>
<li><span class="koboSpan" id="kobo.28.1">ChatOps for mobile </span><span class="No-Break"><span class="koboSpan" id="kobo.29.1">DevOps collaboration</span></span></li>
</ul>
<h1 id="_idParaDest-176"><a id="_idTextAnchor344"/><span class="koboSpan" id="kobo.30.1">Best practices for CI/CD in mobile app development</span></h1>
<p><span class="koboSpan" id="kobo.31.1">Keeping your mobile DevOps processes effective, efficient, and aligned with your overall strategy for developing mobile apps requires you and your team to review and refine them regularly. </span><span class="koboSpan" id="kobo.31.2">There is no silver bullet, so we should always refine our mobile DevOps processes based on team and </span><span class="No-Break"><span class="koboSpan" id="kobo.32.1">business growth.</span></span></p>
<p><span class="koboSpan" id="kobo.33.1">There are various practices that can be added to mobile DevOps processes to optimize CI/CD pipelines, code review processes, development speed, and </span><span class="No-Break"><span class="koboSpan" id="kobo.34.1">so on.</span></span></p>
<p><span class="koboSpan" id="kobo.35.1">We discussed, in the previous chapters, the different stages when implementing CI/CD pipelines or workflows for </span><span class="No-Break"><span class="koboSpan" id="kobo.36.1">mobile apps.</span></span></p>
<p><span class="koboSpan" id="kobo.37.1">Here are some best practices to</span><a id="_idIndexMarker1182"/><span class="koboSpan" id="kobo.38.1"> ensure a successful CI/CD pipeline for </span><span class="No-Break"><span class="koboSpan" id="kobo.39.1">mobile apps:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.40.1">Automate as much as possible</span></strong><span class="koboSpan" id="kobo.41.1">: Automate building, testing, code analysis, releasing, and other tasks to reduce manual intervention, minimize errors, and accelerate the </span><span class="No-Break"><span class="koboSpan" id="kobo.42.1">development process.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.43.1">Implement a testing strategy:</span></strong><span class="koboSpan" id="kobo.44.1"> Use a mix of unit tests, integration tests, UI tests, and end-to-end tests to ensure high-quality code. </span><span class="koboSpan" id="kobo.44.2">Test various devices, screen sizes, and operating systems using emulators or </span><span class="No-Break"><span class="koboSpan" id="kobo.45.1">real devices.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.46.1">Optimize build and test times:</span></strong><span class="koboSpan" id="kobo.47.1"> Use caching, parallelization, and incremental builds to reduce build times. </span><span class="koboSpan" id="kobo.47.2">Parallelize test execution and prioritize critical tests to speed up </span><span class="No-Break"><span class="koboSpan" id="kobo.48.1">test runs.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.49.1">Adopt a well-defined branching strategy</span></strong><span class="koboSpan" id="kobo.50.1">: When dealing with large or complex code, it’s helpful to use a branching strategy such as GitFlow or trunk-based development. </span><span class="koboSpan" id="kobo.50.2">This can maintain a tidy commit history and make integration and </span><span class="No-Break"><span class="koboSpan" id="kobo.51.1">deployment easier.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.52.1">Enforce good commit practices</span></strong><span class="koboSpan" id="kobo.53.1">: This includes atomic commits, descriptive commit messages, and frequent code reviews to maintain code quality and ensure easy traceability of changes. </span><span class="koboSpan" id="kobo.53.2">This helps ensure the code’s quality and correctness and can improve collaboration among team members. </span><span class="koboSpan" id="kobo.53.3">There are different tools that can be used to improve and automate the code review process, such as </span><span class="No-Break"><span class="koboSpan" id="kobo.54.1">the following:</span></span><ul><li><strong class="bold"><span class="koboSpan" id="kobo.55.1">What The Diff</span></strong><span class="koboSpan" id="kobo.56.1"> (</span><a href="https://whatthediff.ai/"><span class="koboSpan" id="kobo.57.1">https://whatthediff.ai/</span></a><span class="koboSpan" id="kobo.58.1">): This is an AI-powered code that acts as a review</span><a id="_idIndexMarker1183"/><span class="koboSpan" id="kobo.59.1"> assistant. </span><span class="koboSpan" id="kobo.59.2">Its purpose is</span><a id="_idIndexMarker1184"/><span class="koboSpan" id="kobo.60.1"> to assist your team in writing better pull request descriptions, and it can even help to speed up the reviewing and merging process. </span><span class="koboSpan" id="kobo.60.2">Additionally, it can keep your non-technical team members informed </span><span class="No-Break"><span class="koboSpan" id="kobo.61.1">and involved.</span></span></li><li><strong class="bold"><span class="koboSpan" id="kobo.62.1">Danger</span></strong><span class="koboSpan" id="kobo.63.1"> (</span><a href="https://github.com/danger/danger"><span class="koboSpan" id="kobo.64.1">https://github.com/danger/danger</span></a><span class="koboSpan" id="kobo.65.1">): This is an incredible tool that can help your team automate code</span><a id="_idIndexMarker1185"/><span class="koboSpan" id="kobo.66.1"> review conventions. </span><span class="koboSpan" id="kobo.66.2">By adding another logical step to the process, Danger can assist with linting those routine tasks during your daily </span><span class="No-Break"><span class="koboSpan" id="kobo.67.1">code review.</span></span></li><li><strong class="bold"><span class="koboSpan" id="kobo.68.1">MergeQueue</span></strong><span class="koboSpan" id="kobo.69.1"> (</span><a href="https://mergequeue.com/"><span class="koboSpan" id="kobo.70.1">https://mergequeue.com/</span></a><span class="koboSpan" id="kobo.71.1">): A</span><a id="_idIndexMarker1186"/><span class="koboSpan" id="kobo.72.1"> faster way to automate merge workflows, manage queues in large teams, and never worry about build </span><span class="No-Break"><span class="koboSpan" id="kobo.73.1">failures again.</span></span></li></ul></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.74.1">Keep an eye on essential CI/CD metrics</span></strong><span class="koboSpan" id="kobo.75.1">: It is important to monitor the CI/CD metrics such as build times, test execution times, deployment frequency, and code quality. </span><span class="koboSpan" id="kobo.75.2">These metrics will be discussed further in this chapter to help identify bottlenecks and areas </span><span class="No-Break"><span class="koboSpan" id="kobo.76.1">for improvement.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.77.1">Incorporate security measures into your CI/CD pipeline</span></strong><span class="koboSpan" id="kobo.78.1">: To ensure safety in your CI/CD pipeline, it is important to include security measures. </span><span class="koboSpan" id="kobo.78.2">This can be done by utilizing both static and dynamic code analysis tools, scanning dependencies for any vulnerabilities, and enforcing access control through the principle of </span><span class="No-Break"><span class="koboSpan" id="kobo.79.1">least privilege.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.80.1">Prepare a well-defined rollback strategy</span></strong><span class="koboSpan" id="kobo.81.1">: It is important to have a clear and defined plan in place for rolling back to a previous stable version in the event of any issues during deployment. </span><span class="koboSpan" id="kobo.81.2">This may require submitting a new update to the app store for </span><span class="No-Break"><span class="koboSpan" id="kobo.82.1">mobile applications.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.83.1">Establish clear communication channels</span></strong><span class="koboSpan" id="kobo.84.1">: It is important to establish clear communication channels among team members in order to keep everyone informed about the project’s progress and any potential issues that </span><span class="No-Break"><span class="koboSpan" id="kobo.85.1">may arise.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.86.1">Collaborate with cross-functional teams</span></strong><span class="koboSpan" id="kobo.87.1">: Work together with cross-functional teams to ensure all aspects of the development and deployment processes are taken</span><a id="_idIndexMarker1187"/><span class="koboSpan" id="kobo.88.1"> into consideration. </span><span class="koboSpan" id="kobo.88.2">This involves collaborating with designers, developers, testers, and </span><span class="No-Break"><span class="koboSpan" id="kobo.89.1">operations teams.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.90.1">In addition, we should keep an eye on the performance of our CI builds and CI servers overall as we improve our mobile DevOps processes and CI/CD implementation. </span><span class="koboSpan" id="kobo.90.2">Let’s look at a few metrics to track </span><span class="No-Break"><span class="koboSpan" id="kobo.91.1">the CI</span><a id="_idTextAnchor345"/><span class="koboSpan" id="kobo.92.1">/CD.</span></span></p>
<h2 id="_idParaDest-177"><a id="_idTextAnchor346"/><span class="koboSpan" id="kobo.93.1">Key metrics to track for CI/CD in mobile app development</span></h2>
<p><span class="koboSpan" id="kobo.94.1">Tracking key metrics in your CI/CD pipeline can help you measure the effectiveness of your development</span><a id="_idIndexMarker1188"/><span class="koboSpan" id="kobo.95.1"> and deployment process, identify bottlenecks, and optimize </span><span class="No-Break"><span class="koboSpan" id="kobo.96.1">the pipeline.</span></span></p>
<p><span class="koboSpan" id="kobo.97.1">Here are some essential metrics to track for CI/CD in mobile </span><span class="No-Break"><span class="koboSpan" id="kobo.98.1">app development:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.99.1">Build success rate</span></strong><span class="koboSpan" id="kobo.100.1">: Measure the time taken for each build, including compilation, packaging, and any other build-related tasks. </span><span class="koboSpan" id="kobo.100.2">Tracking this metric can help you identify inefficiencies and improve build performance – for example, you have the option to incorporate caching steps to decrease the build time of the app in case the app modules haven't undergone any changes from the previous build. </span><span class="koboSpan" id="kobo.100.3">This will prevent the app from being built from scratch and start the process from where it last left off. </span><span class="koboSpan" id="kobo.100.4">We will discuss caching later in </span><span class="No-Break"><span class="koboSpan" id="kobo.101.1">this chapter.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.102.1">Deployment frequency</span></strong><span class="koboSpan" id="kobo.103.1">: Track how often you deploy new releases or updates to your mobile app. </span><span class="koboSpan" id="kobo.103.2">High deployment frequency indicates a mature CI/CD process and faster delivery of features and bug fixes </span><span class="No-Break"><span class="koboSpan" id="kobo.104.1">to users.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.105.1">Lead time for changes</span></strong><span class="koboSpan" id="kobo.106.1">: Measure the time a code change takes from commit to production. </span><span class="koboSpan" id="kobo.106.2">Shorter lead times can indicate an efficient pipeline and faster value delivery to users; we will discuss different tools that help in the code commit process later in </span><span class="No-Break"><span class="koboSpan" id="kobo.107.1">this chapter.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.108.1">Change failure rate</span></strong><span class="koboSpan" id="kobo.109.1">: Monitor the percentage of changes that results in failures or require rollbacks. </span><span class="koboSpan" id="kobo.109.2">A low change failure rate indicates that your testing and release processes effectively catch issues before they </span><span class="No-Break"><span class="koboSpan" id="kobo.110.1">reach production.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.111.1">Mean time to recovery</span></strong><span class="koboSpan" id="kobo.112.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.113.1">MTTR</span></strong><span class="koboSpan" id="kobo.114.1">): Measure the average time it takes to fix issues or recover from a failure in </span><a id="_idIndexMarker1189"/><span class="koboSpan" id="kobo.115.1">production. </span><span class="koboSpan" id="kobo.115.2">A short MTTR indicates that your team effectively identifies and addresses </span><span class="No-Break"><span class="koboSpan" id="kobo.116.1">problems quickly.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.117.1">Test execution time</span></strong><span class="koboSpan" id="kobo.118.1">: Monitor the time taken to execute your test suite. </span><span class="koboSpan" id="kobo.118.2">Long test execution times can slow down the development process. </span><span class="koboSpan" id="kobo.118.3">Identifying slow tests or optimizing test parallelization can reduce execution time. </span><span class="koboSpan" id="kobo.118.4">We will discuss parallelization later in </span><span class="No-Break"><span class="koboSpan" id="kobo.119.1">this chapter.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.120.1">Test coverage</span></strong><span class="koboSpan" id="kobo.121.1">: Track the </span><a id="_idIndexMarker1190"/><span class="koboSpan" id="kobo.122.1">percentage of your code base covered by tests to ensure that you have adequate testing in place to catch issues and maintain high </span><span class="No-Break"><span class="koboSpan" id="kobo.123.1">code quality.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.124.1">Test pass/fail rate</span></strong><span class="koboSpan" id="kobo.125.1">: Monitor the percentage of tests that pass or fail in each build. </span><span class="koboSpan" id="kobo.125.2">A high pass rate indicates a stable code base, while a high failure rate may indicate issues with the code or testing process. </span><span class="koboSpan" id="kobo.125.3">Flaky tests produce inconsistent results, passing in some runs and failing in others without any apparent reason. </span><span class="koboSpan" id="kobo.125.4">Address flaky tests as soon as possible to avoid false negatives and maintain confidence in your test suite. </span><span class="koboSpan" id="kobo.125.5">Here is an example of how Slack teams handle the flaky tests art </span><span class="No-Break"><span class="koboSpan" id="kobo.126.1">scale: </span></span><a href="https://slack.engineering/handling-flaky-tests-at-scale-auto-detection-suppression/"><span class="No-Break"><span class="koboSpan" id="kobo.127.1">https://slack.engineering/handling-flaky-tests-at-scale-auto-detection-suppression/</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.128.1">.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.129.1">Code quality metrics</span></strong><span class="koboSpan" id="kobo.130.1">: Track metrics related to code quality, such as code complexity, code duplication, and adherence to coding standards. </span><span class="koboSpan" id="kobo.130.2">These metrics can help you maintain a clean and maintainable </span><span class="No-Break"><span class="koboSpan" id="kobo.131.1">code base.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.132.1">Tracking key metrics for CI/CD in mobile app development is crucial for evaluating the efficiency of the development and deployment process. </span><span class="koboSpan" id="kobo.132.2">By monitoring these metrics, teams can identify bottlenecks, optimize their pipeline, and ensure a smooth and reliable delivery of features and updates </span><span class="No-Break"><span class="koboSpan" id="kobo.133.1">to users.</span></span></p>
<p><span class="koboSpan" id="kobo.134.1">These metrics provide valuable insights into the overall health and effectiveness of the CI/CD pipeline, enabling teams to make data-driven improvements and maintain a stable and high-quality </span><span class="No-Break"><span class="koboSpan" id="kobo.135.1">code base.</span></span></p>
<p><span class="koboSpan" id="kobo.136.1">With a well-monitored CI/CD pipeline</span><a id="_idIndexMarker1191"/><span class="koboSpan" id="kobo.137.1"> and a clear understanding of key metrics, let’s explore together the essential strategies for managing mobile app versions </span><span class="No-Break"><span class="koboSpan" id="kobo.138.1">and </span><a id="_idTextAnchor347"/><span class="koboSpan" id="kobo.139.1">releases.</span></span></p>
<h1 id="_idParaDest-178"><a id="_idTextAnchor348"/><span class="koboSpan" id="kobo.140.1">Managing mobile app versions and releases</span></h1>
<p><span class="koboSpan" id="kobo.141.1">Managing versions and releases of a mobile app can be a complicated task, but there are some best practices that can help </span><span class="No-Break"><span class="koboSpan" id="kobo.142.1">simplify it:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.143.1">Follow semantic versioning</span></strong><span class="koboSpan" id="kobo.144.1">: It’s essential to adopt a clear and consistent version</span><a id="_idIndexMarker1192"/><span class="koboSpan" id="kobo.145.1"> numbering system. </span><span class="koboSpan" id="kobo.145.2">Semantic versioning (</span><a href="https://semver.org/"><span class="koboSpan" id="kobo.146.1">https://semver.org/</span></a><span class="koboSpan" id="kobo.147.1">) is a widely recognized standard used by developers. </span><span class="koboSpan" id="kobo.147.2">A version number consists of three parts: </span><strong class="bold"><span class="koboSpan" id="kobo.148.1">MAJOR.MINOR.PATCH</span></strong><span class="koboSpan" id="kobo.149.1">. </span><strong class="bold"><span class="koboSpan" id="kobo.150.1">MAJOR</span></strong><span class="koboSpan" id="kobo.151.1"> version </span><a id="_idIndexMarker1193"/><span class="koboSpan" id="kobo.152.1">changes indicate breaking changes, </span><strong class="bold"><span class="koboSpan" id="kobo.153.1">MINOR</span></strong><span class="koboSpan" id="kobo.154.1"> version changes</span><a id="_idIndexMarker1194"/><span class="koboSpan" id="kobo.155.1"> introduce new features, and </span><strong class="bold"><span class="koboSpan" id="kobo.156.1">PATCH</span></strong><span class="koboSpan" id="kobo.157.1"> version</span><a id="_idIndexMarker1195"/><span class="koboSpan" id="kobo.158.1"> changes address bugs </span><span class="No-Break"><span class="koboSpan" id="kobo.159.1">and issues.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.160.1">Comprehensive release notes</span></strong><span class="koboSpan" id="kobo.161.1">: Provide thorough release notes for each release, including new features, bug fixes, known issues, and additional instructions </span><span class="No-Break"><span class="koboSpan" id="kobo.162.1">or requirements.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.163.1">Streamlined branching strategy</span></strong><span class="koboSpan" id="kobo.164.1">: Adopt a clear and well-defined branching strategy, such as </span><strong class="bold"><span class="koboSpan" id="kobo.165.1">GitFlow</span></strong><span class="koboSpan" id="kobo.166.1"> or </span><strong class="bold"><span class="koboSpan" id="kobo.167.1">trunk-based development</span></strong><span class="koboSpan" id="kobo.168.1">, to avoid confusion and maintain a clean commit history. </span><span class="koboSpan" id="kobo.168.2">This will help ensure a smooth integration and </span><span class="No-Break"><span class="koboSpan" id="kobo.169.1">deployment process.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.170.1">Now, let’s examine the two strategies for organizing and managing source code in version control systems: </span><em class="italic"><span class="koboSpan" id="kobo.171.1">monorepo</span></em> <span class="No-Break"><span class="koboSpan" id="kobo.172.1">and </span></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.173.1">multi-repo</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.174.1">.</span></span></p>
<h2 id="_idParaDest-179"><a id="_idTextAnchor349"/><span class="koboSpan" id="kobo.175.1">Monorepo</span></h2>
<p><span class="koboSpan" id="kobo.176.1">A </span><strong class="bold"><span class="koboSpan" id="kobo.177.1">monorepo</span></strong><span class="koboSpan" id="kobo.178.1"> (</span><a href="https://monorepo.tools/"><span class="koboSpan" id="kobo.179.1">https://monorepo.tools/</span></a><span class="koboSpan" id="kobo.180.1">) is a single repository </span><a id="_idIndexMarker1196"/><span class="koboSpan" id="kobo.181.1">containing multiple distinct projects with </span><a id="_idIndexMarker1197"/><span class="koboSpan" id="kobo.182.1">well-defined relationships. </span><span class="koboSpan" id="kobo.182.2">This approach is designed to make it easier to manage and develop large, complex software systems by providing a single, unified source of truth for all the code and resources required by </span><span class="No-Break"><span class="koboSpan" id="kobo.183.1">the project.</span></span></p>
<p><span class="koboSpan" id="kobo.184.1">There’s a </span><a id="_idIndexMarker1198"/><span class="koboSpan" id="kobo.185.1">difference between a </span><em class="italic"><span class="koboSpan" id="kobo.186.1">monolith</span></em><span class="koboSpan" id="kobo.187.1"> and a </span><em class="italic"><span class="koboSpan" id="kobo.188.1">monorepo</span></em><span class="koboSpan" id="kobo.189.1">; a good monorepo is the </span><a id="_idIndexMarker1199"/><span class="koboSpan" id="kobo.190.1">opposite of a monolith, as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.191.1">following figure:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer266">
<span class="koboSpan" id="kobo.192.1"><img alt="Figure 9.1 – Monolith versus multi-repo versus monorepo" src="image/Figure_09.1_B18113.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.193.1">Figure 9.1 – Monolith versus multi-repo versus monorepo</span></p>
<p><span class="koboSpan" id="kobo.194.1">A monorepo offers several benefits for </span><span class="No-Break"><span class="koboSpan" id="kobo.195.1">project development:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.196.1">Firstly, storing all code in a single </span><a id="_idIndexMarker1200"/><span class="koboSpan" id="kobo.197.1">repository makes it easier to understand how different system pieces fit together and depend on one another. </span><span class="koboSpan" id="kobo.197.2">This also simplifies dependency management, reducing complexity in the development process and facilitating seamless building and deployment </span><span class="No-Break"><span class="koboSpan" id="kobo.198.1">of changes.</span></span></li>
<li><span class="koboSpan" id="kobo.199.1">A monorepo enhances collaboration between developers by providing a centralized location for all relevant code and resources. </span><span class="koboSpan" id="kobo.199.2">This improves communication, minimizes conflicts, and enables smoother collaboration on </span><span class="No-Break"><span class="koboSpan" id="kobo.200.1">the project.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.201.1">However, there are some challenges associated </span><span class="No-Break"><span class="koboSpan" id="kobo.202.1">with monorepos:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.203.1">They can become large in size, making it more difficult to clone and work with the repository due to</span><a id="_idIndexMarker1201"/><span class="koboSpan" id="kobo.204.1"> increased disk space requirements </span><a id="_idIndexMarker1202"/><span class="koboSpan" id="kobo.205.1">and longer </span><span class="No-Break"><span class="koboSpan" id="kobo.206.1">cloning times</span></span></li>
<li><span class="koboSpan" id="kobo.207.1">They can be</span><a id="_idIndexMarker1203"/><span class="koboSpan" id="kobo.208.1"> more complex, particularly for large and complex projects, as changes impact the </span><span class="No-Break"><span class="koboSpan" id="kobo.209.1">entire repository</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.210.1">Security enforcement may pose difficulties as well, as all code is stored in a single location and accessible to multiple developers. </span><span class="koboSpan" id="kobo.210.2">This can be particularly challenging for sensitive projects, necessitating careful </span><span class="No-Break"><span class="koboSpan" id="kobo.211.1">authorization processes.</span></span></p>
<h2 id="_idParaDest-180"><a id="_idTextAnchor350"/><span class="koboSpan" id="kobo.212.1">Multi-repo</span></h2>
<p><span class="koboSpan" id="kobo.213.1">Multi-repo is a development approach where each component of a project is stored in its own separate repository. </span><span class="koboSpan" id="kobo.213.2">It promotes modularity and allows teams to work independently </span><a id="_idIndexMarker1204"/><span class="koboSpan" id="kobo.214.1">on specific components. </span><span class="koboSpan" id="kobo.214.2">While it offers flexibility, coordinating changes across repositories can </span><span class="No-Break"><span class="koboSpan" id="kobo.215.1">be challenging.</span></span></p>
<p><span class="koboSpan" id="kobo.216.1">Here are some characteristics and challenges associated </span><span class="No-Break"><span class="koboSpan" id="kobo.217.1">with multi-repo:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.218.1">In a multi-repo approach, each project, library, or module has its own separate repository. </span><span class="koboSpan" id="kobo.218.2">This keeps the code base for each project isolated </span><span class="No-Break"><span class="koboSpan" id="kobo.219.1">and independent.</span></span></li>
<li><span class="koboSpan" id="kobo.220.1">Each repository</span><a id="_idIndexMarker1205"/><span class="koboSpan" id="kobo.221.1"> has its own version control history, allowing projects to be versioned independently. </span><span class="koboSpan" id="kobo.221.2">This provides flexibility in managing release cycles </span><span class="No-Break"><span class="koboSpan" id="kobo.222.1">and updates.</span></span></li>
<li><span class="koboSpan" id="kobo.223.1">Dependencies between projects must be explicitly managed and versioned, enhancing visibility and control over </span><span class="No-Break"><span class="koboSpan" id="kobo.224.1">inter-project dependencies.</span></span></li>
<li><span class="koboSpan" id="kobo.225.1">Each repository contains only the code for a specific project, keeping the repository size smaller and potentially </span><span class="No-Break"><span class="koboSpan" id="kobo.226.1">improving performance.</span></span></li>
<li><span class="koboSpan" id="kobo.227.1">The multi-repo approach allows for a more decentralized development process, as each team can manage its </span><span class="No-Break"><span class="koboSpan" id="kobo.228.1">repositories independently.</span></span></li>
<li><span class="koboSpan" id="kobo.229.1">Managing dependencies, versions, and configurations across multiple repositories can be more complex and time-consuming compared to </span><span class="No-Break"><span class="koboSpan" id="kobo.230.1">a monorepo.</span></span></li>
<li><span class="koboSpan" id="kobo.231.1">Making changes across multiple projects can be challenging, as it may require coordinating commits </span><a id="_idIndexMarker1206"/><span class="koboSpan" id="kobo.232.1">and releases across </span><span class="No-Break"><span class="koboSpan" id="kobo.233.1">multiple repositories.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.234.1">As a result, the choice between monorepo and multi-repo depends on factors such as team size, project complexity, development processes, and tooling preferences. </span><span class="koboSpan" id="kobo.234.2">Some organizations prefer the simplicity and unified approach of a monorepo, while others prefer a multi-repo setup’s independence and </span><span class="No-Break"><span class="koboSpan" id="kobo.235.1">decentralized nature.</span></span></p>
<p><span class="koboSpan" id="kobo.236.1">Since mobile applications rely on backend services, databases, and configuration management, the team should consider automating the release and managing of these to prevent any issues. </span><span class="koboSpan" id="kobo.236.2">Let’s examine the concepts behind managing mobile </span><span class="No-Break"><span class="koboSpan" id="kobo.237.1">app infrastructure</span></span></p>
<h1 id="_idParaDest-181"><a id="_idTextAnchor351"/><span class="koboSpan" id="kobo.238.1">Managing mobile app infrastructure</span></h1>
<p><span class="koboSpan" id="kobo.239.1">Managing mobile app infrastructure is a critical aspect of successful app development and deployment. </span><span class="koboSpan" id="kobo.239.2">It involves </span><a id="_idIndexMarker1207"/><span class="koboSpan" id="kobo.240.1">overseeing the underlying systems, servers, databases, and cloud resources that support the app’s functionality and </span><span class="No-Break"><span class="koboSpan" id="kobo.241.1">user experience.</span></span></p>
<p><span class="koboSpan" id="kobo.242.1">Efficient infrastructure management ensures scalability, reliability, and performance. </span><span class="koboSpan" id="kobo.242.2">Tasks include provisioning and configuring servers, setting up databases, monitoring resource utilization, and implementing security measures. </span><span class="koboSpan" id="kobo.242.3">Embracing modern </span><strong class="bold"><span class="koboSpan" id="kobo.243.1">infrastructure-as-code</span></strong><span class="koboSpan" id="kobo.244.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.245.1">IaC</span></strong><span class="koboSpan" id="kobo.246.1">) practices allows teams to automate infrastructure provisioning and configuration, making it easier to maintain consistency and deploy </span><span class="No-Break"><span class="koboSpan" id="kobo.247.1">changes seamlessly.</span></span></p>
<p><span class="koboSpan" id="kobo.248.1">A well-managed mobile app infrastructure is vital for delivering a smooth and reliable user experience while efficiently handling increasing user demands and scaling with the growth of the app. </span><span class="koboSpan" id="kobo.248.2">Let’s discuss how to manage the infrast</span><a id="_idTextAnchor352"/><span class="koboSpan" id="kobo.249.1">ructure of </span><span class="No-Break"><span class="koboSpan" id="kobo.250.1">mobile apps.</span></span></p>
<h1 id="_idParaDest-182"><a id="_idTextAnchor353"/><span class="koboSpan" id="kobo.251.1">IaC for mobile apps</span></h1>
<p><strong class="bold"><span class="koboSpan" id="kobo.252.1">IaC</span></strong><span class="koboSpan" id="kobo.253.1"> is a powerful approach that</span><a id="_idIndexMarker1208"/><span class="koboSpan" id="kobo.254.1"> allows you to define and manage your app’s infrastructure using code, bringing benefits such as reproducibility and scalability. </span><span class="koboSpan" id="kobo.254.2">While IaC is commonly associated with server-based infrastructure, it can also be applied to mobile apps, as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.255.1">following figure:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer267">
<span class="koboSpan" id="kobo.256.1"><img alt="Figure 9.2 – IaC" src="image/Figure_09.2_B18113.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.257.1">Figure 9.2 – IaC</span></p>
<p><span class="koboSpan" id="kobo.258.1">Here’s how you can utilize IaC for mobile apps</span><a id="_idIndexMarker1209"/><span class="koboSpan" id="kobo.259.1"> in </span><span class="No-Break"><span class="koboSpan" id="kobo.260.1">more detail:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.261.1">IaC enables you to create reproducible environments easily. </span><span class="koboSpan" id="kobo.261.2">You can spin up identical infrastructure setups for different environments such as development, testing, staging, and production. </span><span class="koboSpan" id="kobo.261.3">By using the same infrastructure code, you ensure consistency across environments, reducing the chances of configuration drift and </span><span class="No-Break"><span class="koboSpan" id="kobo.262.1">environment-related issues.</span></span></li>
<li><span class="koboSpan" id="kobo.263.1">Define the infrastructure components</span><a id="_idIndexMarker1210"/><span class="koboSpan" id="kobo.264.1"> required to support your mobile app. </span><span class="koboSpan" id="kobo.264.2">This may include server resources, databases, storage services, </span><strong class="bold"><span class="koboSpan" id="kobo.265.1">content delivery networks</span></strong><span class="koboSpan" id="kobo.266.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.267.1">CDNs</span></strong><span class="koboSpan" id="kobo.268.1">), and other necessary resources. </span><span class="koboSpan" id="kobo.268.2">Determine the configuration settings, dependencies, and relationships between </span><span class="No-Break"><span class="koboSpan" id="kobo.269.1">these components.</span></span></li>
<li><span class="koboSpan" id="kobo.270.1">Select an IaC tool that supports mobile app infrastructure provisioning. </span><span class="koboSpan" id="kobo.270.2">Popular options include Terraform and AWS CloudFormation. </span><span class="koboSpan" id="kobo.270.3">These tools allow you to describe and manage your IaC and support various cloud providers </span><span class="No-Break"><span class="koboSpan" id="kobo.271.1">and services.</span></span></li>
<li><span class="koboSpan" id="kobo.272.1">Store your infrastructure code in a version control system (e.g., Git) to track changes, enable collaboration, and maintain a history of </span><span class="No-Break"><span class="koboSpan" id="kobo.273.1">infrastructure modifications.</span></span></li>
<li><span class="koboSpan" id="kobo.274.1">Utilize IaC to define auto-scaling capabilities for your mobile app’s infrastructure. </span><span class="koboSpan" id="kobo.274.2">This allows your app to automatically scale resources up or down based on demand, ensuring optimal performance and cost efficiency. </span><span class="koboSpan" id="kobo.274.3">Specify scaling policies and thresholds within your </span><span class="No-Break"><span class="koboSpan" id="kobo.275.1">infrastructure code.</span></span></li>
<li><span class="koboSpan" id="kobo.276.1">With IaC, you can manage configuration settings and variables as code, making it easier to </span><a id="_idIndexMarker1211"/><span class="koboSpan" id="kobo.277.1">maintain consistency and avoid manual errors. </span><span class="koboSpan" id="kobo.277.2">For example, you can define environment-specific configuration values (e.g., API endpoints and database credentials) within your infrastructure code and use them consistently across </span><span class="No-Break"><span class="koboSpan" id="kobo.278.1">different environments.</span></span></li>
<li><span class="koboSpan" id="kobo.279.1">With IaC, you can version and track these changes, ensuring transparency and simplifying deployment. </span><span class="koboSpan" id="kobo.279.2">Instead of manually modifying resources, you modify the infrastructure code and apply the changes, and the IaC tool handles </span><span class="No-Break"><span class="koboSpan" id="kobo.280.1">the updates.</span></span></li>
<li><span class="koboSpan" id="kobo.281.1">Apply testing principles to your infrastructure code. </span><span class="koboSpan" id="kobo.281.2">Write automated tests to validate the correctness and integrity of your infrastructure definitions. </span><span class="koboSpan" id="kobo.281.3">This helps catch potential issues before provisioning or modifying </span><span class="No-Break"><span class="koboSpan" id="kobo.282.1">the infrastructure.</span></span></li>
<li><span class="koboSpan" id="kobo.283.1">Integrate your infrastructure code into your CI/CD pipeline. </span><span class="koboSpan" id="kobo.283.2">This allows you to automate the provisioning and updating of your mobile app’s infrastructure alongside your application code, ensuring consistent and </span><span class="No-Break"><span class="koboSpan" id="kobo.284.1">reliable deployments.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.285.1">After IaC, let’s explore configuration management for mob</span><a id="_idTextAnchor354"/><span class="koboSpan" id="kobo.286.1">ile apps and how to </span><span class="No-Break"><span class="koboSpan" id="kobo.287.1">use it.</span></span></p>
<h1 id="_idParaDest-183"><a id="_idTextAnchor355"/><span class="koboSpan" id="kobo.288.1">Configuration management for mobile apps</span></h1>
<p><span class="koboSpan" id="kobo.289.1">Manage configuration settings </span><a id="_idIndexMarker1212"/><span class="koboSpan" id="kobo.290.1">and variables for different environments to ensure consistency and avoid manual errors with the </span><span class="No-Break"><span class="koboSpan" id="kobo.291.1">following steps:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.292.1">Identify the configuration settings and variables your mobile app requires. </span><span class="koboSpan" id="kobo.292.2">These can include API endpoints, database connection strings, feature flags, logging levels, credentials, and any other values that may vary </span><span class="No-Break"><span class="koboSpan" id="kobo.293.1">across environments.</span></span></li>
<li><span class="koboSpan" id="kobo.294.1">Separate the configuration settings from your application code. </span><span class="koboSpan" id="kobo.294.2">Hardcoding configuration values directly into the code can make it challenging to update them when moving between environments. </span><span class="koboSpan" id="kobo.294.3">Instead, abstract the configuration values into separate configuration files or externalize them through </span><span class="No-Break"><span class="koboSpan" id="kobo.295.1">environment</span></span><span class="No-Break"><a id="_idIndexMarker1213"/></span><span class="No-Break"><span class="koboSpan" id="kobo.296.1"> variables.</span></span></li>
<li><span class="koboSpan" id="kobo.297.1">Use configuration files specific to each environment. </span><span class="koboSpan" id="kobo.297.2">For example, you can have separate configuration files for development, testing, staging, and production environments. </span><span class="koboSpan" id="kobo.297.3">These files can be JSON, XML, YAML, or properties files. </span><span class="koboSpan" id="kobo.297.4">Each file contains the corresponding values for </span><span class="No-Break"><span class="koboSpan" id="kobo.298.1">that environment.</span></span></li>
<li><span class="koboSpan" id="kobo.299.1">Leverage environment variables to store configuration values. </span><span class="koboSpan" id="kobo.299.2">Environment variables are set at the system level and can be accessed by your mobile app during runtime. </span><span class="koboSpan" id="kobo.299.3">This approach provides flexibility and allows for easy configuration changes without </span><span class="No-Break"><span class="koboSpan" id="kobo.300.1">modifying files.</span></span></li>
<li><span class="koboSpan" id="kobo.301.1">Use a centralized configuration management solution to store and manage your configuration settings. </span><span class="koboSpan" id="kobo.301.2">Solutions include AWS Secrets Manager secrets, Parameter Store parameters, or HashiCorp Vault for configuration values. </span><span class="koboSpan" id="kobo.301.3">They allow you to store different configurations for each environment and provide APIs for retrieving values </span><span class="No-Break"><span class="koboSpan" id="kobo.302.1">at runtime.</span></span></li>
<li><span class="koboSpan" id="kobo.303.1">Automate the deployment of configuration settings to different environments as part of your CI/CD pipeline. </span><span class="koboSpan" id="kobo.303.2">This ensures that the correct configuration values are deployed with your mobile app, reducing the risk of human error during manual </span><span class="No-Break"><span class="koboSpan" id="kobo.304.1">configuration updates.</span></span></li>
<li><span class="koboSpan" id="kobo.305.1">Store your configuration files or scripts in version control to track changes, maintain a history, and enable collaboration. </span><span class="koboSpan" id="kobo.305.2">This allows you to revert to previous configurations if needed and provides an audit trail of </span><span class="No-Break"><span class="koboSpan" id="kobo.306.1">configuration modifications.</span></span></li>
<li><span class="koboSpan" id="kobo.307.1">Avoid storing sensitive information directly in configuration files or environment variables. </span><span class="koboSpan" id="kobo.307.2">Instead, use secure storage mechanisms provided by your chosen configuration</span><a id="_idIndexMarker1214"/><span class="koboSpan" id="kobo.308.1"> management solution or encrypt the sensitive values before </span><span class="No-Break"><span class="koboSpan" id="kobo.309.1">storing them.</span></span></li>
<li><span class="koboSpan" id="kobo.310.1">Include configuration testing as part of your automated testing strategy. </span><span class="koboSpan" id="kobo.310.2">Write tests that validate the correctness and integrity of your configuration settings. </span><span class="koboSpan" id="kobo.310.3">This helps catch configuration-related issues early in development and ensures that the app behaves as expected in </span><span class="No-Break"><span class="koboSpan" id="kobo.311.1">different environments.</span></span></li>
<li><span class="koboSpan" id="kobo.312.1">Establish a change management process for modifying configuration settings. </span><span class="koboSpan" id="kobo.312.2">Implement approval workflows to ensure that changes are reviewed and approved by the appropriate stakeholders before being applied to production environments. </span><span class="koboSpan" id="kobo.312.3">This helps maintain control and prevent unauthorized or </span><span class="No-Break"><span class="koboSpan" id="kobo.313.1">unplanned changes.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.314.1">Optimize your build process to reduce build times, as long as it can slow the development cycle and increase developer waiting times. </span><span class="koboSpan" id="kobo.314.2">Use techniques such as caching, parallelization, and incremental builds to speed up the process. </span><span class="koboSpan" id="kobo.314.3">In the next section, we’ll dive into remote and dependency caching for mobile </span><a id="_idTextAnchor356"/><span class="koboSpan" id="kobo.315.1">apps and explore </span><span class="No-Break"><span class="koboSpan" id="kobo.316.1">the benefits.</span></span></p>
<h1 id="_idParaDest-184"><a id="_idTextAnchor357"/><span class="koboSpan" id="kobo.317.1">Remote and dependency caching</span></h1>
<p><span class="koboSpan" id="kobo.318.1">Building and releasing mobile apps often involves downloading dependencies and assets to the CI servers or the local machines to be able to build the apps, which can be time-consuming and data-intensive. </span><span class="koboSpan" id="kobo.318.2">However, with the advent of remote and dependency caching solutions, developers now have a powerful tool to enhance </span><span class="No-Break"><span class="koboSpan" id="kobo.319.1">their productivity.</span></span></p>
<p><span class="koboSpan" id="kobo.320.1">Remote and dependency </span><a id="_idIndexMarker1215"/><span class="koboSpan" id="kobo.321.1">caching for mobile apps refers to </span><em class="italic"><span class="koboSpan" id="kobo.322.1">storing and retrieving frequently used dependencies and assets from a remote server</span></em><span class="koboSpan" id="kobo.323.1">. </span><span class="koboSpan" id="kobo.323.2">Instead</span><a id="_idIndexMarker1216"/><span class="koboSpan" id="kobo.324.1"> of downloading these resources every time an app is built, developers can leverage caching to significantly reduce the time and bandwidth required for the build process. </span><span class="koboSpan" id="kobo.324.2">This optimization technique can significantly streamline app development workflows, resulting in faster build times, improved iteration cycles, and reduced </span><span class="No-Break"><span class="koboSpan" id="kobo.325.1">data consumption.</span></span></p>
<p><span class="koboSpan" id="kobo.326.1">Here are some benefits of remote and </span><span class="No-Break"><span class="koboSpan" id="kobo.327.1">dependency caching:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.328.1">It eliminates the need to download the same resources repeatedly, enabling developers to save valuable time during the build process. </span><span class="koboSpan" id="kobo.328.2">This acceleration can be particularly noticeable </span><a id="_idIndexMarker1217"/><span class="koboSpan" id="kobo.329.1">when working on large-scale projects with </span><span class="No-Break"><span class="koboSpan" id="kobo.330.1">numerous dependencies.</span></span></li>
<li><span class="koboSpan" id="kobo.331.1">Caching facilitates </span><a id="_idIndexMarker1218"/><span class="koboSpan" id="kobo.332.1">collaboration among team members by ensuring that everyone has access to the same set of dependencies and assets. </span><span class="koboSpan" id="kobo.332.2">This helps avoid versioning conflicts and ensures consistent development environments across </span><span class="No-Break"><span class="koboSpan" id="kobo.333.1">the team.</span></span></li>
<li><span class="koboSpan" id="kobo.334.1">Developers can rapidly iterate on their apps without waiting for resource downloads, enabling quicker testing and </span><span class="No-Break"><span class="koboSpan" id="kobo.335.1">debugging cycles.</span></span></li>
<li><span class="koboSpan" id="kobo.336.1">Some caching solutions provide offline support, allowing developers to continue working on their projects even when an internet connection is unavailable. </span><span class="koboSpan" id="kobo.336.2">This feature is particularly useful for developers on the go or in areas with </span><span class="No-Break"><span class="koboSpan" id="kobo.337.1">intermittent connectivity.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.338.1">But depending on the caching solution chosen, developers may need to monitor and manage the cache to prevent it from growing too large or becoming cluttered with outdated resources. </span><span class="koboSpan" id="kobo.338.2">Efficient cache management strategies are crucial to maintain </span><span class="No-Break"><span class="koboSpan" id="kobo.339.1">optimal performance.</span></span></p>
<p><span class="koboSpan" id="kobo.340.1">When it comes to remote and dependency caching for mobile apps, several tools and platforms offer similar </span><a id="_idIndexMarker1219"/><span class="koboSpan" id="kobo.341.1">functionality, including </span><span class="No-Break"><span class="koboSpan" id="kobo.342.1">the following:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.343.1">Gradle's build cache</span></strong><span class="koboSpan" id="kobo.344.1"> (</span><a href="https://docs.gradle.org/current/userguide/build_cache.html"><span class="koboSpan" id="kobo.345.1">https://docs.gradle.org/current/userguide/build_cache.html</span></a><span class="koboSpan" id="kobo.346.1">): Gradle</span><a id="_idIndexMarker1220"/><span class="koboSpan" id="kobo.347.1"> is a popular build automation system that provides a build cache feature that can be leveraged to cache dependencies and resources. </span><span class="koboSpan" id="kobo.347.2">It integrates seamlessly with Gradle-based Android projects and is well suited to </span><span class="No-Break"><span class="koboSpan" id="kobo.348.1">large-scale builds.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.349.1">npm's cache</span></strong><span class="koboSpan" id="kobo.350.1"> (</span><a href="https://docs.npmjs.com/cli/v8/commands/npm-cache"><span class="koboSpan" id="kobo.351.1">https://docs.npmjs.com/cli/v8/commands/npm-cache</span></a><span class="koboSpan" id="kobo.352.1">): For JavaScript-based mobile apps such as</span><a id="_idIndexMarker1221"/><span class="koboSpan" id="kobo.353.1"> React Native, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.354.1">npm</span></strong><span class="koboSpan" id="kobo.355.1"> package manager includes a caching mechanism that allows for efficient dependency resolution and retrieval. </span><span class="koboSpan" id="kobo.355.2">npm’s cache </span><a id="_idIndexMarker1222"/><span class="koboSpan" id="kobo.356.1">significantly reduces the time required to fetch and install frequently </span><span class="No-Break"><span class="koboSpan" id="kobo.357.1">used packages.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.358.1">Bazel</span></strong><span class="koboSpan" id="kobo.359.1"> (</span><a href="https://bazel.build/"><span class="koboSpan" id="kobo.360.1">https://bazel.build/</span></a><span class="koboSpan" id="kobo.361.1">): Bazel is an open</span><a id="_idIndexMarker1223"/><span class="koboSpan" id="kobo.362.1"> source build automation tool developed by Google. </span><span class="koboSpan" id="kobo.362.2">It is designed to provide fast, reproducible, and scalable </span><a id="_idIndexMarker1224"/><span class="koboSpan" id="kobo.363.1">builds across various programming languages and platforms. </span><strong class="source-inline"><span class="koboSpan" id="kobo.364.1">Bazel.build</span></strong><span class="koboSpan" id="kobo.365.1"> utilizes a </span><a id="_idIndexMarker1225"/><span class="koboSpan" id="kobo.366.1">sophisticated dependency graph and caching mechanism to intelligently determine what needs to be rebuilt, significantly reducing build times and improving developer productivity. </span><span class="koboSpan" id="kobo.366.2">You can read examples of how Reddit uses Bazel with the iOS app (</span><a href="https://www.reddit.com/r/RedditEng/comments/syz5dw/ios_and_bazel_at_reddit_a_journey/"><span class="koboSpan" id="kobo.367.1">https://www.reddit.com/r/RedditEng/comments/syz5dw/ios_and_bazel_at_reddit_a_journey/</span></a><span class="koboSpan" id="kobo.368.1">) and how Square uses Bazel with Apple </span><span class="No-Break"><span class="koboSpan" id="kobo.369.1">Silicon (</span></span><a href="https://developer.squareup.com/blog/getting-squares-ios-build-ready-for-apple-silicon-with-bazel/"><span class="No-Break"><span class="koboSpan" id="kobo.370.1">https://developer.squareup.com/blog/getting-squares-ios-build-ready-for-apple-silicon-with-bazel/</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.371.1">).</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.372.1">Tuist</span></strong><span class="koboSpan" id="kobo.373.1"> (</span><a href="https://tuist.io/"><span class="koboSpan" id="kobo.374.1">https://tuist.io/</span></a><span class="koboSpan" id="kobo.375.1">): Tuist is a</span><a id="_idIndexMarker1226"/><span class="koboSpan" id="kobo.376.1"> command-line tool that simplifies the process </span><a id="_idIndexMarker1227"/><span class="koboSpan" id="kobo.377.1">of setting up and maintaining iOS projects using a declarative approach. </span><span class="koboSpan" id="kobo.377.2">Tuist caching (</span><a href="https://docs.tuist.io/building-at-scale/caching"><span class="koboSpan" id="kobo.378.1">https://docs.tuist.io/building-at-scale/caching</span></a><span class="koboSpan" id="kobo.379.1">) optimizes build times by storing and reusing previously built dependencies, assets, and intermediate build artifacts. </span><span class="koboSpan" id="kobo.379.2">This caching mechanism can greatly reduce the time required to build and iterate on </span><span class="No-Break"><span class="koboSpan" id="kobo.380.1">iOS projects.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.381.1">BuildBuddy </span></strong><span class="koboSpan" id="kobo.382.1">(</span><a href="https://www.buildbuddy.io/"><span class="koboSpan" id="kobo.383.1">https://www.buildbuddy.io/</span></a><span class="koboSpan" id="kobo.384.1">): BuildBuddy is a </span><a id="_idIndexMarker1228"/><span class="koboSpan" id="kobo.385.1">cloud-based build execution platform that helps developers offload and distribute their builds to remote machines. </span><span class="koboSpan" id="kobo.385.2">It offers a user-friendly interface, extensive build insights, and collaboration features to streamline the development workflow. </span><span class="koboSpan" id="kobo.385.3">By utilizing BuildBuddy, teams</span><a id="_idIndexMarker1229"/><span class="koboSpan" id="kobo.386.1"> can reduce build times, save infrastructure costs, and enhance developer efficiency. </span><span class="koboSpan" id="kobo.386.2">Here is an example of how to use Remote Build Execution with GitHub </span><span class="No-Break"><span class="koboSpan" id="kobo.387.1">Actions: </span></span><a href="https://www.buildbuddy.io/docs/rbe-github-actions"><span class="No-Break"><span class="koboSpan" id="kobo.388.1">https://www.buildbuddy.io/docs/rbe-github-actions</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.389.1">.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.390.1">XCRemoteCache</span></strong><span class="koboSpan" id="kobo.391.1"> (</span><a href="https://github.com/spotify/XCRemoteCache"><span class="koboSpan" id="kobo.392.1">https://github.com/spotify/XCRemoteCache</span></a><span class="koboSpan" id="kobo.393.1">): XCRemoteCache is a remote</span><a id="_idIndexMarker1230"/><span class="koboSpan" id="kobo.394.1"> cache tool for Xcode projects. </span><span class="koboSpan" id="kobo.394.2">It reuses</span><a id="_idIndexMarker1231"/><span class="koboSpan" id="kobo.395.1"> target artifacts generated on a remote machine, served from a simple </span><span class="No-Break"><span class="koboSpan" id="kobo.396.1">REST server.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.397.1">Carthage cache</span></strong><span class="koboSpan" id="kobo.398.1">: Carthage, a</span><a id="_idIndexMarker1232"/><span class="koboSpan" id="kobo.399.1"> dependency manager for iOS apps, offers a caching feature to speed up dependency retrieval and build times. </span><span class="koboSpan" id="kobo.399.2">It provides compatibility with Xcode</span><a id="_idIndexMarker1233"/><span class="koboSpan" id="kobo.400.1"> and simplifies sharing dependencies across team members. </span><span class="koboSpan" id="kobo.400.2">Additionally, you can use Rome (</span><a href="https://github.com/tmspzz/Rome"><span class="koboSpan" id="kobo.401.1">https://github.com/tmspzz/Rome</span></a><span class="koboSpan" id="kobo.402.1">), the shared cache for frameworks built with Carthage that allows developers on Apple platforms to use Amazon’s S3, a local folder, or your own </span><span class="No-Break"><span class="koboSpan" id="kobo.403.1">custom engine.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.404.1">You can also use the Cocoapods cache (</span><a href="https://cocoapods.org/pods/Cache"><span class="koboSpan" id="kobo.405.1">https://cocoapods.org/pods/Cache</span></a><span class="koboSpan" id="kobo.406.1">) or the </span><strong class="bold"><span class="koboSpan" id="kobo.407.1">Swift Package Manager</span></strong><span class="koboSpan" id="kobo.408.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.409.1">SPM</span></strong><span class="koboSpan" id="kobo.410.1">) (</span><a href="https://github.com/apple/swift-package-manager"><span class="koboSpan" id="kobo.411.1">https://github.com/apple/swift-package-manager</span></a><span class="koboSpan" id="kobo.412.1">) cache if you are</span><a id="_idIndexMarker1234"/><span class="koboSpan" id="kobo.413.1"> using it in your </span><span class="No-Break"><span class="koboSpan" id="kobo.414.1">iOS apps.</span></span></p>
<p><span class="koboSpan" id="kobo.415.1">Remote and dependency caching for mobile apps is a game-changer in mobile app development and mobile DevOps, offering tangible benefits in terms of time savings, bandwidth conservation, collaboration, and </span><span class="No-Break"><span class="koboSpan" id="kobo.416.1">iteration efficiency.</span></span></p>
<p><span class="koboSpan" id="kobo.417.1">Mobile CI/CD systems use caching to transfer data between isolated builds. </span><span class="koboSpan" id="kobo.417.2">As CI builds run in ephemeral, isolated virtual machines, a typical CI workflow must take extra steps to bootstrap the local environment ordinarily available to </span><span class="No-Break"><span class="koboSpan" id="kobo.418.1">the developer.</span></span></p>
<p><span class="koboSpan" id="kobo.419.1">Caching these operations will make your CI workflows faster since installing CLI tools and downloading third-party dependencies take time, as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.420.1">following figure:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer268">
<span class="koboSpan" id="kobo.421.1"><img alt="Figure 9.3 – Caching between the CI builds machines" src="image/Figure_09.3_B18113.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.422.1">Figure 9.3 – Caching between the CI builds machines</span></p>
<p><span class="koboSpan" id="kobo.423.1">While there may be some initial setup complexities and considerations around cache management, the overall </span><a id="_idIndexMarker1235"/><span class="koboSpan" id="kobo.424.1">advantages make caching a valuable addition to any </span><span class="No-Break"><span class="koboSpan" id="kobo.425.1">developer’s toolkit.</span></span></p>
<p><span class="koboSpan" id="kobo.426.1">Here’s an example of how you can use GitHub Actions to set up a simple Gradle cache pipeline for an Android app build to speed up </span><span class="No-Break"><span class="koboSpan" id="kobo.427.1">build times:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.428.1">Inside the </span><strong class="source-inline"><span class="koboSpan" id="kobo.429.1">.github/workflows</span></strong><span class="koboSpan" id="kobo.430.1"> directory, create a YAML file – for </span><span class="No-Break"><span class="koboSpan" id="kobo.431.1">example, </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.432.1">android_build.yml</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.433.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.434.1">Add the following </span><strong class="source-inline"><span class="koboSpan" id="kobo.435.1">android_build.yml</span></strong><span class="koboSpan" id="kobo.436.1"> file: </span><a href="https://github.com/PacktPublishing/Mobile-DevOps-Playbook/blob/main/Chapter-9/.github/android_build.yml"><span class="koboSpan" id="kobo.437.1">https://github.com/PacktPublishing/Mobile-DevOps-Playbook/blob/main/Chapter-9/.github/android_build.yml</span></a><span class="koboSpan" id="kobo.438.1">. </span><span class="koboSpan" id="kobo.438.2">The workflow caches the Gradle dependencies based on the contents of your </span><span class="No-Break"><span class="koboSpan" id="kobo.439.1">Gradle files.</span></span></li>
<li><span class="koboSpan" id="kobo.440.1">Depending on your app’s complexity and needs, you might want to add more steps, such as running tests, deploying artifacts, or integrating with </span><span class="No-Break"><span class="koboSpan" id="kobo.441.1">other services.</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.442.1">Let’s look at an example of how to use caching in the CI/CD workflow </span><span class="No-Break"><span class="koboSpan" id="kobo.443.1">on Bitrise.</span></span></p>
<p><span class="koboSpan" id="kobo.444.1">Bitrise offers</span><a id="_idIndexMarker1236"/><span class="koboSpan" id="kobo.445.1"> features known as </span><strong class="bold"><span class="koboSpan" id="kobo.446.1">Cache Pull Step</span></strong><span class="koboSpan" id="kobo.447.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.448.1">Cache Push Step</span></strong><span class="koboSpan" id="kobo.449.1">, which enable you to cache and retrieve </span><a id="_idIndexMarker1237"/><span class="koboSpan" id="kobo.450.1">particular directories or files between builds, based on the app dependencies in </span><span class="No-Break"><span class="koboSpan" id="kobo.451.1">your apps.</span></span></p>
<p><span class="koboSpan" id="kobo.452.1">To set up caching for your iOS project, you need to add these steps to your Bitrise </span><span class="No-Break"><span class="koboSpan" id="kobo.453.1">workflow: </span></span><a href="https://github.com/PacktPublishing/Mobile-DevOps-Playbook/blob/main/Chapter-9/bitrise.yml"><span class="No-Break"><span class="koboSpan" id="kobo.454.1">https://github.com/PacktPublishing/Mobile-DevOps-Playbook/blob/main/Chapter-9/bitrise.yml</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.455.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.456.1">You can learn more about Bitrise dependencies and caching at the following </span><span class="No-Break"><span class="koboSpan" id="kobo.457.1">link: </span></span><a href="https://devcenter.bitrise.io/en/dependencies-and-caching.html"><span class="No-Break"><span class="koboSpan" id="kobo.458.1">https://devcenter.bitrise.io/en/dependencies-and-caching.html</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.459.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.460.1">Finally, by comparing and selecting the most suitable caching solution based on your project’s requirements, you</span><a id="_idIndexMarker1238"/><span class="koboSpan" id="kobo.461.1"> can optimize your app development process and unlock </span><span class="No-Break"><span class="koboSpan" id="kobo.462.1">greater productivity.</span></span></p>
<p><span class="koboSpan" id="kobo.463.1">It is important to always search for the appropriate cachi</span><a id="_idTextAnchor358"/><span class="koboSpan" id="kobo.464.1">ng solution for both your mobile app and </span><span class="No-Break"><span class="koboSpan" id="kobo.465.1">CI provider.</span></span></p>
<h1 id="_idParaDest-185"><a id="_idTextAnchor359"/><span class="koboSpan" id="kobo.466.1">Execution of CI builds and tests in parallel</span></h1>
<p><span class="koboSpan" id="kobo.467.1">Leveraging parallel execution for CI builds and tests in mobile app development can significantly enhance</span><a id="_idIndexMarker1239"/><span class="koboSpan" id="kobo.468.1"> developer productivity, shorten feedback loops, and improve overall efficiency. </span><span class="koboSpan" id="kobo.468.2">Consider the capabilities of tools such as Fastlane, Firebase Test Lab, and CI tools to achieve optimal parallelization and accelerate your mobile app </span><span class="No-Break"><span class="koboSpan" id="kobo.469.1">development process.</span></span></p>
<p><span class="koboSpan" id="kobo.470.1">Some of the benefits of parallel execution for mobile app CI builds are </span><span class="No-Break"><span class="koboSpan" id="kobo.471.1">as follows:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.472.1">Faster feedback</span></strong><span class="koboSpan" id="kobo.473.1">: Parallel execution reduces the time required to build steps and test suites, providing </span><a id="_idIndexMarker1240"/><span class="koboSpan" id="kobo.474.1">quicker feedback on code changes. </span><span class="koboSpan" id="kobo.474.2">This enables developers to iterate faster and catch issues early in the </span><span class="No-Break"><span class="koboSpan" id="kobo.475.1">development cycle.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.476.1">Improved efficiency</span></strong><span class="koboSpan" id="kobo.477.1">: By utilizing parallel execution, you can fully utilize available resources and distribute the workload across multiple agents or devices. </span><span class="koboSpan" id="kobo.477.2">This improves resource efficiency and maximizes the utilization of your </span><span class="No-Break"><span class="koboSpan" id="kobo.478.1">CI infrastructure.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.479.1">Scalability</span></strong><span class="koboSpan" id="kobo.480.1">: Parallel execution allows your CI pipeline to scale seamlessly as your mobile app project grows. </span><span class="koboSpan" id="kobo.480.2">It enables you to handle larger code bases, increased test suites, and support for multiple platforms and configurations without sacrificing speed </span><span class="No-Break"><span class="koboSpan" id="kobo.481.1">or performance.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.482.1">Time and cost savings</span></strong><span class="koboSpan" id="kobo.483.1">: By reducing build and test times through parallel execution, you save valuable developer time and potentially reduce costs associated with maintaining </span><span class="No-Break"><span class="koboSpan" id="kobo.484.1">CI infrastructure.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.485.1">Most of the CI/CD tools support parallel builds or splitting the CI pipeline or workflow into small patches or tasks to run in parallel to save the build time. </span><span class="koboSpan" id="kobo.485.2">For example, with GitHub Actions, you can use Matrix (</span><a href="https://docs.github.com/en/actions/using-jobs/using-a-matrix-for-your-jobs"><span class="koboSpan" id="kobo.486.1">https://docs.github.com/en/actions/using-jobs/using-a-matrix-for-your-jobs</span></a><span class="koboSpan" id="kobo.487.1">) to test your code in multiple versions of a language or on multiple </span><span class="No-Break"><span class="koboSpan" id="kobo.488.1">operating systems.</span></span></p>
<p><span class="koboSpan" id="kobo.489.1">With Bitrise, you can</span><a id="_idIndexMarker1241"/><span class="koboSpan" id="kobo.490.1"> use Build Pipelines (</span><a href="https://bitrise.io/why/features/pipeline"><span class="koboSpan" id="kobo.491.1">https://bitrise.io/why/features/pipeline</span></a><span class="koboSpan" id="kobo.492.1">), which helps you organize your entire mobile CI/CD build process and allows you to set up advanced configurations with multiple tasks and tests running in parallel </span><span class="No-Break"><span class="koboSpan" id="kobo.493.1">and/or sequentially.</span></span></p>
<p><span class="koboSpan" id="kobo.494.1">In parallel execution, multiple UI tests are executed simultaneously on different devices or simulators, as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.495.1">following figure:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer269">
<span class="koboSpan" id="kobo.496.1"><img alt="Figure 9.4 – Parallel ﻿UI tests execution" src="image/Figure_09.4_B18113.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.497.1">Figure 9.4 – Parallel UI tests execution</span></p>
<p><span class="koboSpan" id="kobo.498.1">Parallel execution </span><a id="_idIndexMarker1242"/><span class="koboSpan" id="kobo.499.1">for mobile app UI testing helps improve the speed and quality of your testing process, leading to more reliable and robust </span><span class="No-Break"><span class="koboSpan" id="kobo.500.1">mobile applications.</span></span></p>
<p><span class="koboSpan" id="kobo.501.1">Here are some benefits of parallel </span><a id="_idIndexMarker1243"/><span class="koboSpan" id="kobo.502.1">execution for mobile app </span><span class="No-Break"><span class="koboSpan" id="kobo.503.1">UI testing:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.504.1">By running UI tests in parallel, you can significantly reduce the overall execution time. </span><span class="koboSpan" id="kobo.504.2">Instead of executing tests sequentially, parallel execution allows multiple tests concurrently on different devices or simulators. </span><span class="koboSpan" id="kobo.504.3">This helps save time and improves the efficiency of your </span><span class="No-Break"><span class="koboSpan" id="kobo.505.1">testing process.</span></span></li>
<li><span class="koboSpan" id="kobo.506.1">With parallel execution, you can execute tests on multiple devices or simulators simultaneously. </span><span class="koboSpan" id="kobo.506.2">This allows you to cover a broader range of device configurations, operating </span><a id="_idIndexMarker1244"/><span class="koboSpan" id="kobo.507.1">systems, and screen sizes in less time. </span><span class="koboSpan" id="kobo.507.2">It helps ensure your app is tested on various devices and increases the likelihood of catching </span><span class="No-Break"><span class="koboSpan" id="kobo.508.1">device-specific issues.</span></span></li>
<li><span class="koboSpan" id="kobo.509.1">Parallel execution provides scalability for your UI testing process. </span><span class="koboSpan" id="kobo.509.2">As your test suite grows, executing tests in parallel allows you to handle more tests without significantly increasing execution time. </span><span class="koboSpan" id="kobo.509.3">You can easily add more devices or simulators to your testing infrastructure and distribute the test workload </span><span class="No-Break"><span class="koboSpan" id="kobo.510.1">across them.</span></span></li>
<li><span class="koboSpan" id="kobo.511.1">Parallel execution makes efficient use of available resources. </span><span class="koboSpan" id="kobo.511.2">By utilizing multiple devices or simulators concurrently, you can maximize the utilization of your testing infrastructure. </span><span class="koboSpan" id="kobo.511.3">This helps optimize resource allocation and ensures tests are executed without unnecessary </span><span class="No-Break"><span class="koboSpan" id="kobo.512.1">wait times.</span></span></li>
<li><span class="koboSpan" id="kobo.513.1">Parallel execution is well suited for integration into CI/CD pipelines. </span><span class="koboSpan" id="kobo.513.2">You can achieve faster feedback cycles and builds by executing tests in parallel. </span><span class="koboSpan" id="kobo.513.3">It allows you to integrate UI testing seamlessly into your CI/CD workflows and ensure that your app remains stable and functional with each </span><span class="No-Break"><span class="koboSpan" id="kobo.514.1">code change.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.515.1">It is possible to run parallel Android and iOS </span><a id="_idIndexMarker1245"/><span class="koboSpan" id="kobo.516.1">tests using Flank (</span><a href="https://flank.github.io/flank/"><span class="koboSpan" id="kobo.517.1">https://flank.github.io/flank/</span></a><span class="koboSpan" id="kobo.518.1">), which is compatible with the gcloud CLI. </span><span class="koboSpan" id="kobo.518.2">Flank provides extra features to accelerate velocity and </span><span class="No-Break"><span class="koboSpan" id="kobo.519.1">increase quality.</span></span></p>
<p><span class="koboSpan" id="kobo.520.1">One useful practice for mobile</span><a id="_idIndexMarker1246"/><span class="koboSpan" id="kobo.521.1"> teams to safely release features quickly is to implement feature f</span><a id="_idTextAnchor360"/><span class="koboSpan" id="kobo.522.1">lags. </span><span class="koboSpan" id="kobo.522.2">Let’s discuss this concept and how it can </span><span class="No-Break"><span class="koboSpan" id="kobo.523.1">be utilized.</span></span></p>
<h1 id="_idParaDest-186"><a id="_idTextAnchor361"/><span class="koboSpan" id="kobo.524.1">A/B testing and feature flags</span></h1>
<p><span class="koboSpan" id="kobo.525.1">A/B testing and feature flags are powerful techniques used in mobile app development to experiment, validate, and roll out new features or variations to a subset of users. </span><span class="koboSpan" id="kobo.525.2">Let’s delve into how A/B testing and feature flags can benefit mobile apps and the tools available for </span><span class="No-Break"><span class="koboSpan" id="kobo.526.1">implementing them.</span></span></p>
<h2 id="_idParaDest-187"><a id="_idTextAnchor362"/><span class="koboSpan" id="kobo.527.1">A/B testing for mobile apps</span></h2>
<p><span class="koboSpan" id="kobo.528.1">A/B testing involves presenting</span><a id="_idIndexMarker1247"/><span class="koboSpan" id="kobo.529.1"> different versions of an app or specific </span><a id="_idIndexMarker1248"/><span class="koboSpan" id="kobo.530.1">features to different user groups to evaluate their impact on user</span><a id="_idIndexMarker1249"/><span class="koboSpan" id="kobo.531.1"> experience, engagement, or </span><strong class="bold"><span class="koboSpan" id="kobo.532.1">key performance </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.533.1">indicators</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.534.1"> (</span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.535.1">KPIs</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.536.1">).</span></span></p>
<p><span class="koboSpan" id="kobo.537.1">Here’s how </span><span class="No-Break"><span class="koboSpan" id="kobo.538.1">it works:</span></span></p>
<ol>
<li><strong class="bold"><span class="koboSpan" id="kobo.539.1">Experimentation</span></strong><span class="koboSpan" id="kobo.540.1">: A/B testing tools enable developers to define experiments, create alternative variations (A and B), and assign users randomly to each variation. </span><span class="koboSpan" id="kobo.540.2">For example, you might test different app layouts, navigation structures, or </span><span class="No-Break"><span class="koboSpan" id="kobo.541.1">button placements.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.542.1">Measurement</span></strong><span class="koboSpan" id="kobo.543.1">: Metrics and</span><a id="_idIndexMarker1250"/><span class="koboSpan" id="kobo.544.1"> analytics are essential for evaluating the </span><a id="_idIndexMarker1251"/><span class="koboSpan" id="kobo.545.1">success of A/B tests. </span><span class="koboSpan" id="kobo.545.2">By monitoring user interactions, conversions, or other relevant KPIs, you can assess which variation performs better and drives the desired </span><span class="No-Break"><span class="koboSpan" id="kobo.546.1">user behavior.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.547.1">Analysis and iteration</span></strong><span class="koboSpan" id="kobo.548.1">: Analyzing the test results helps you make data-driven decisions. </span><span class="koboSpan" id="kobo.548.2">You can refine and iterate on the tested features or versions based on the insights gained to improve the app’s performance and user experience, as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.549.1">following figure:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer270">
<span class="koboSpan" id="kobo.550.1"><img alt="Figure 9.5 – How A/B testing works" src="image/Figure_09.5_B18113.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.551.1">Figure 9.5 – How A/B testing works</span></p>
<h2 id="_idParaDest-188"><a id="_idTextAnchor363"/><span class="koboSpan" id="kobo.552.1">Feature flags for mobile apps</span></h2>
<p><span class="koboSpan" id="kobo.553.1">Feature flags, or toggles, enable developers to control the visibility and behavior of specific features or </span><a id="_idIndexMarker1252"/><span class="koboSpan" id="kobo.554.1">code sections within an app. </span><span class="koboSpan" id="kobo.554.2">Feature flags provide </span><a id="_idIndexMarker1253"/><span class="koboSpan" id="kobo.555.1">flexibility, allowing developers to roll out new features gradually, test them in production, or enable/disable </span><span class="No-Break"><span class="koboSpan" id="kobo.556.1">them dynamically.</span></span></p>
<p><span class="koboSpan" id="kobo.557.1">Here’s how feature </span><span class="No-Break"><span class="koboSpan" id="kobo.558.1">flags work:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.559.1">Feature flag libraries or SDKs are integrated into the app’s code base to enable runtime control over feature availability. </span><span class="koboSpan" id="kobo.559.2">Flags can be configured to turn features on or off based on predefined conditions, such as user segments, device types, or </span><span class="No-Break"><span class="koboSpan" id="kobo.560.1">app versions.</span></span></li>
<li><span class="koboSpan" id="kobo.561.1">Feature flags enable developers to conduct targeted tests by selecting features for </span><a id="_idIndexMarker1254"/><span class="koboSpan" id="kobo.562.1">specific user groups. </span><span class="koboSpan" id="kobo.562.2">This helps assess feature performance, gather feedback, and make data-driven decisions before releasing the features to a broader audience, as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.563.1">following figure:</span></span></li>
</ul>
<div>
<div class="IMG---Figure" id="_idContainer271">
<span class="koboSpan" id="kobo.564.1"><img alt="Figure 9.6 – How feature flags work" src="image/Figure_09.6_B18113.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.565.1">Figure 9.6 – How feature flags work</span></p>
<p><span class="koboSpan" id="kobo.566.1">Here are some of the most popular tools for flagging features in </span><span class="No-Break"><span class="koboSpan" id="kobo.567.1">mobile apps:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.568.1">LaunchDarkly</span></strong><span class="koboSpan" id="kobo.569.1"> (</span><a href="https://launchdarkly.com"><span class="koboSpan" id="kobo.570.1">https://launchdarkly.com</span></a><span class="koboSpan" id="kobo.571.1">) is a feature management platform that provides</span><a id="_idIndexMarker1255"/><span class="koboSpan" id="kobo.572.1"> robust feature flagging capabilities. </span><span class="koboSpan" id="kobo.572.2">It allows you to </span><a id="_idIndexMarker1256"/><span class="koboSpan" id="kobo.573.1">control feature availability, target specific user segments, and easily manage flags through a </span><span class="No-Break"><span class="koboSpan" id="kobo.574.1">web-based dashboard.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.575.1">ConfigCat</span></strong><span class="koboSpan" id="kobo.576.1"> (</span><a href="https://configcat.com/"><span class="koboSpan" id="kobo.577.1">https://configcat.com/</span></a><span class="koboSpan" id="kobo.578.1">) offers a feature flag and configuration management platform that supports</span><a id="_idIndexMarker1257"/><span class="koboSpan" id="kobo.579.1"> mobile app development. </span><span class="koboSpan" id="kobo.579.2">It allows you to create feature flags, control their visibility, and dynamically update configurations without requiring </span><span class="No-Break"><span class="koboSpan" id="kobo.580.1">app updates.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.581.1">Flagsmith</span></strong><span class="koboSpan" id="kobo.582.1"> (</span><a href="https://flagsmith.com/"><span class="koboSpan" id="kobo.583.1">https://flagsmith.com/</span></a><span class="koboSpan" id="kobo.584.1">) is an open source feature flagging and remote configuration platform. </span><span class="koboSpan" id="kobo.584.2">It provides</span><a id="_idIndexMarker1258"/><span class="koboSpan" id="kobo.585.1"> a range of features, including A/B testing, targeting rules, and integration with various development frameworks for mobile </span><span class="No-Break"><span class="koboSpan" id="kobo.586.1">app implementation.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.587.1">Firebase Remote Config</span></strong><span class="koboSpan" id="kobo.588.1"> (</span><a href="https://firebase.google.com/products/remote-config"><span class="koboSpan" id="kobo.589.1">https://firebase.google.com/products/remote-config</span></a><span class="koboSpan" id="kobo.590.1">) is a cloud-based service that </span><a id="_idIndexMarker1259"/><span class="koboSpan" id="kobo.591.1">allows developers to dynamically configure and customize their applications without requiring a new release or an app update. </span><span class="koboSpan" id="kobo.591.2">It enables developers to remotely control and personalize various aspects of their app, such as text, images, colors, and </span><a id="_idIndexMarker1260"/><span class="koboSpan" id="kobo.592.1">behavior, allowing for targeted content</span><a id="_idIndexMarker1261"/><span class="koboSpan" id="kobo.593.1"> delivery and </span><span class="No-Break"><span class="koboSpan" id="kobo.594.1">A/B testing.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.595.1">Optimizely</span></strong><span class="koboSpan" id="kobo.596.1"> (</span><a href="https://www.optimizely.com"><span class="koboSpan" id="kobo.597.1">https://www.optimizely.com</span></a><span class="koboSpan" id="kobo.598.1">) is a</span><a id="_idIndexMarker1262"/><span class="koboSpan" id="kobo.599.1"> powerful experimentation and personalization platform that enables businesses to make data-driven decisions and enhance their </span><span class="No-Break"><span class="koboSpan" id="kobo.600.1">digital experiences.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.601.1">Some of the benefits of A/B testing and</span><a id="_idIndexMarker1263"/><span class="koboSpan" id="kobo.602.1"> feature flags for mobile apps are </span><span class="No-Break"><span class="koboSpan" id="kobo.603.1">as</span></span><span class="No-Break"><a id="_idIndexMarker1264"/></span><span class="No-Break"><span class="koboSpan" id="kobo.604.1"> follows:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.605.1">They help you make informed decisions based on real user data, improving the chances of successful feature launches </span><span class="No-Break"><span class="koboSpan" id="kobo.606.1">and updates.</span></span></li>
<li><span class="koboSpan" id="kobo.607.1">By gradually rolling out features or enabling them for specific user segments, you mitigate risks associated with bugs, performance issues, or negative user reactions. </span><span class="koboSpan" id="kobo.607.2">This ensures a smoother and safer </span><span class="No-Break"><span class="koboSpan" id="kobo.608.1">deployment process.</span></span></li>
<li><span class="koboSpan" id="kobo.609.1">They allow for quick iteration and refinement of features based on user feedback and measurable results. </span><span class="koboSpan" id="kobo.609.2">This iterative process enhances the development cycle and speeds up </span><span class="No-Break"><span class="koboSpan" id="kobo.610.1">feature delivery.</span></span></li>
<li><span class="koboSpan" id="kobo.611.1">Feature flags enable personalized experiences by tailoring app features to specific user groups or individual users. </span><span class="koboSpan" id="kobo.611.2">This customization enhances user satisfaction </span><span class="No-Break"><span class="koboSpan" id="kobo.612.1">and engagement.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.613.1">A/B testing and feature flags offer mobile app developers valuable techniques for experimentation, validation, and controlled rollouts. </span><span class="koboSpan" id="kobo.613.2">Consider using tools such as Firebase Remote Config, Optimizely, LaunchDarkly, ConfigCat, or Flagsmith to implement these strategies and unlock the benefits of data-driven decision-ma</span><a id="_idTextAnchor364"/><span class="koboSpan" id="kobo.614.1">king and flexible feature management in </span><a id="_idIndexMarker1265"/><span class="koboSpan" id="kobo.615.1">your mobile app </span><span class="No-Break"><span class="koboSpan" id="kobo.616.1">development process.</span></span></p>
<p><span class="koboSpan" id="kobo.617.1">Next, we will examine the </span><a id="_idIndexMarker1266"/><span class="koboSpan" id="kobo.618.1">use of mock APIs for mobile UI testing, which can save you time and effort by allowing you to test your app’s UI without setting up a real API or waiting for network responses. </span><span class="koboSpan" id="kobo.618.2">It can also help you test the app’s behavior in diffe</span><a id="_idTextAnchor365"/><span class="koboSpan" id="kobo.619.1">rent scenarios and conditions that may be difficult to set up with a </span><span class="No-Break"><span class="koboSpan" id="kobo.620.1">real API.</span></span></p>
<h1 id="_idParaDest-189"><a id="_idTextAnchor366"/><span class="koboSpan" id="kobo.621.1">Mock APIs</span></h1>
<p><strong class="bold"><span class="koboSpan" id="kobo.622.1">Mock APIs</span></strong><span class="koboSpan" id="kobo.623.1"> are vital in simplifying mobile app development by decoupling backend dependencies, speeding</span><a id="_idIndexMarker1267"/><span class="koboSpan" id="kobo.624.1"> up development cycles, and </span><span class="No-Break"><span class="koboSpan" id="kobo.625.1">enhancing testability.</span></span></p>
<p><span class="koboSpan" id="kobo.626.1">When selecting a mock API solution, consider its integration with your development workflow, customization options, documentation, and community support. </span><span class="koboSpan" id="kobo.626.2">By leveraging mock APIs, mobile app developers can streamline development, improve app quality, and iterate </span><span class="No-Break"><span class="koboSpan" id="kobo.627.1">more efficiently.</span></span></p>
<p><span class="koboSpan" id="kobo.628.1">A mock API for mobile UI testing is a simulated API that allows you to test the UI of your mobile app without having to connect to a real API. </span><span class="koboSpan" id="kobo.628.2">It can be helpful in a number of different situations, such as when the real API is not yet available, when you want to test the app’s behavior in different scenarios that may not be possible to set up with a real API, or when you want to test the app’s performance without being slowed down by </span><span class="No-Break"><span class="koboSpan" id="kobo.629.1">network latency.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer272">
<span class="koboSpan" id="kobo.630.1"><img alt="Figure 9.7 – How a mock server works" src="image/Figure_09.7_B18113.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.631.1">Figure 9.7 – How a mock server works</span></p>
<p><span class="koboSpan" id="kobo.632.1">You can create a mock API for mobile </span><a id="_idIndexMarker1268"/><span class="koboSpan" id="kobo.633.1">UI testing using several tools, such as </span><strong class="bold"><span class="koboSpan" id="kobo.634.1">WireMock</span></strong><span class="koboSpan" id="kobo.635.1"> (</span><a href="https://wiremock.org/"><span class="koboSpan" id="kobo.636.1">https://wiremock.org/</span></a><span class="koboSpan" id="kobo.637.1">), the open source tool that allows you to create a mock API by defining the HTTP requests and </span><a id="_idIndexMarker1269"/><span class="koboSpan" id="kobo.638.1">responses it should return. </span><span class="koboSpan" id="kobo.638.2">It can be run as a standalone server, or it can be used as a Java library in your </span><span class="No-Break"><span class="koboSpan" id="kobo.639.1">test code.</span></span></p>
<p><span class="koboSpan" id="kobo.640.1">Here’s an example of setting up a simple mock API endpoint that returns a JSON </span><span class="No-Break"><span class="koboSpan" id="kobo.641.1">response: </span></span><a href="https://github.com/PacktPublishing/Mobile-DevOps-Playbook/blob/main/Chapter-9/mockTest.kt"><span class="No-Break"><span class="koboSpan" id="kobo.642.1">https://github.com/PacktPublishing/Mobile-DevOps-Playbook/blob/main/Chapter-9/mockTest.kt</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.643.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.644.1">Here’s an example of how you can incorporate the WireMock server into your Android test </span><span class="No-Break"><span class="koboSpan" id="kobo.645.1">setup: </span></span><a href="https://github.com/PacktPublishing/Mobile-DevOps-Playbook/blob/main/Chapter-9/MyApiTest.kt"><span class="No-Break"><span class="koboSpan" id="kobo.646.1">https://github.com/PacktPublishing/Mobile-DevOps-Playbook/blob/main/Chapter-9/MyApiTest.kt</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.647.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.648.1">Run the Android tests. </span><span class="koboSpan" id="kobo.648.2">The requests made to the specified API endpoint on the local mock server (e.g., </span><strong class="source-inline"><span class="koboSpan" id="kobo.649.1">http://localhost:8080/api/endpoint</span></strong><span class="koboSpan" id="kobo.650.1"> or </span><strong class="source-inline"><span class="koboSpan" id="kobo.651.1">http://mock-server.com/api/endpoint</span></strong><span class="koboSpan" id="kobo.652.1">) will b</span><a id="_idTextAnchor367"/><span class="koboSpan" id="kobo.653.1">e intercepted by WireMock, which will respond with the configured </span><span class="No-Break"><span class="koboSpan" id="kobo.654.1">mock response.</span></span></p>
<h1 id="_idParaDest-190"><a id="_idTextAnchor368"/><span class="koboSpan" id="kobo.655.1">Building, testing, and releasing with fastlane</span></h1>
<p><strong class="bold"><span class="koboSpan" id="kobo.656.1">fastlane</span></strong><span class="koboSpan" id="kobo.657.1"> (</span><a href="https://fastlane.tools/"><span class="koboSpan" id="kobo.658.1">https://fastlane.tools/</span></a><span class="koboSpan" id="kobo.659.1">) is a powerful automation tool specifically designed to streamline the process of building, testing, and releasing mobile apps. </span><span class="koboSpan" id="kobo.659.2">It provides different features and</span><a id="_idIndexMarker1270"/><span class="koboSpan" id="kobo.660.1"> integrations to automate repetitive tasks, saving mobile developers valuable time </span><span class="No-Break"><span class="koboSpan" id="kobo.661.1">and effort.</span></span></p>
<p><span class="koboSpan" id="kobo.662.1">Let’s dive into the key aspects of using fastlane for building, testing, and releasing </span><span class="No-Break"><span class="koboSpan" id="kobo.663.1">mobile apps:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.664.1">fastlane simplifies the </span><a id="_idIndexMarker1271"/><span class="koboSpan" id="kobo.665.1">build configuration process. </span><span class="koboSpan" id="kobo.665.2">You can define your build settings, such as code signing, provisioning </span><a id="_idIndexMarker1272"/><span class="koboSpan" id="kobo.666.1">profiles, and build flavors, in a readable manner using fastlane’s configuration files (Fastfile) (</span><a href="https://docs.fastlane.tools/advanced/Fastfile/"><span class="koboSpan" id="kobo.667.1">https://docs.fastlane.tools/advanced/Fastfile/</span></a><span class="koboSpan" id="kobo.668.1">). </span><span class="koboSpan" id="kobo.668.2">This eliminates the need for manual configuration and reduces the chances </span><span class="No-Break"><span class="koboSpan" id="kobo.669.1">of errors.</span></span></li>
<li><span class="koboSpan" id="kobo.670.1">fastlane integrates with popular testing frameworks such as XCTest and Espresso, enabling you to run unit, UI, and other custom tests as part of your build process. </span><span class="koboSpan" id="kobo.670.2">It can also handle test reporting and generate comprehensive test </span><span class="No-Break"><span class="koboSpan" id="kobo.671.1">result reports.</span></span></li>
<li><span class="koboSpan" id="kobo.672.1">fastlane seamlessly integrates with popular CI/CD platforms such as GitHub Actions, Codemagic, and Bitrise. </span><span class="koboSpan" id="kobo.672.2">It provides dedicated plugins and integrations that facilitate the smooth incorporation of fastlane into your CI workflows. </span><span class="koboSpan" id="kobo.672.3">This ensures the consistent and automated building, testing, and releasing of your mobile apps as part of your </span><span class="No-Break"><span class="koboSpan" id="kobo.673.1">CI pipeline.</span></span></li>
<li><span class="koboSpan" id="kobo.674.1">fastlane simplifies releasing your app to app stores. </span><span class="koboSpan" id="kobo.674.2">With its App Store Connect and Google Play plugins, you can automate the entire release process, including versioning, code signing, metadata management, and uploading your app bundles </span><span class="No-Break"><span class="koboSpan" id="kobo.675.1">or APKs.</span></span></li>
<li><span class="koboSpan" id="kobo.676.1">fastlane’s extensibility allows you to extend its functionality by creating custom actions or utilizing numerous existing plugins. </span><span class="koboSpan" id="kobo.676.2">fastlane’s plugin ecosystem (</span><a href="https://docs.fastlane.tools/plugins/available-plugins/"><span class="koboSpan" id="kobo.677.1">https://docs.fastlane.tools/plugins/available-plugins/</span></a><span class="koboSpan" id="kobo.678.1">) provides a wide range of pre-built plugins that integrate with third-party services such as Slack, Firebase App Distribution, Sentry, BrowserStack, and more. </span><span class="koboSpan" id="kobo.678.2">These plugins enable you to incorporate additional functionality, such as crash reporting, beta testing, or analytics, into your </span><span class="No-Break"><span class="koboSpan" id="kobo.679.1">fastlane workflows.</span></span></li>
<li><span class="koboSpan" id="kobo.680.1">fastlane has a vibrant and active community that actively contributes to its development. </span><span class="koboSpan" id="kobo.680.2">Regular updates, new </span><a id="_idIndexMarker1273"/><span class="koboSpan" id="kobo.681.1">features, and bug fixes are released, ensuring you</span><a id="_idIndexMarker1274"/><span class="koboSpan" id="kobo.682.1"> have access to the latest improvements </span><span class="No-Break"><span class="koboSpan" id="kobo.683.1">and enhancements</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.684.1">Getting started with fastlane is relatively straightforward. </span><span class="koboSpan" id="kobo.684.2">Here’s a step-by-step guide to help get you up and</span><a id="_idIndexMarker1275"/><span class="koboSpan" id="kobo.685.1"> running </span><span class="No-Break"><span class="koboSpan" id="kobo.686.1">with fastlane:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.687.1">Ensure you have Ruby installed on your system. </span><span class="koboSpan" id="kobo.687.2">You can check this by running </span><strong class="source-inline"><span class="koboSpan" id="kobo.688.1">ruby -v</span></strong><span class="koboSpan" id="kobo.689.1"> in your Terminal. </span><span class="koboSpan" id="kobo.689.2">If</span><a id="_idIndexMarker1276"/><span class="koboSpan" id="kobo.690.1"> Ruby is not</span><a id="_idIndexMarker1277"/><span class="koboSpan" id="kobo.691.1"> installed, you can install it using a package manager such as </span><strong class="bold"><span class="koboSpan" id="kobo.692.1">Homebrew</span></strong><span class="koboSpan" id="kobo.693.1"> (for macOS) or </span><strong class="bold"><span class="koboSpan" id="kobo.694.1">Chocolatey</span></strong><span class="koboSpan" id="kobo.695.1"> (</span><span class="No-Break"><span class="koboSpan" id="kobo.696.1">for Windows).</span></span></li>
<li><span class="koboSpan" id="kobo.697.1">Install fastlane by running </span><strong class="source-inline"><span class="koboSpan" id="kobo.698.1">gem install fastlane</span></strong><span class="koboSpan" id="kobo.699.1"> in your Terminal. </span><span class="koboSpan" id="kobo.699.2">This command will fetch and install the latest version </span><span class="No-Break"><span class="koboSpan" id="kobo.700.1">of fastlane.</span></span></li>
<li><span class="koboSpan" id="kobo.701.1">Navigate to your mobile app project’s directory using </span><span class="No-Break"><span class="koboSpan" id="kobo.702.1">the Terminal.</span></span></li>
<li><span class="koboSpan" id="kobo.703.1">Run </span><strong class="source-inline"><span class="koboSpan" id="kobo.704.1">fastlane init</span></strong><span class="koboSpan" id="kobo.705.1"> in the project directory. </span><span class="koboSpan" id="kobo.705.2">This command initializes fastlane and creates a new fastlane folder with </span><span class="No-Break"><span class="koboSpan" id="kobo.706.1">configuration files.</span></span></li>
<li><span class="koboSpan" id="kobo.707.1">fastlane uses a Fastfile to define and manage automation tasks. </span><span class="koboSpan" id="kobo.707.2">Open the Fastfile located in the fastlane directory using a </span><span class="No-Break"><span class="koboSpan" id="kobo.708.1">text editor.</span></span></li>
<li><span class="koboSpan" id="kobo.709.1">fastlane provides a wide range of built-in actions that cover common tasks. </span><span class="koboSpan" id="kobo.709.2">For example, you can use the scan action to run tests, and the delivery action to upload your app to the </span><span class="No-Break"><span class="koboSpan" id="kobo.710.1">App Store.</span></span></li>
<li><span class="koboSpan" id="kobo.711.1">fastlane allows you to store sensitive information, such as code-signing certificates and API keys, securely. </span><span class="koboSpan" id="kobo.711.2">Create a new </span><strong class="source-inline"><span class="koboSpan" id="kobo.712.1">.env file</span></strong><span class="koboSpan" id="kobo.713.1"> in the fastlane directory and add the necessary environment variables for </span><span class="No-Break"><span class="koboSpan" id="kobo.714.1">your project.</span></span></li>
<li><span class="koboSpan" id="kobo.715.1">Update the </span><strong class="source-inline"><span class="koboSpan" id="kobo.716.1">Appfile</span></strong><span class="koboSpan" id="kobo.717.1"> located in the fastlane directory with relevant information, such as your app’s bundle identifier and Apple Developer </span><span class="No-Break"><span class="koboSpan" id="kobo.718.1">account details.</span></span></li>
<li><span class="koboSpan" id="kobo.719.1">To execute a specific lane, run</span><strong class="source-inline"><span class="koboSpan" id="kobo.720.1"> fastlane &lt;lane_name&gt;</span></strong><span class="koboSpan" id="kobo.721.1"> in the terminal. </span><span class="koboSpan" id="kobo.721.2">For example, fastlane beta will execute the beta lane defined in </span><span class="No-Break"><span class="koboSpan" id="kobo.722.1">your Fastfile.</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.723.1">Here’s an example of a Fastfile for an iOS app that includes lanes for building, testing, and releasing the app to</span><a id="_idIndexMarker1278"/><span class="koboSpan" id="kobo.724.1"> TestFlight and the App </span><span class="No-Break"><span class="koboSpan" id="kobo.725.1">Store (</span></span><a href="https://github.com/PacktPublishing/Mobile-DevOps-Playbook/blob/main/Chapter-9/fastlane/Fastfile%20"><span class="No-Break"><span class="koboSpan" id="kobo.726.1">https://github.com/PacktPublishing/Mobile-DevOps-Playbook/blob/main/Chapter-9/fastlane/Fastfile%20</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.727.1">).</span></span></p>
<p><span class="koboSpan" id="kobo.728.1">Here is a basic example of how to use fastlane with GitHub Actions to automate your iOS app </span><span class="No-Break"><span class="koboSpan" id="kobo.729.1">deployment</span></span><span class="No-Break"><a id="_idIndexMarker1279"/></span><span class="No-Break"><span class="koboSpan" id="kobo.730.1"> process:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.731.1">Create a </span><strong class="source-inline"><span class="koboSpan" id="kobo.732.1">.github/workflows</span></strong><span class="koboSpan" id="kobo.733.1"> directory in your GitHub repository if it doesn’t exist. </span><span class="koboSpan" id="kobo.733.2">Inside this directory, create a YAML file (</span><span class="No-Break"><span class="koboSpan" id="kobo.734.1">e.g.,</span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.735.1"> i0S-fastlane.yml</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.736.1">).</span></span></li>
<li><span class="koboSpan" id="kobo.737.1">Configure a GitHub Actions workflow such as this </span><span class="No-Break"><span class="koboSpan" id="kobo.738.1">example: </span></span><a href="https://github.com/PacktPublishing/Mobile-DevOps-Playbook/blob/main/Chapter-9/.github/iOS-fastlane.yml"><span class="No-Break"><span class="koboSpan" id="kobo.739.1">https://github.com/PacktPublishing/Mobile-DevOps-Playbook/blob/main/Chapter-9/.github/iOS-fastlane.yml</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.740.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.741.1">Replace </span><strong class="source-inline"><span class="koboSpan" id="kobo.742.1">./path/to/your/project</span></strong><span class="koboSpan" id="kobo.743.1"> with the actual path to your iOS project directory, and replace </span><strong class="source-inline"><span class="koboSpan" id="kobo.744.1">your_lane</span></strong><span class="koboSpan" id="kobo.745.1"> with the fastlane lane you want to run (e.g., beta, </span><span class="No-Break"><span class="koboSpan" id="kobo.746.1">release, etc.).</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.747.1">Now, whenever you push changes to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.748.1">main</span></strong><span class="koboSpan" id="kobo.749.1"> branch, the GitHub Actions workflow will be triggered, and it will execute the defined steps, which include setting up the environment, installing dependencies, and running your </span><span class="No-Break"><span class="koboSpan" id="kobo.750.1">fastlane lane.</span></span></p>
<p><span class="koboSpan" id="kobo.751.1">This is a basic example, and you might need to adapt it to your specific project setup </span><span class="No-Break"><span class="koboSpan" id="kobo.752.1">and requirements.</span></span></p>
<p><span class="koboSpan" id="kobo.753.1">Make sure to review the fastlane and GitHub Actions documentation (</span><a href="https://docs.fastlane.tools/best-practices/continuous-integration/github/"><span class="koboSpan" id="kobo.754.1">https://docs.fastlane.tools/best-practices/continuous-integration/github/</span></a><span class="koboSpan" id="kobo.755.1">) for more advanced configurations </span><span class="No-Break"><span class="koboSpan" id="kobo.756.1">and options.</span></span></p>
<p><span class="koboSpan" id="kobo.757.1">When using Bitrise, Codemagic, or any other CI providers, the process is similar. </span><span class="koboSpan" id="kobo.757.2">You will need to replace the pipeline steps with the fastlane commands and ensure that the necessary prerequisites for fastlane are installed on </span><span class="No-Break"><span class="koboSpan" id="kobo.758.1">the VMs.</span></span></p>
<p><span class="koboSpan" id="kobo.759.1">Remember that fastlane is highly customizable, so feel free to adapt it to your specific project requirements. </span><span class="koboSpan" id="kobo.759.2">Don’t</span><a id="_idIndexMarker1280"/><span class="koboSpan" id="kobo.760.1"> hesitate to refer to the official fastlane documentation (</span><a href="https://docs.fastlane.tools"><span class="koboSpan" id="kobo.761.1">https://docs.fastlane.tools</span></a><span class="koboSpan" id="kobo.762.1">) for more detailed information </span><span class="No-Break"><span class="koboSpan" id="kobo.763.1">and examples.</span></span></p>
<p><span class="koboSpan" id="kobo.764.1">The next section will explore ChatOps and how to include chat tools in team conversations in order to accelerate the mobile DevOps </span><span class="No-Break"><span class="koboSpan" id="kobo.765.1">life cycle.</span></span></p>
<h1 id="_idParaDest-191"><a id="_idTextAnchor369"/><span class="koboSpan" id="kobo.766.1">ChatOps for mobile DevOps collaboration</span></h1>
<p><span class="koboSpan" id="kobo.767.1">In today’s fast-paced world of software development, effective collaboration and communication are key to</span><a id="_idIndexMarker1281"/><span class="koboSpan" id="kobo.768.1"> achieving seamless mobile DevOps. </span><span class="koboSpan" id="kobo.768.2">With the rise of remote work and distributed teams, having a reliable and feature-rich platform that fosters real-time interaction </span><span class="No-Break"><span class="koboSpan" id="kobo.769.1">is crucial.</span></span></p>
<p><span class="koboSpan" id="kobo.770.1">ChatOps is a collaborative approach that brings together development, operations, and other teams by using chat platforms as the central hub for communication and automation. </span><span class="koboSpan" id="kobo.770.2">It enables seamless collaboration and integrates various tools, making it easier to manage the software development and deployment processes, as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.771.1">following figure:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer273">
<span class="koboSpan" id="kobo.772.1"><img alt="Figure 9.8 – How ChatOps works" src="image/Figure_09.8_B18113.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.773.1">Figure 9.8 – How ChatOps works</span></p>
<p><span class="koboSpan" id="kobo.774.1">Collaborating on mobile DevOps projects can be made more efficient and transparent by implementing ChatOps. </span><span class="koboSpan" id="kobo.774.2">This will improve communication and enable faster decision-making within the</span><a id="_idIndexMarker1282"/> <span class="No-Break"><span class="koboSpan" id="kobo.775.1">development team.</span></span></p>
<p><span class="koboSpan" id="kobo.776.1">The benefits that can </span><a id="_idIndexMarker1283"/><span class="koboSpan" id="kobo.777.1">be derived from ChatOps are </span><span class="No-Break"><span class="koboSpan" id="kobo.778.1">as follows:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.779.1">Communication and the deployment of bots for automated tasks improve the agility of cross-functional teams, resulting in a shorter time </span><span class="No-Break"><span class="koboSpan" id="kobo.780.1">to resolution.</span></span></li>
<li><span class="koboSpan" id="kobo.781.1">ChatOps allows us to combine skilled workers across various fields into a team without affecting </span><span class="No-Break"><span class="koboSpan" id="kobo.782.1">organizational structures.</span></span></li>
<li><span class="koboSpan" id="kobo.783.1">Automation: Integrating bots is one of the most important achievements. </span><span class="koboSpan" id="kobo.783.2">They are our helpers that perform tasks according to programmed commands. </span><span class="koboSpan" id="kobo.783.3">In this way, bots can be assigned functions such as the search and deployment of code, and server reset, drastically reducing the time spent on </span><span class="No-Break"><span class="koboSpan" id="kobo.784.1">an issue.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.785.1">Together, let’s explore var</span><a id="_idTextAnchor370"/><span class="koboSpan" id="kobo.786.1">ious tools and services that can aid in implementing ChatOps for our mobile </span><span class="No-Break"><span class="koboSpan" id="kobo.787.1">DevOps processes.</span></span></p>
<h2 id="_idParaDest-192"><a id="_idTextAnchor371"/><span class="koboSpan" id="kobo.788.1">Slack</span></h2>
<p> <strong class="bold"><span class="koboSpan" id="kobo.789.1">Slack</span></strong><span class="koboSpan" id="kobo.790.1"> (</span><a href="https://slack.com/"><span class="koboSpan" id="kobo.791.1">https://slack.com/</span></a><span class="koboSpan" id="kobo.792.1">) is a popular communication tool known for its versatility and integration capabilities. </span><span class="koboSpan" id="kobo.792.2">Slack </span><a id="_idIndexMarker1284"/><span class="koboSpan" id="kobo.793.1">proves to be a powerful tool for ChatOps in mobile DevOps collaboration. </span><span class="koboSpan" id="kobo.793.2">Utilizing Slack for DevOps, also known as </span><strong class="bold"><span class="koboSpan" id="kobo.794.1">SlackOps</span></strong><span class="koboSpan" id="kobo.795.1">, is the practice of utilizing </span><a id="_idIndexMarker1285"/><span class="koboSpan" id="kobo.796.1">the popular team collaboration tool Slack to streamline and enhance communication, collaboration, and automation within DevOps processes. </span><span class="koboSpan" id="kobo.796.2">DevOps is an approach that combines software </span><strong class="bold"><span class="koboSpan" id="kobo.797.1">development</span></strong><span class="koboSpan" id="kobo.798.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.799.1">Dev</span></strong><span class="koboSpan" id="kobo.800.1">) and IT </span><strong class="bold"><span class="koboSpan" id="kobo.801.1">operations</span></strong><span class="koboSpan" id="kobo.802.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.803.1">Ops</span></strong><span class="koboSpan" id="kobo.804.1">) to foster a culture of collaboration, CI/CD, and automation. </span><span class="koboSpan" id="kobo.804.2">SlackOps takes advantage of Slack’s real-time messaging, channels, integrations, and bots to improve the efficiency and</span><a id="_idIndexMarker1286"/><span class="koboSpan" id="kobo.805.1"> effectiveness of DevOps teams. </span><span class="koboSpan" id="kobo.805.2">Here are a few benefits of using Slack </span><span class="No-Break"><span class="koboSpan" id="kobo.806.1">with DevOps:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.807.1">It provides a centralized space for teams to communicate, share ideas, and discuss project updates. </span><span class="koboSpan" id="kobo.807.2">It offers real-time messaging and voice and video calling, allowing quick and </span><span class="No-Break"><span class="koboSpan" id="kobo.808.1">efficient collaboration.</span></span></li>
<li><span class="koboSpan" id="kobo.809.1">One of Slack’s greatest strengths is its extensive integration ecosystem. </span><span class="koboSpan" id="kobo.809.2">It seamlessly connects with various tools and platforms used in the DevOps ecosystem, such as GitHub Actions for CI/CD pipelines, GitHub for version control systems, Jira for project management tools, and monitoring services. </span><span class="koboSpan" id="kobo.809.3">This integration capability allows for automated notifications and updates, reducing the need for context-switching across </span><span class="No-Break"><span class="koboSpan" id="kobo.810.1">different applications.</span></span></li>
<li><span class="koboSpan" id="kobo.811.1">Slack’s mobile app delivers a smooth user experience, enabling team members to stay connected and engaged. </span><span class="koboSpan" id="kobo.811.2">It provides push notifications, intuitive navigation, and access to all essential features, ensuring uninterrupted collaboration regardless </span><span class="No-Break"><span class="koboSpan" id="kobo.812.1">of location.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.813.1">Mobile DevOps teams can use Slack t</span><a id="_idTextAnchor372"/><span class="koboSpan" id="kobo.814.1">o simplify workflows, automate the release process, share the test results, and </span><span class="No-Break"><span class="koboSpan" id="kobo.815.1">stay productive.</span></span></p>
<h2 id="_idParaDest-193"><a id="_idTextAnchor373"/><span class="koboSpan" id="kobo.816.1">AWS Chatbot</span></h2>
<p><strong class="bold"><span class="koboSpan" id="kobo.817.1">AWS Chatbot</span></strong><span class="koboSpan" id="kobo.818.1"> (</span><a href="https://aws.amazon.com/chatbot/"><span class="koboSpan" id="kobo.819.1">https://aws.amazon.com/chatbot/</span></a><span class="koboSpan" id="kobo.820.1">), a service</span><a id="_idIndexMarker1287"/><span class="koboSpan" id="kobo.821.1"> provided by </span><strong class="bold"><span class="koboSpan" id="kobo.822.1">Amazon Web Services</span></strong><span class="koboSpan" id="kobo.823.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.824.1">AWS</span></strong><span class="koboSpan" id="kobo.825.1">), aims to streamline these processes by integrating </span><a id="_idIndexMarker1288"/><span class="koboSpan" id="kobo.826.1">them with popular chat platforms. </span><span class="koboSpan" id="kobo.826.2">It can integrate with popular messaging services such as Slack, Microsoft Teams, and Amazon Chime. </span><span class="koboSpan" id="kobo.826.3">You need to choose the messaging service you want to use and connect AWS Chatbot to it. </span><span class="koboSpan" id="kobo.826.4">This will enable you to receive notifications and alerts from AWS services in your </span><span class="No-Break"><span class="koboSpan" id="kobo.827.1">messaging service.</span></span></p>
<p><span class="koboSpan" id="kobo.828.1">To begin, it’s important to create an AWS Chatbot within your AWS account. </span><span class="koboSpan" id="kobo.828.2">This can easily be done by accessing the AWS Management Console and selecting the AWS Chatbot service. </span><span class="koboSpan" id="kobo.828.3">From there, you can create a new chatbot and customize its settings according to your needs. </span><span class="koboSpan" id="kobo.828.4">Keep in </span><a id="_idIndexMarker1289"/><span class="koboSpan" id="kobo.829.1">mind that AWS Chatbot offers several advantages, including </span><span class="No-Break"><span class="koboSpan" id="kobo.830.1">the following:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.831.1">Integrates seamlessly with popular chat platforms such as Slack, Microsoft Teams, and Amazon Chime. </span><span class="koboSpan" id="kobo.831.2">This integration lets teams receive real-time notifications, alerts, and updates directly in their preferred chat environment, reducing context switching and keeping </span><span class="No-Break"><span class="koboSpan" id="kobo.832.1">everyone informed.</span></span></li>
<li><span class="koboSpan" id="kobo.833.1">Teams can define custom workflows for ChatOps, automating repetitive tasks and facilitating collaboration. </span><span class="koboSpan" id="kobo.833.2">By using chat commands, team members can perform actions on AWS resources, retrieve information, initiate deployments, and execute predefined scripts. </span><span class="koboSpan" id="kobo.833.3">This capability empowers teams to efficiently manage their infrastructure without leaving the </span><span class="No-Break"><span class="koboSpan" id="kobo.834.1">chat environment.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.835.1">In conclusion, adopting mobile DevOps best practices is a crucial step toward achieving streamlined and high-quality mobile application development. </span><span class="koboSpan" id="kobo.835.2">By combining the expertise of developers, test engineers, release specialists, and other stakeholders, organizations can accelerate the de</span><a id="_idTextAnchor374"/><span class="koboSpan" id="kobo.836.1">velopment and deployment process, resulting in faster delivery times and improved </span><span class="No-Break"><span class="koboSpan" id="kobo.837.1">user experiences.</span></span></p>
<h1 id="_idParaDest-194"><a id="_idTextAnchor375"/><span class="koboSpan" id="kobo.838.1">Summary</span></h1>
<p><span class="koboSpan" id="kobo.839.1">In this chapter, we focused on the best practices of mobile DevOps to accelerate the development and release process of high-quality mobile applications. </span><span class="koboSpan" id="kobo.839.2">By combining the expertise of developers, test engineers, release experts, and other stakeholders, organizations can streamline the mobile app development process and deliver frequent updates to customers, thereby enhancing both speed </span><span class="No-Break"><span class="koboSpan" id="kobo.840.1">and quality.</span></span></p>
<p><span class="koboSpan" id="kobo.841.1">In this chapter, you gained essential skills in the best practices for CI/CD, mobile app versioning, IaC, configuration management, A/B testing, remote and dependency caching, parallel CI builds, fastlane automation, API mocking, and ChatOps collaboration. </span><span class="koboSpan" id="kobo.841.2">These skills will empower you to excel in mobile app development and streamline your </span><span class="No-Break"><span class="koboSpan" id="kobo.842.1">processes effectively.</span></span></p>
<p><span class="koboSpan" id="kobo.843.1">In the next chapter, we’ll discuss how platform engineering and </span><strong class="bold"><span class="koboSpan" id="kobo.844.1">developer experience</span></strong><span class="koboSpan" id="kobo.845.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.846.1">DevX</span></strong><span class="koboSpan" id="kobo.847.1">) can </span><span class="No-Break"><span class="koboSpan" id="kobo.848.1">increase productivity.</span></span></p>
</div>


<div class="Content" id="_idContainer275">
<h1 id="_idParaDest-195" lang="en-US" xml:lang="en-US"><a id="_idTextAnchor376"/><span class="koboSpan" id="kobo.1.1">Part 4: Moving Beyond Mobile DevOps and the Future of DevOps</span></h1>
<p><span class="koboSpan" id="kobo.2.1">The future of Mobile DevOps is likely to involve a continued focus on improving the speed and quality of mobile app development. </span><span class="koboSpan" id="kobo.2.2">This will likely involve the use of newer technologies and practices that help to improve the speed and quality of mobile </span><span class="No-Break"><span class="koboSpan" id="kobo.3.1">app development.</span></span></p>
<p><span class="koboSpan" id="kobo.4.1">This part has the </span><span class="No-Break"><span class="koboSpan" id="kobo.5.1">following chapters:</span></span></p>
<ul>
<li><a href="B18113_10.xhtml#_idTextAnchor377"><em class="italic"><span class="koboSpan" id="kobo.6.1">Chapter 10</span></em></a><em class="italic"><span class="koboSpan" id="kobo.7.1">, Improving Productivity with Developer Experience and Platform Engineering</span></em></li>
<li><a href="B18113_11.xhtml#_idTextAnchor410"><em class="italic"><span class="koboSpan" id="kobo.8.1">Chapter 11</span></em></a><em class="italic"><span class="koboSpan" id="kobo.9.1">, Predicting the Future of Mobile DevOps</span></em></li>
</ul>
</div>
<div>
<div id="_idContainer276">
</div>
</div>
<div>
<div class="Basic-Graphics-Frame" id="_idContainer277">
</div>
</div>
</body></html>