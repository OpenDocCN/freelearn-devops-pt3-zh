<html><head></head><body>
<div id="sbo-rt-content"><div id="_idContainer009">
<h1 class="chapter-number" id="_idParaDest-15"><a id="_idTextAnchor014"/>1</h1>
<h1 id="_idParaDest-16"><a id="_idTextAnchor015"/>Introduction to DevOps</h1>
<p>DevOps is <a id="_idIndexMarker000"/>not a product or tool that you can buy or install. DevOps is about culture and the way you write, release, and operate your software. DevOps is about shortening the time between a new idea and your first end user experiencing the value it delivers. In this book, you will learn about the tools and techniques you can use to apply that philosophy to your way of working. As the purpose of this book is to help you prepare for the AZ-400 certification exam, the core concepts and DevOps-related practices will be illustrated using Azure DevOps and its associated technologies.</p>
<p>DevOps has gained popularity in recent years, with almost all software engineering teams adapting themselves to a new world of doing things using a newer set of tools that activate productivity and better collaboration across development and operations. DevOps is often seen as an extension of Agile, but its scope is much wider, wherein it complements Agile. </p>
<p>In this first chapter, you will learn more about what DevOps is and how to recognize a successful DevOps team. By the end of this chapter, you will be familiar with the key terms and be equipped with a broader understanding of the high-level principles and practices of DevOps. You will also discover the benefits of DevOps as it applies to software engineering teams.</p>
<p>In this chapter, we will cover the following topics:</p>
<ul>
<li>What is DevOps?</li>
<li>Creating your ideal DevOps organization</li>
<li>Exploring DevOps practices and habits</li>
<li>The five stages of the DevOps evolution</li>
</ul>
<h1 id="_idParaDest-17"><a id="_idTextAnchor016"/>Technical requirements</h1>
<p>There are no technical requirements for this chapter.</p>
<h1 id="_idParaDest-18"><a id="_idTextAnchor017"/>What is DevOps?</h1>
<p>If you were to list all of the different definitions and descriptions of DevOps, there would be many. However, as different as these might be, they most likely share several concepts. These <a id="_idIndexMarker001"/>are collaboration, continuous delivery of business value, and breaking down silos.</p>
<p>With all the technical discussion in the rest of this book, it is important not to overlook the value proposition for adopting DevOps – namely, that it will help you improve the way that you continuously deliver value to your end users. To do this, you must decrease the time between starting work on a new feature and the first user using it in production. This means that you not only have to write the software but also deliver and operate it.</p>
<p>Over the last decade, the way we write software has fundamentally changed. More and more companies are now adopting an agile way of working to increase the efficiency of their software development. More and more teams are now working in short iterations or sprints to create new increments of a product in quick succession. However, creating potentially shippable increments faster and faster does not create any value by itself. Only when each new version of your software is also released to production and used by your end users does it start delivering value.</p>
<p>In traditional organizations, developers and operators are often located in different departments, and taking software into production includes a hand-off, often with a formal ceremony around it. In such an organization, it can be hard to accelerate that delivery to production, along with the speed at which development can create new versions.</p>
<p>Next to that, the development and operations departments often have conflicting goals. While a development department is rewarded for creating many changes as fast as possible, operations departments are rewarded for limiting downtime and preventing issues. The latter is often best achieved by making as few changes as possible. The conflict here is clear – both departments have optimizations for one subgoal, as shown in the following diagram:</p>
<div>
<div class="IMG---Figure" id="_idContainer005">
<img alt="Figure 1.1 – Conflicting goals between development and operations " height="359" src="image/Figure_1.1.jpg" width="642"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.1 – Conflicting goals between development and operations</p>
<p>This defeats the purpose of these subgoals, which comes from the shared, overarching goal of quickly taking in new versions while maintaining stability. It’s precisely this conflict between <a id="_idIndexMarker002"/>developmental and operational goals that is one of the things that should disappear in a DevOps culture. In such a culture, development and operations teams should work together on delivering new versions to production in a fast and reliable manner and share responsibility for both subgoals.</p>
<p>While it is good to know that DevOps is a cultural movement, tools and automation are an important part of that culture. In this book, we will focus on these tools and how to use them to implement many of the practices that come with a DevOps culture. In other words, this book will be mostly about the products and processes associated with DevOps. If you want to learn more about the cultural side of things and the people, there are many other books you can read. A very good read is <em class="italic">The Phoenix Project: A Novel About IT, DevOps, And Helping Your Business Win</em>, by Gene Kim. </p>
<p>The rest of this section will explore the relationship between DevOps and Agile to see how they complement each other. The focus will be on agile techniques and prices for work management. We will also discuss the goals and benefits of a DevOps culture.</p>
<h2 id="_idParaDest-19"><a id="_idTextAnchor018"/>The relationship between DevOps and Agile</h2>
<p>If you take a look at Agile, you may notice that part of it focuses on business value and shortening <a id="_idIndexMarker003"/>the time of delivering a new business value. From that <a id="_idIndexMarker004"/>perspective, adopting DevOps is a logical next step after Agile. Agile advocates that the software development teams’ responsibilities should extend forward by engaging with users and other stakeholders to deliver valuable and potentially shippable products quicker. DevOps is not just about something that might be shipped, but shipping it as well. With Agile and DevOps combined, you can create an end-to-end and continuous flow of value to your users.</p>
<p>You will need a common approach to managing the work to be done for everyone involved. In the <a id="_idIndexMarker005"/>next section, you will find some pointers on how to <a id="_idIndexMarker006"/>incorporate operational concerns in the way you manage your work.</p>
<h3>Agile work management</h3>
<p>When you are starting to increase the collaboration between development and operations, you will <a id="_idIndexMarker007"/>quickly notice that they have to cope with different types of work. In development, a large part of the work is planned: user stories and bugs that are picked up from a backlog. On the other hand, for operations, a large part of their work is unplanned. They respond to warnings and alerts from systems and requests or tickets from users or developers.</p>
<p>Integrating these two, especially if developers and operators are located on the same team, can be challenging. To learn how to deal with this, let’s explore the following approach:</p>
<ol>
<li>First, switch to a flow-based way of working for developers.</li>
<li>Next, allow for operations to also list their work in the same work management system as developers using synchronizations. You can also choose to implement <em class="italic">fastlaning</em>, a way to expedite urgent work.</li>
<li>Finally, you may choose to decommission existing ticketing tools for operations if possible.</li>
</ol>
<p>Fastlaning<a id="_idIndexMarker008"/> is an approach to organizing work that allows for both planned and unplanned work by visualizing two separate lanes of work. To do this, the Scrum board is extended with a Kanban-like board on the top. This is the fast lane. On the Kanban board, urgent<a id="_idIndexMarker009"/> but unplanned <a id="_idIndexMarker010"/>work is added. Any work that’s added to this lane is picked up by the team with the highest priority. Only when there is no work remaining in the fast lane is work from the Scrum board, along with planned work, picked up. Whenever new work is added to the fast lane, this takes priority again. Often, there is the agreement that any work in progress is finished before switching to work in the fast lane.</p>
<p class="callout-heading">Important Note</p>
<p class="callout">Dependency management is <a id="_idIndexMarker011"/>also an important aspect of agile work planning. Hence, teams often make use of the prioritization attribute to qualify more important work for the short term.</p>
<h4>Switching to a flow-based methodology</h4>
<p>The first thing to consider when switching to a flow-based methodology is transitioning the <a id="_idIndexMarker012"/>way developers work from batch-wise to flow-based. An example of a batch-wise way of working is Scrum. If you are using the Scrum<a id="_idIndexMarker013"/> framework, you are used to picking up a batch of work every 2 to 4 weeks and focusing on completing all of that work within that time window. Only when that batch is done do you deliver a potentially shippable product.</p>
<p>When changing to a flow-based approach, you try to focus not on a batch, but just on one thing. You work on that one work item and drive it completely until it’s done before you start on the next. This way, there is no longer a sprint backlog, only a product backlog. The advantage of this approach is that you no longer decide which work to perform upfront; whenever you are free to start on new work, you can pick up the next item from the backlog. In an environment where priorities shift quickly, this allows you to react to change quickly.</p>
<p>These changes to the way developers organize their work make it easier to include operations in work management, but there is also another benefit. When developers are focusing on getting a single work item done instead of a whole sprint at once, you can also increase the number of times you can deliver a small portion of value to your users.</p>
<h4>Synchronizing work items to one system</h4>
<p>Once the development team has changed the way it organizes its work, it should be easier <a id="_idIndexMarker014"/>for developers to also list their planned work on the shared backlog and pull work from that backlog when they have time to work on it. They now also have a place where they can list their unplanned work.</p>
<p>However, there may still be an existing ticketing system where requests for operations are dropped by users or automatically created by monitoring tools. While Azure DevOps has a great API to rework this integration to directly create work items in Azure DevOps, you may <a id="_idIndexMarker015"/>first choose to create a synchronization between your existing ticketing tool and Azure Boards. There are many integration options available and there is a lot of ongoing work in this area. This way, operators can slowly move from their old tool to the new one, since they are now in sync. Of course, the goal is for them to move over to the same tool, as the developers, completely.</p>
<h4>Fastlaning</h4>
<p>With the work of<a id="_idIndexMarker016"/> developers and operators in the same work management tool, you will notice that you have a mix of planned and unplanned, often urgent, work in the system. To ensure that urgent work gets the attention <a id="_idIndexMarker017"/>and precedence it deserves, you can introduce what is called a <strong class="bold">fast lane</strong> to your sprint board. The following <a id="_idIndexMarker018"/>screenshot shows an example of an Azure board that has been set up for fastlaning production issues:</p>
<div>
<div class="IMG---Figure" id="_idContainer006">
<img alt="Figure 1.2 – Azure Board setup depicting the fast lane " height="592" src="image/Figure_1.2.jpg" width="1283"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.2 – Azure Board setup depicting the fast lane</p>
<p>The horizontal split in this board is only used to work on tasks in the regular lane when there is no work to be picked up in the fast lane.</p>
<p>You can find instructions on how to configure swim lanes in your Azure (Kanban) boards for <a id="_idIndexMarker019"/>expediting work at <a href="https://docs.microsoft.com/en-us/azure/devops/boards/boards/expedite-work?view=azure-devops">https://docs.microsoft.com/en-us/azure/devops/boards/boards/expedite-work?view=azure-devops</a>.</p>
<h4>Decommissioning other work management tools</h4>
<p>After creating a shared work management system between development and operations, there <a id="_idIndexMarker020"/>is an opportunity to increase the amount of collaboration between them. When this collaboration is taking off, old ticketing systems that were used by operations may now slowly be decommissioned over time. Integrations from monitoring tools can be shifted to the new shared tools, and the number of tickets between developers and operators should slowly decrease as they find new ways of working together.</p>
<p class="callout-heading">Important Note</p>
<p class="callout">Azure DevOps allows you to customize work item templates, as well as define life cycle states. Using this feature, teams can easily model their work item template types based on any existing taxonomy they might be using in their existing tools. This significantly reduces the learning curve in the adoption of the new shared work management tool. For more <a id="_idIndexMarker021"/>information on this, go to <a href="https://docs.microsoft.com/en-us/azure/devops/boards/backlogs/work-item-template?view=azure-devops&amp;tabs=browser#manage-work-item-templates">https://docs.microsoft.com/en-us/azure/devops/boards/backlogs/work-item-template?view=azure-devops&amp;tabs=browser#manage-work-item-templates</a>.</p>
<h2 id="_idParaDest-20"><a id="_idTextAnchor019"/>Goals and benefits of a DevOps culture</h2>
<p>At this point, you might be wondering about the point of it all. What are the benefits of DevOps and what’s in it for you, your colleagues, and your organization? The most common goal <a id="_idIndexMarker022"/>of adopting DevOps is to achieve a reduction in <strong class="bold">cycle time</strong>. Cycle time is <a id="_idIndexMarker023"/>the time between starting work on a new feature and the moment that the first user can use it. The way this is achieved, by automation, also <a id="_idIndexMarker024"/>serves the goals of lower change failure rate, lower <strong class="bold">mean time to repair</strong> (<strong class="bold">MTTR</strong>), and lower planned downtime.</p>
<p>Next to all that, there <a id="_idIndexMarker025"/>may be other benefits, such as increased employee satisfaction, less burnout and stress, and better employee retention. This is attributed to removing opposing goals between developers and operators.</p>
<p>For a while, there was doubt about whether DevOps works, whether these goals can be met, and whether the extra benefits can be achieved since this was only shown using case studies. The <a id="_idIndexMarker026"/>downside of this is that case studies are often only available <a id="_idIndexMarker027"/>for successful cases, not for unsuccessful ones. This all changed in 2018 when the book <em class="italic">Accelerate</em> came out. This book shows, based on years of quantitative research, that modern development practices such as DevOps contribute to reaching IT goals and organizational goals.</p>
<h3>Measuring results</h3>
<p>To measure where you currently stand as a team or organization and the impact DevOps has on you, there <a id="_idIndexMarker028"/>are several metrics that you can start recording. As <a id="_idIndexMarker029"/>always, when working with metrics or <strong class="bold">key performance indicators</strong> (<strong class="bold">KPIs</strong>), make sure that you do not encourage people to game the system by looking only at the numbers. Several interesting metrics are detailed in the following sections and if you go over them, you will notice that they are all about encouraging flow.</p>
<h4>Cycle time and lead time</h4>
<p><strong class="bold">Cycle time</strong> and <strong class="bold">lead time</strong> are <a id="_idIndexMarker030"/>metrics that come from Lean and Kanban and <a id="_idIndexMarker031"/>are used to measure the time needed to realize a change. Cycle time is the amount of time between <a id="_idIndexMarker032"/>starting work on <a id="_idIndexMarker033"/>a feature and users being able to use that feature in production. The lower the cycle time, the quicker you can react to changing requirements or insights. Lead time is the amount of time between requesting a feature and realizing that feature. It is the time between adding work to the backlog and when you start implementing it.</p>
<p>When you add cycle time and lead time together, you are calculating another metric, known <a id="_idIndexMarker034"/>as the <strong class="bold">time to market</strong>. This is often an important business metric when developing software. Hence, minimizing both cycle time and lead time will have a business impact.</p>
<h4>The amount of work in progress</h4>
<p>Another <a id="_idIndexMarker035"/>thing you can measure is the amount of work in progress at any point in time. DevOps focuses on the flow of value to the user. This implies that everyone should, if possible, be doing only one thing at a time and finish that before moving on to something else. This reduces the amount of time spent on task switching and the amount of time spent on not yet complete work. Measuring how many things a team works on in parallel and reporting on this can act as a source of encouragement.</p>
<p>You can <a id="_idIndexMarker036"/>even go as far as putting actual limits on the amount of work that can be in progress. The following is a small part of <em class="italic">Figure 1.2</em>, showing that these work-in-progress limits can even be shown in the tool:</p>
<div>
<div class="IMG---Figure" id="_idContainer007">
<img alt="Figure 1.3 – Azure Boards depicting limits for each stage " height="232" src="image/Figure_1.3.jpg" width="795"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.3 – Azure Boards depicting limits for each stage</p>
<p>The goal is to have as little work in progress at the same time as possible.</p>
<h4>Mean time to recovery</h4>
<p>The third <a id="_idIndexMarker037"/>metric is the <strong class="bold">mean time to recovery</strong>. How long does it take you to restore a service in case of a (partial) outage? In the past, companies focused on reducing the <strong class="bold">mean time between failures</strong>. This used to be the mean indicator of the stability of a product. However, this metric encourages limiting the number of changes going to production. The unwanted <a id="_idIndexMarker038"/>consequence is often that outages, though they might be rare, last long and are hard to fix.</p>
<p>Measuring the mean time to recovery shifts the attention to how quickly you can remediate an outage. If you can fix outages quickly, you can achieve the same – namely, you can minimize the amount of downtime without sacrificing the rate of change. The goal is to minimize the time to recovery.</p>
<h4>Change rate and change failure rate</h4>
<p>Finally, you can measure the number of changes that are delivered to production and the percentage of that which is not successful. Increasing the rate of change implies that you are <a id="_idIndexMarker039"/>delivering value to your users more often, hence realizing a flow of value. Also, by measuring not just the number of failures but also the percentage that fails, you are encouraging many small, successful changes instead of encouraging whether the number of changes is limited overall.</p>
<p>Your goal <a id="_idIndexMarker040"/>should be to increase the rate of change while lowering the change failure rate. Apart from the four major KPIs listed in this section, many other metrics may be useful in measuring your DevOps maturity. All these metrics <a id="_idIndexMarker041"/>must be linked back to the important business <strong class="bold">objectives and key results</strong> (<strong class="bold">OKRs</strong>) that are expected. You can find more information about OKRs here: <a href="https://docs.microsoft.com/en-us/azure/cloud-adoption-framework/strategy/business-outcomes/okr">https://docs.microsoft.com/en-us/azure/cloud-adoption-framework/strategy/business-outcomes/okr</a>.</p>
<p>A representative<a id="_idIndexMarker042"/> sample, for illustration purposes, is depicted in the following table:</p>
<table class="No-Table-Style _idGenTablePara-1" id="table001-1">
<colgroup>
<col/>
<col/>
</colgroup>
<tbody>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p><strong class="bold">Objective</strong></p>
</td>
<td class="No-Table-Style">
<p><strong class="bold">Key Results</strong></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p>Faster time to market</p>
</td>
<td class="No-Table-Style">
<ul>
<li>Deployment Frequency: Every week</li>
<li>Deployment Time &lt;= 4 hours</li>
<li>Lead Time (Major Releases): Once every quarter</li>
</ul>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p>Increase the business value that’s been realized while maintaining or reducing costs</p>
</td>
<td class="No-Table-Style">
<ul>
<li>CI/CD processes: 100% automated</li>
<li>Resource Utilization (95th percentile): 80%</li>
<li>Dashboards for monitoring both Health and Costs </li>
</ul>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p>Predictable and quality delivery and faster correction with fewer defects</p>
</td>
<td class="No-Table-Style">
<ul>
<li>High Availability &gt; 99.9%</li>
<li>RTO &lt; 1 hour, RPO &lt; 15 mins</li>
</ul>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p>Better processes across IT, automation, teamwork, and culture</p>
</td>
<td class="No-Table-Style">
<ul>
<li>MTTR &lt; 1 hour</li>
<li>Lead Time (Bugs) &lt; 8 hour</li>
<li>Scaled Agile: Feature Teams &gt; 5 </li>
<li>Technical Debt &lt; 1 week</li>
</ul>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p>Improved customer engagement and ability to quickly respond to market demands</p>
</td>
<td class="No-Table-Style">
<ul>
<li>CSAT: 4 or above</li>
<li>Product Planning: 50% of the backlog focuses on Customer Feedback</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Table 1.1 – Using the OKR approach for your DevOps maturity</p>
<p>At this point, you <a id="_idIndexMarker043"/>might be wondering, how do I help my organization foster this culture and reap all of these benefits? The next section will answer this.</p>
<h1 id="_idParaDest-21"><a id="_idTextAnchor020"/>Creating your ideal DevOps organization</h1>
<p>Well, maybe your organizational structure does not have to change at all. DevOps must start with a <a id="_idIndexMarker044"/>cultural change: openness, empathy, and collaboration are values that need to be encouraged. But still, changing your organizational structure may help accelerate this.</p>
<p>Traditionally, developers and operators are often organized into disparate teams or even different departments – organized in teams with people that have similar skill sets and responsibilities. A common change in organizations is changing this structure by pivoting and organizing teams behind a common goal, a single product, or a group of features, for example.</p>
<p>Now, you will need teams with different skill sets and responsibilities, teams most likely with developers and operators. It is important to realize that forcing such a change upon these people may not be the best way forward. Often, it works best to start with changing the culture and encouraging cooperation – then, this organizational change may come about naturally.</p>
<p>Finally, it is important to recognize one anti-pattern at this point. Some companies are trying to implement DevOps by hiring specialized DevOps engineers and positioning them between development and operations, interacting with both. While this, at first, may seem like <a id="_idIndexMarker045"/>a good idea, this goes against the DevOps values. If you do this, you are not breaking silos down, but you are adding a third one. You are not decreasing the number of hand-offs, you are most likely increasing them. Also, collaboration between developers and operations is often not enhanced by separating them using another organizational structure, and you may not see any increase in value to your end users at all.</p>
<p>Now that you know what DevOps is and you have a clear understanding of how you can form a DevOps team, it is time to explore how to start achieving your goals. </p>
<h1 id="_idParaDest-22"><a id="_idTextAnchor021"/>Exploring DevOps practices and habits</h1>
<p>Since you are not the first team going on this journey, you can learn from the experiences <a id="_idIndexMarker046"/>of those before you. One example is the Microsoft team that built Azure DevOps. Being in the rare position that they can use their product for developing another product, they have learned a great deal about what makes DevOps <a id="_idIndexMarker047"/>successful. From this, they have identified seven key DevOps practices and seven DevOps habits that many successful DevOps teams share:</p>
<table class="No-Table-Style _idGenTablePara-1" id="table002">
<colgroup>
<col/>
<col/>
</colgroup>
<tbody>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p><strong class="bold">DevOps Practices</strong></p>
</td>
<td class="No-Table-Style">
<p><strong class="bold">DevOps Habits</strong></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p>Configuration management</p>
</td>
<td class="No-Table-Style">
<p>Team autonomy and enterprise alignment</p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p>Release management</p>
</td>
<td class="No-Table-Style">
<p>Rigorous management of technical debt</p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p>Continuous integration</p>
</td>
<td class="No-Table-Style">
<p>Focus on the flow of customer value</p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p>Continuous deployment</p>
</td>
<td class="No-Table-Style">
<p>Hypothesis-driven development</p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p>Infrastructure as Code</p>
</td>
<td class="No-Table-Style">
<p>Evidence gathered in production</p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p>Test automation</p>
</td>
<td class="No-Table-Style">
<p>Live-site culture</p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p>Application performance monitoring</p>
</td>
<td class="No-Table-Style">
<p>Myanage infrastructure as a flexible resource</p>
</td>
</tr>
</tbody>
</table>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Table 1.2 – DevOps practices and habits</p>
<p>Now, it is <a id="_idIndexMarker048"/>important to realize that just copying the motions described here will not guarantee success. Just as with Agile, you will have to spend time to <a id="_idIndexMarker049"/>understand these practices and habits, where they come from, and how they contribute to a continuous flow of value to your end users.</p>
<p class="callout-heading">Important Note</p>
<p class="callout">Microsoft Services has introduced a more <a id="_idIndexMarker050"/>comprehensive <strong class="bold">DevOps Dojo</strong> model that aims to categorize the maturity of your DevOps practices. It gives you a good structure on how you should prioritize the DevOps-related investments within your teams. You <a id="_idIndexMarker051"/>can read more about it here: <a href="https://docs.microsoft.com/en-us/learn/paths/devops-dojo-white-belt-foundation/">https://docs.microsoft.com/en-us/learn/paths/devops-dojo-white-belt-foundation/</a>.</p>
<p>The following sections explore all of these practices and habits in more detail. Keep these in the back of your mind while reading the rest of this book. While the rest of this book will mostly focus on the <em class="italic">technical means</em> of <em class="italic">how</em> to do things, do not forget that these are only means. The real value comes from your mindset and creating a culture that focuses on creating a continuous flow of value for your customers.</p>
<h2 id="_idParaDest-23"><a id="_idTextAnchor022"/>DevOps practices</h2>
<p>This section <a id="_idIndexMarker052"/>discusses all seven DevOps practices in turn. As you will quickly see, they are highly related, and it is quite hard to practice one without the other. For example, test automation is highly related to continuous integration and continuous deployment.</p>
<p class="callout-heading">Important Note</p>
<p class="callout">If you plan on taking the AZ-400 exam, mastering all of these practices and performing them using Azure DevOps will help you significantly.</p>
<h3>Configuration management</h3>
<p>Configuration management is about versioning the configuration of your application and the components <a id="_idIndexMarker053"/>it relies on, along with your application itself. Configuration is kept in source control and takes the form of, for example, JSON or YAML files that describe the desired configuration of your application. These <a id="_idIndexMarker054"/>files are the input for tools such as Ansible, Terraform, Puppet, or PowerShell DSC, which configure your environment and application. These tools are often invoked from a continuous deployment pipeline.</p>
<p>The desired state can also be reapplied at an interval, even if no changes have been made to the intended configuration. This way, it is ensured that the actual configuration stays correct and that manual changes are automatically revoked. We call this the <em class="italic">prevention of configuration drift</em>. Configuration drift occurs over time due to servers being added or removed over time, or manual, ad hoc interventions by administrators. Of course, this implies that intended updates to the configuration are done in source control and only applied using tools.</p>
<p>Configuration <a id="_idIndexMarker055"/>management or <strong class="bold">Configuration as Code</strong> (<strong class="bold">CaC</strong>) is highly <a id="_idIndexMarker056"/>related to <strong class="bold">Infrastructure as Code</strong> (<strong class="bold">IaC</strong>). The two are often intertwined and on some platforms, the difference between the two may even feel artificial. CaC will be discussed in detail in <a href="B18655_08.xhtml#_idTextAnchor542"><em class="italic">Chapter 8</em></a>, <em class="italic">Implement Infrastructure and Configuration as Code</em>.</p>
<h3>Release management</h3>
<p>Release management is about being in control of which version of your software is deployed to which environment. Versions are often created using continuous integration <a id="_idIndexMarker057"/>and delivery pipelines. These versions, along with all of the configuration needed, are then stored as immutable artifacts in a repository. From here on, release management tools are used to plan and control how these versions <a id="_idIndexMarker058"/>are deployed to one or more environments. Examples of such controls include manual approvals and automated queries of open work and quality checks before allowing deployment to a new environment.</p>
<p>Release management is related to continuous deployment and focuses more on controlling the flow of versions through the continuous deployment pipeline. <a href="B18655_08.xhtml#_idTextAnchor542"><em class="italic">Chapter 8</em></a>,<em class="italic"> Implement Infrastructure and Configuration as Code</em>, will cover CaC as part of release management.</p>
<h3>Continuous integration</h3>
<p>Continuous integration is a practice where every developer integrates their work with that of the other developers in the team at least once a day and preferably more often. This means <a id="_idIndexMarker059"/>that every developer should push their work to the repository at least once a day. A continuous integration build verifies that <a id="_idIndexMarker060"/>their work compiles and that all the unit tests run. It is important to understand that this verification should not run only on the code that the developer is working on in isolation. The real value comes when the work is also integrated with the work of others.</p>
<p>When integrating changes often and fast, problems with merging changes are less frequent and if they occur, they are often less difficult to solve. In <a href="B18655_04.xhtml#_idTextAnchor069"><em class="italic">Chapter 4</em></a>, <em class="italic">Everything Starts with Source Control</em>, you will learn more about how to set up your source control repositories to make this possible. In <a href="B18655_05.xhtml#_idTextAnchor177"><em class="italic">Chapter 5</em></a>, <em class="italic">Moving to Continuous Integration</em>, you will learn about setting up a continuous integration build.</p>
<h3>Continuous deployment</h3>
<p>Continuous <a id="_idIndexMarker061"/>deployment is the practice of automatically <a id="_idIndexMarker062"/>deploying every new version of sufficient quality to production. When practicing continuous deployment, you have a fully automated pipeline that takes in every new version of your application (every commit), results in a new release, and starts deploying it to one or more environments. The first environment is <a id="_idIndexMarker063"/>often called <strong class="bold">test</strong> and the final environment is<a id="_idIndexMarker064"/> called <strong class="bold">production</strong>.</p>
<p>In this pipeline, multiple steps verify the quality of the software before letting it proceed to the next environment. If the quality is not sufficient, the release is aborted and will not propagate to the next environment. The premise behind this approach is that, in the pipeline, you try to prove that you cannot take the current version to the next environment. If you fail to prove so, you assume it is ready for further progression.</p>
<p>Only when a <a id="_idIndexMarker065"/>release has gone through all the environments in the pipeline is it deployed to production. Whenever a release cannot progress to <a id="_idIndexMarker066"/>the next environment, that release will be completely canceled. While you might be inclined to fix the reason for the failure and then restart deployment from the point where it failed, it is important not to do so. The changes you made at that point are not validated by all of the controls that the version has already passed through. The only way to validate the new version as a whole is by starting the pipeline from the start. You can see this clearly in the following diagram:</p>
<div>
<div class="IMG---Figure" id="_idContainer008">
<img alt="Figure 1.4 – Continuous deployment flow " height="702" src="image/Figure_1.4.jpg" width="978"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.4 – Continuous deployment flow</p>
<p>In <a href="B18655_06.xhtml#_idTextAnchor330"><em class="italic">Chapter 6</em></a>, <em class="italic">Implementing Continuous Deployment and Release Management</em>, you will <a id="_idIndexMarker067"/>learn about setting <a id="_idIndexMarker068"/>up continuous deployment using.</p>
<p class="callout-heading">Important Note</p>
<p class="callout">The preceding <a id="_idIndexMarker069"/>diagram can be found at <a href="https://en.wikipedia.org/wiki/Continuous_delivery#/media/File:Continuous_Delivery_process_diagram.svg">https://en.wikipedia.org/wiki/Continuous_delivery#/media/File:Continuous_Delivery_process_diagram.svg</a>. The image is by Grégoire Détrez, original by Jez Humble, under CC BY-SA 4.0, at <a href="https://creativecommons.org/licenses/by-sa/4.0/">https://creativecommons.org/licenses/by-sa/4.0/</a>.</p>
<h3>Infrastructure as Code</h3>
<p>When writing an application, the binaries that you are building must be running somewhere on some application host. An example of such an application host can be a web server <a id="_idIndexMarker070"/>such as IIS or Apache. Next to an application host, we may need a database and some messaging solution. This is called the infrastructure for our application. When practicing IaC, you are keeping a description of this infrastructure in your source code repository, alongside your application code.</p>
<p>When the <a id="_idIndexMarker071"/>time comes to release a new version of the application and you need to make one or more changes to the infrastructure, you are executing this description of your desired infrastructure using tools such as Chef, Puppet, Terraform, Azure Bicep, PowerShell DSC, or Azure ARM templates. The execution of such a description is idempotent, which means that it can be executed more than once, and the result is the same. This is because your description of the infrastructure describes the <em class="italic">desired state</em> you want the infrastructure to be in and not a series of steps to be executed. Those steps to be executed, if there are any, are automatically determined by your tool of choice. Applying the desired state can also be done automatically in a continuous deployment pipeline and is often executed before the application code is updated.</p>
<p>The big advantage of this is that you can easily create a new environment where the infrastructure is guaranteed to be the same as in your other environments. Also, the problem of configuration drift, where the infrastructure between your different environments slowly diverges, is no longer possible since every time you apply the desired state again to every environment, it’s forced.</p>
<p><a href="B18655_08.xhtml#_idTextAnchor542"><em class="italic">Chapter 8</em></a>, <em class="italic">Implement Infrastructure and Configuration as Code</em>, will discuss IaC in more detail.</p>
<h3>Test automation</h3>
<p>To continuously deliver value to your end users, you must release fast and often. This has implications <a id="_idIndexMarker072"/>for the way you test your application. You can no longer execute manual tests when you release your application every few <a id="_idIndexMarker073"/>minutes. This means that you must automate as many of your tests as possible.</p>
<p>You will most likely want to create multiple test suites for the applications that you run at different stages of your delivery pipeline. Fast unit tests that run within a few minutes and that are executed whenever a new pull request is opened should give your team very quick feedback on the quality of their work, and it should catch most of the errors. Next, the team should run one or more slower test suites later in the pipeline to further increase your confidence in the quality of a version of your application.</p>
<p>All of this <a id="_idIndexMarker074"/>should limit the amount of manual testing to a bare minimum <a id="_idIndexMarker075"/>and allow you to automatically deploy new versions of your application with confidence.</p>
<p><a href="B18655_10.xhtml#_idTextAnchor760"><em class="italic">Chapter 10</em></a>, <em class="italic">Integrating Continuous Testing</em>, will cover test automation in detail.</p>
<h3>Application performance monitoring</h3>
<p>This last practice is all about learning how your application is doing in production. Gathering <a id="_idIndexMarker076"/>metrics such as response times and the number of requests will tell you about how the systems are performing. Capturing errors is also part of performance monitoring and allows you to start fixing <a id="_idIndexMarker077"/>problems without having to wait on your customers to contact you about them.</p>
<p>In addition to that, you can gather information about which parts of the application are more or less frequently used and whether new features are being picked up by users. Learning about usage patterns provides you with great insights into how customers use your applications and common scenarios they are going through.</p>
<p><a href="B18655_11.xhtml#_idTextAnchor889"><em class="italic">Chapter 11</em></a>,<em class="italic"> Managing Security and Compliance</em>, and <a href="B18655_12.xhtml#_idTextAnchor978"><em class="italic">Chapter 12</em></a>, <em class="italic">Application Monitoring</em>, will go into detail about both your application and your users’ behavior in production.</p>
<h2 id="_idParaDest-24"><a id="_idTextAnchor023"/>DevOps habits</h2>
<p>The seven habits of successful DevOps teams are more concerned with culture and your attitude while <a id="_idIndexMarker078"/>developing and delivering software, and less with technical means than DevOps practices are. Still, it is important to know and understand these habits since they will help make DevOps adoption easier.</p>
<p>You will notice that developing these habits will reinforce the use of the practices enumerated previously and the tools you use to implement them. And of course, this holds the other way around as well.</p>
<h3>Team autonomy and enterprise alignment</h3>
<p>An <a id="_idIndexMarker079"/>important part of working Agile <a id="_idIndexMarker080"/>is creating teams that are largely self-directed and can make decisions without (too many) dependencies outside the team. Such a team will often include multiple roles, including a product owner that owns one or more features and is empowered to decide on their way forward.</p>
<p>However, this autonomy also comes with the responsibility to align the work of the team with the direction the whole product is taking. It is important to develop ways of aligning the work of tens or hundreds of teams with each other, in such a way that everyone can sail <a id="_idIndexMarker081"/>their course but the fleet as a whole stays together as well.</p>
<p>The best-case <a id="_idIndexMarker082"/>scenario is that teams take it upon themselves to align to the larger vision, instead of taking directions now and then.</p>
<h3>Rigorous management of technical debt</h3>
<p>Another habit is that of rigorous management of technical debt. The term <em class="italic">debt</em> in itself suggests that there is a cost (interest) associated with the delay in addressing an issue. To keep moving at a constant pace and not <a id="_idIndexMarker083"/>slowly lose speed over time, it is crucial to keep the number of bugs or architectural issues to a minimum and only tolerate so much. Within some teams, this is even formalized in agreements. For example, a team can agree that the number of unfixed bugs should never exceed the number of team members. This means that if a team has four members and a fifth bug is reported, no new work will be undertaken until at least one bug has been fixed.</p>
<h3>Focusing on the flow of customer value</h3>
<p>It is important to accept that users receive no value from code that has been written until <a id="_idIndexMarker084"/>they are using it. Focusing on the flow of value to a user means that code must be written, tested, and delivered and should be running in production before you are done. Focusing on this habit can drive cooperation between disciplines and teams.</p>
<h3>Hypothesis-driven development</h3>
<p>In many modern development methodologies, there <a id="_idIndexMarker085"/>is a product owner who is responsible for ordering all of the work in the backlog, based on the business value. This owner, as the expert, is responsible for maximizing the value that’s delivered by the development team by ordering all the items based on the business value (divided by effort).</p>
<p>However, recent research has shown that even though the product owner is an expert, they cannot correctly predict which features will bring the most value to users. Roughly one-third of the work from a team adds value for users, while another third decreases the value. For this reason, you can switch your backlog from features or user stories to the hypothesis <a id="_idIndexMarker086"/>you want to prove or disprove. You only create a minimal implementation or even just a hint of a feature in the product and then measure whether it is picked up by users. Only when this happens can you expand the implementation of the feature.</p>
<h3>Evidence gathered in production</h3>
<p>Performance measurements should be taken in your production environment, not (just) in an <a id="_idIndexMarker087"/>artificial load test environment. There is nothing wrong with executing load tests before going to production if they deliver value to you. However, the real performance effort is done in the production environment. It should be measured there and compared with previous measurements.</p>
<p>This also holds for usage statistics, patterns, and many, many other performance indicators. They can all be automatically gathered using production metrics.</p>
<h3>Live-site culture</h3>
<p>A live-site culture promotes the idea that anything that happens in the <a id="_idIndexMarker088"/>production environment takes precedence over anything else. Next, anything that threatens production, is about to go to production, or hinders going to production at any time gets priority. Only when these are all in order is the attention shifted to future work.</p>
<p>Also, a part of a live-site culture is ensuring that anything that disturbed the operation of the service is thoroughly analyzed – not to find out who to blame or fire but to find out how to prevent this from happening again. Prevention is preferably done by shifting left; for example, by detecting an indicator of a repeat incident earlier in the pipeline.</p>
<h3>Managing infrastructure as a flexible resource</h3>
<p>Finally, a successful DevOps team treats its servers and infrastructure as mutable assets that can be continually changed, upgraded, tuned, or even decommissioned to meet the demands of the business. The ability <a id="_idIndexMarker089"/>to do this is fueled by configuration and IaC. This may even go so far as creating a new production environment for every new deployment and just deleting the old production environment after switching all traffic from the old environment to the new one.</p>
<p>Besides keeping these DevOps practices and habits in mind, there are certain stages that you will go through while trying to move to a DevOps culture in your organization. The next section will take you through them.</p>
<h1 id="_idParaDest-25"><a id="_idTextAnchor024"/>The five stages of the DevOps evolution</h1>
<p>When you are trying to move to a DevOps culture in your organization, it is going to take time. There <a id="_idIndexMarker090"/>are motions you have to go through while everyone in your organization embraces the changes they have to make to their ways of working. Others that have gone before you have gone through the following five steps or stages, which may help you. Knowing about them can help you accelerate your journey. These steps were first published in the <em class="italic">2018 State of DevOps Report</em> and are discussed in the following sections.</p>
<h2 id="_idParaDest-26"><a id="_idTextAnchor025"/>Normalizing the technology stack</h2>
<p>A common <a id="_idIndexMarker091"/>first step on the road to a DevOps culture is adopting. At a minimum, there are good tools for source control and often, a company standard and continuous integration and delivery are rolled out. Teams also work together to normalize the stack they develop software for. For example, one or two cloud vendors are chosen, and other deployment platforms are phased out. The same goes for tools for other purposes – they are standardized where possible. Homebrewed solutions are replaced with industry standards.</p>
<h2 id="_idParaDest-27"><a id="_idTextAnchor026"/>Standardizing and reducing variability</h2>
<p>At this stage, teams work on further reducing the variation between and within applications and the development <a id="_idIndexMarker092"/>and operations teams that <a id="_idIndexMarker093"/>work on them, working together on aligning operating systems, libraries, and tools. Also, in this stage, deployment processes are changed to reduce the amount of variation between them, and configuration and infrastructure are often moved to source control.</p>
<h2 id="_idParaDest-28"><a id="_idTextAnchor027"/>Expanding DevOps practices</h2>
<p>The remaining <a id="_idIndexMarker094"/>issues between <a id="_idIndexMarker095"/>development and operations are cleaned up, ensuring that the outputs of the development team are precisely what the operations team expects. Also, collaboration starts to grow between the two and they can work together without external dependencies on creating and delivering changes.</p>
<h2 id="_idParaDest-29"><a id="_idTextAnchor028"/>Automating infrastructure delivery</h2>
<p>At this <a id="_idIndexMarker096"/>stage, the infrastructure that is used by developers and operations becomes fully aligned. Everything is deployed from source control and the same scripts or solutions are used by both teams.</p>
<h2 id="_idParaDest-30"><a id="_idTextAnchor029"/>Providing self-service capabilities</h2>
<p>Before DevOps, virtual machines or hosting environments were often requested from operations, by developers manually, or through ticketing systems. Provisioning was done manually by operators, which could take days or <a id="_idIndexMarker097"/>sometimes even weeks.</p>
<p>Self-service capabilities mean that environments are no longer created manually, but through self-service APIs that operations teams make available to developers.</p>
<p>This way, developers can create and destroy environments on their own. They can create and test changes on their own and send them off or schedule them for automated deployment.</p>
<h1 id="_idParaDest-31"><a id="_idTextAnchor030"/>Summary</h1>
<p>In this chapter, you learned what DevOps is (and what it is not) and its relationship with Agile. Moving to a DevOps culture helps you break down conflicting targets for developers on one side and operators on the other. This empowers them to work together on continuously delivering value to your end users, organizing their work in a single backlog, and working off a single board, while respecting the differences in their ways of working. Organizing developers and operators in product-oriented teams is the next important step in creating like-minded, goal-oriented teams.</p>
<p>Moving to DevOps can bring many benefits and you now know how these can be measured so that you can continuously keep improving. Next, you learned about the DevOps habits and practices that many successful DevOps teams exhibit. Mastering these yourself and with your team will enable you to go through a DevOps evaluation. All this helps continuously deliver value to your users.</p>
<p>In the next chapter, we will discuss <strong class="bold">Site Reliability Engineering</strong> (<strong class="bold">SRE</strong>) and how it complements DevOps for managing the reliability and scalability of your application.</p>
<h1 id="_idParaDest-32"><a id="_idTextAnchor031"/>Self-practice exercise</h1>
<p>Make use of the concepts presented in this chapter to complete the following activities:</p>
<ol>
<li value="1">Identify 2-3 DevOps-related metrics that may be important for your team.</li>
<li>For each metric, identify the DevOps practices that apply.</li>
<li>Define the current baseline for these metrics and list the areas of improvement.</li>
</ol>
<h1 id="_idParaDest-33"><a id="_idTextAnchor032"/>Questions</h1>
<p>As we conclude, here is a list of questions for you to test your knowledge regarding this chapter’s material. You can find the answers in the <em class="italic">Assessments</em> section:</p>
<ol>
<li value="1">True or false: Development and operations departments often have conflicting goals.</li>
<li>True or false: The seven DevOps practices discussed in this chapter are unrelated and one can be easily practiced without the other.</li>
<li>Which of the following is not a part of the five stages of DevOps evolution?<ol><li>Normalizing the technology stack</li><li>Automating infrastructure delivery </li><li>Standardizing and reducing variability</li><li>Hiring dedicated automation teams</li></ol></li>
<li>What is fastlaning?</li>
<li>Describe in your own words, in a few lines, what the essence of DevOps is.</li>
</ol>
<h1 id="_idParaDest-34"><a id="_idTextAnchor033"/>Further reading</h1>
<p>There are many other resources that you may find helpful to learn more about DevOps culture and the DevOps way of thinking. Some of them are as follows:</p>
<ul>
<li><em class="italic">The Phoenix Project</em>, by <em class="italic">Gene Kim</em>, <em class="italic">Kevin Behr</em>, and <em class="italic">George Spafford</em>.</li>
<li><em class="italic">Effective DevOps</em>, by <em class="italic">Jennifer Davis</em> and <em class="italic">Katherine Daniels</em>.</li>
<li><em class="italic">Accelerate</em>, by <em class="italic">Nicole Forsgren</em>, <em class="italic">Jez Humble</em>, and <em class="italic">Gene Kim</em>.</li>
<li><em class="italic">Interview with Sam Guckenheimer</em>, available at <a href="https://devops.com/11626/">https://devops.com/11626/</a>.</li>
<li><em class="italic">Microsoft Case Study on their DevOps Journey</em>, available at <a href="http://stories.visualstudio.com/devops/">http://stories.visualstudio.com/devops/</a>.</li>
<li>The <em class="italic">2018 State of DevOps Report</em>, available at <a href="http://info.puppet.com/Eficode-Puppet-State-of-DevOps-Report.xhtml">http://info.puppet.com/Eficode-Puppet-State-of-DevOps-Report.xhtml</a>.</li>
<li>More information on assessing existing development processes can be found at <a href="https://docs.microsoft.com/en-us/learn/modules/assess-your-development-process/index">https://docs.microsoft.com/en-us/learn/modules/assess-your-development-process/index</a>.</li>
<li>More information about different Agile approaches and how to support them using Azure Boards can be found at <a href="https://docs.microsoft.com/en-us/learn/modules/choose-an-agile-approach/index">https://docs.microsoft.com/en-us/learn/modules/choose-an-agile-approach/index</a>.</li>
</ul>
</div>
<div>
<div id="_idContainer010">
</div>
</div>
</div></body></html>