<html><head></head><body>
		<div id="_idContainer070">
			<h1 id="_idParaDest-53" class="chapter-number"><a id="_idTextAnchor053"/><st c="0">3</st></h1>
			<h1 id="_idParaDest-54"><a id="_idTextAnchor054"/><st c="2">Implementing Security in the Plan Phase of DevOps</st></h1>
			<p><st c="51">The </st><strong class="bold"><st c="56">plan</st></strong><st c="60"> phase of DevOps focuses on gathering</st><a id="_idIndexMarker159"/><st c="97"> requirements and feedback from key stakeholders and customers, producing an evolving product roadmap that prioritizes key requirements, and designing a flexible software architecture. </st><st c="282">Implementing DevSecOps for this phase should focus on security challenges that can be addressed before the developers start writing code! </st><st c="420">Activities in this phase should include implementing an agile threat modeling process to identify design-level security issues earlier and implementing security training for </st><span class="No-Break"><st c="594">your teams.</st></span></p>
			<p><st c="605">In this chapter, we will cover what works when you’re looking to implement a continuous threat modeling process. </st><st c="719">We will also discuss the different maturity levels of a secure code-to-cloud training program. </st><st c="814">By the end of this chapter, you will have gained a solid understanding of the following </st><span class="No-Break"><st c="902">key areas:</st></span></p>
			<ul>
				<li><st c="912">The challenges of traditional threat modeling </st><span class="No-Break"><st c="959">in DevSecOps</st></span></li>
				<li><st c="971">How to implement an agile threat modeling process in a </st><span class="No-Break"><st c="1027">DevSecOps workflow</st></span></li>
				<li><st c="1045">How to implement threat modeling using the Microsoft Threat </st><span class="No-Break"><st c="1106">Modeling Tool</st></span></li>
				<li><st c="1119">The maturity levels of continuous secure </st><span class="No-Break"><st c="1161">code-to-cloud training</st></span></li>
			</ul>
			<p><st c="1183">These topics will equip you with important knowledge and strategies for prioritizing security right from the very beginning of the DevOps life cycle. </st><st c="1334">Let’s </st><span class="No-Break"><st c="1340">dive in!</st></span></p>
			<h1 id="_idParaDest-55"><a id="_idTextAnchor055"/><st c="1348">Technical requirements</st></h1>
			<p><st c="1371">To follow along with the instructions in this chapter, you will need </st><span class="No-Break"><st c="1441">the following:</st></span></p>
			<ul>
				<li><st c="1455">A PC with an </st><span class="No-Break"><st c="1469">internet connection</st></span></li>
				<li><st c="1488">An active </st><span class="No-Break"><st c="1499">Azure subscription</st></span></li>
			</ul>
			<h1 id="_idParaDest-56"><a id="_idTextAnchor056"/><st c="1517">Understanding DevSecOps in the planning phase</st></h1>
			<p class="author-quote"><st c="1563">Prevention is better than cure</st></p>
			<p><st c="1594">We live in a world</st><a id="_idIndexMarker160"/><st c="1613"> where many organizations</st><a id="_idIndexMarker161"/><st c="1638"> value their software more than their physical infrastructure. </st><st c="1701">Industry giants such as Amazon, Netflix, Airbnb, and Uber have transformed their sectors with innovative software platforms, changing how we read, watch movies, travel, and commute. </st><st c="1883">For these organizations and most modern companies, their key operations do not depend on the physical buildings they own, but on the software, they have developed to offer their services </st><span class="No-Break"><st c="2070">to users.</st></span></p>
			<p><st c="2079">Despite the critical role that software systems play, many organizations only focus on functionality and stability when planning them. </st><st c="2215">Security often becomes a secondary concern that is addressed much later after the development work has started. </st><st c="2327">As we discussed in </st><a href="B19710_02.xhtml#_idTextAnchor039"><span class="No-Break"><em class="italic"><st c="2346">Chapter 2</st></em></span></a><st c="2355">, this approach does not scale well in a DevOps workflow. </st><st c="2413">This late consideration of security can be partly attributed to development and operations teams lacking the necessary expertise to effectively assess and prioritize risks and then plan risk mitigation at </st><span class="No-Break"><st c="2618">early stages.</st></span></p>
			<p><st c="2631">This is where DevSecOps comes into play. </st><st c="2673">It encourages continuous collaboration between development, operations, and security teams right from the start – during the planning phase. </st><st c="2814">The goal is to make security a central design principle of all software that is created! </st><st c="2903">DevSecOps promotes a collective effort to develop a </st><em class="italic"><st c="2955">security-by-design</st></em><st c="2973"> mindset within all teams that are involved in creating and running software. </st><st c="3051">To achieve these goals, organizations can implement several approaches. </st><st c="3123">Two common ones are threat modeling and continuous </st><span class="No-Break"><st c="3174">security training.</st></span></p>
			<h1 id="_idParaDest-57"><a id="_idTextAnchor057"/><st c="3192">Understanding threat modeling and its benefits</st></h1>
			<p><st c="3239">A threat is a possible event</st><a id="_idIndexMarker162"/><st c="3268"> that might take advantage of weaknesses in an application’s design or system architecture, resulting in undesirable consequences. </st><st c="3399">Anyone interacting with an application, whether from within or outside an organization, can be a source of such events. </st><st c="3519">As technologies evolve, the number of threats grows. </st><st c="3572">To prevent threats from exploiting system flaws, threat modeling methods can be applied in the design phase to inform </st><span class="No-Break"><st c="3690">defensive measures.</st></span></p>
			<p><st c="3709">Threat modeling</st><a id="_idIndexMarker163"/><st c="3725"> is a structured approach to identifying potential threats and vulnerabilities in software and system designs. </st><st c="3836">Once found, we can prioritize them according to probabilities and make a plan of mitigations that we can put in place to stop or reduce the effects of </st><span class="No-Break"><st c="3987">these threats.</st></span></p>
			<p><st c="4001">While threat modeling</st><a id="_idIndexMarker164"/><st c="4023"> can be done at any point, it is best integrated in the planning phase, before the code is written, when the software architecture is being decided. </st><st c="4172">This way, potential security issues can be identified and addressed early on, reducing the need for a much costlier fix later. </st><st c="4299">Implementing threat modeling in the planning phase also helps in instilling a culture of prevention and facilitates proactive architectural decisions that minimize the number and impact of threats. </st><st c="4497">Just like civil and automotive engineers have processes to plan safety features before constructing a building or a car, threat modeling ensures that we think about security right from the start of </st><span class="No-Break"><st c="4695">creating software.</st></span></p>
			<p><st c="4713">Once we have a threat model, we can update and improve it at any time as the software evolves. </st><st c="4809">This approach is good because it allows us to keep track of how software and system changes </st><span class="No-Break"><st c="4901">affect it.</st></span></p>
			<h2 id="_idParaDest-58"><a id="_idTextAnchor058"/><st c="4911">Traditional threat modeling frameworks</st></h2>
			<p><st c="4950">Threat modeling is not a new concept</st><a id="_idIndexMarker165"/><st c="4987"> in the field of software design. </st><st c="5021">As far back as the 1990s, security professionals have been concerned with identifying and mitigating threats in software systems. </st><st c="5151">The concept of threat modeling gained significant attention with the publication of the book </st><em class="italic"><st c="5244">Threat Modeling</st></em><st c="5259">, by Frank Swiderski and Window Snyder in 2004. </st><st c="5307">The book introduced the concept of threat modeling and provided guidance on how to incorporate it into the software development </st><span class="No-Break"><st c="5435">life cycle.</st></span></p>
			<p><st c="5446">Over the years, threat modeling has evolved and matured, with several methodologies and frameworks</st><a id="_idIndexMarker166"/><st c="5545"> being developed</st><a id="_idIndexMarker167"/><st c="5561"> to assist in the process. </st><st c="5588">Some</st><a id="_idIndexMarker168"/><st c="5592"> well-known threat modeling approaches include Microsoft’s </st><strong class="bold"><st c="5651">Spoofing, Tampering, Repudiation, Information disclosure, Denial of service, Elevation of privilege</st></strong><st c="5750"> (</st><strong class="bold"><st c="5752">STRIDE</st></strong><st c="5758">) model, the </st><strong class="bold"><st c="5772">Operationally Critical Threat, Asset, and Vulnerability Evaluation</st></strong><st c="5838"> (</st><strong class="bold"><st c="5840">OCTAVE</st></strong><st c="5846">) framework, and the </st><strong class="bold"><st c="5868">Process for Attack Simulation and Threat Analysis</st></strong><st c="5917"> (</st><span class="No-Break"><strong class="bold"><st c="5919">PASTA</st></strong></span><span class="No-Break"><st c="5924">) framework.</st></span></p>
			<p><st c="5937">There is no one-size-fits-all threat-modeling method; organizations usually select an approach based on their project’s specific requirements. </st><st c="6081">Each framework offers a unique perspective and focus. </st><st c="6135">Some prioritize people-centric considerations, while others focus on risk identification (risk-centric) or privacy mitigation (privacy-centric). </st><st c="6280">Combining these methods can sometimes provide a more comprehensive and balanced understanding of potential threats. </st><st c="6396">Let’s review some of the more </st><span class="No-Break"><st c="6426">common frameworks.</st></span></p>
			<p class="callout-heading"><st c="6444">12 threat modeling methods</st></p>
			<p class="callout"><st c="6471">Nataliya Shevchenko, a senior member of the Carnegie Mellon University Software Engineering Institute, wrote an interesting article on 12 threat modeling methods. </st><st c="6635">It is an interesting</st><a id="_idIndexMarker169"/><st c="6655"> read that you can access at </st><a href="https://insights.sei.cmu.edu/blog/threat-modeling-12-available-methods/"><st c="6684">https://insights.sei.cmu.edu/blog/threat-modeling-12-available-methods/</st></a><st c="6755">. A more detailed whitepaper can be accessed </st><span class="No-Break"><st c="6800">here: </st></span><a href="https://resources.sei.cmu.edu/asset_files/WhitePaper/2018_019_001_524597.pdf"><span class="No-Break"><st c="6806">https://resources.sei.cmu.edu/asset_files/WhitePaper/2018_019_001_524597.pdf</st></span></a><span class="No-Break"><st c="6882">.</st></span></p>
			<p><st c="6883">It is not our goal to cover </st><a id="_idIndexMarker170"/><st c="6912">conventional threat modeling methodologies – for that, we suggest a comprehensive book like </st><em class="italic"><st c="7004">Threat Modeling: Designing for Security</st></em><st c="7043">, by </st><em class="italic"><st c="7048">Adam Shostack</st></em><st c="7061"> – our primary focus is on threat modeling from a DevSecOps perspective. </st><st c="7134">Nonetheless, later in this chapter, we will utilize the Microsoft Threat Modeling Tool, which uses the STRIDE framework for </st><span class="No-Break"><st c="7258">its analysis.</st></span></p>
			<h2 id="_idParaDest-59"><a id="_idTextAnchor059"/><st c="7271">Threat modeling in DevSecOps</st></h2>
			<p><st c="7300">Traditional threat </st><a id="_idIndexMarker171"/><st c="7320">modeling frameworks</st><a id="_idIndexMarker172"/><st c="7339"> such as STRIDE, PASTA, and DREAD can pose challenges when integrated into a DevOps workflow due to their intensive nature. </st><st c="7463">They are </st><em class="italic"><st c="7472">slow</st></em><st c="7476">, </st><em class="italic"><st c="7478">skill-intensive</st></em><st c="7493"> (requiring a high level of expertise), and </st><em class="italic"><st c="7537">time-intensive</st></em><st c="7551"> (requiring considerable time investment). </st><st c="7594">It is not uncommon to spend days or even weeks building</st><a id="_idIndexMarker173"/><st c="7649"> extensive threat models with </st><strong class="bold"><st c="7679">data flow diagrams</st></strong><st c="7697"> (</st><strong class="bold"><st c="7699">DFDs</st></strong><st c="7703">) and information entry points, categorizing data, identifying applicable threats, and documenting </st><span class="No-Break"><st c="7803">mitigating controls.</st></span></p>
			<p><st c="7823">However, in a dynamic DevOps environment where software updates are frequent (daily or weekly) or new microservices are regularly introduced, traditional threat models may not be the most efficient. </st><st c="8023">We end up in a situation where, in an attempt to integrate security at the beginning of the design phase, we have introduced an early-stage bottleneck! </st><st c="8175">Many teams within the organization already view security as slowing down their processes and this simply confirms that perception. </st><st c="8306">The reality is that creating a comprehensive threat model to introduce every microservice or software update is simply </st><span class="No-Break"><st c="8425">not practical!</st></span></p>
			<p><st c="8439">Given the fast-paced nature of a DevOps workflow, there is a need to transform threat modeling into a lightweight, rapid, and incremental process. </st><st c="8587">This is not a new idea but, in our practices, we are seeing more organizations starting to adopt modern agile threat modeling approaches that prioritize flexibility and efficiency. </st><st c="8768">These approaches break down the threat modeling process into smaller, manageable</st><a id="_idIndexMarker174"/><st c="8848"> chunks that can happen continuously. </st><st c="8886">Mozilla’s </st><strong class="bold"><st c="8896">Rapid Risk Assessment</st></strong><st c="8917"> (</st><strong class="bold"><st c="8919">RRA</st></strong><st c="8922">) and Slack’s </st><strong class="bold"><st c="8937">goSDL</st></strong><st c="8942"> models offer great resources</st><a id="_idIndexMarker175"/><st c="8971"> to facilitate a more lightweight approach to threat modeling and risk assessment. </st><st c="9054">These frameworks focus on quickly assessing risks to data in software design and changes. </st><st c="9144">They are designed</st><a id="_idIndexMarker176"/><st c="9161"> to be quick, with assessments</st><a id="_idIndexMarker177"/><st c="9191"> typically completed within 30 to </st><span class="No-Break"><st c="9225">60 minutes.</st></span></p>
			<h2 id="_idParaDest-60"><a id="_idTextAnchor060"/><st c="9236">Understanding the Mozilla RRA process</st></h2>
			<p><st c="9274">Mozilla’s RRA</st><a id="_idIndexMarker178"/><st c="9288"> has a 30-minute risk</st><a id="_idIndexMarker179"/><st c="9309"> assessment questionnaire available at </st><a href="https://docs.google.com/document/d/1uD-wofmkXBz5BVq49JQQqC3DnE77vwOPDSbHdWIve9s/edit"><st c="9348">https://docs.google.com/document/d/1uD-wofmkXBz5BVq49JQQqC3DnE77vwOPDSbHdWIve9s/edit</st></a><st c="9432">. When teams introduce a new service, they can utilize this questionnaire in collaboration with the security team to evaluate the service threat scenarios and risk rating. </st><st c="9604">The RRA model has four distinct phases, as shown in </st><span class="No-Break"><em class="italic"><st c="9656">Figure 3</st></em></span><span class="No-Break"><em class="italic"><st c="9664">.1</st></em></span><span class="No-Break"><st c="9666">:</st></span></p>
			<div>
				<div id="_idContainer037" class="IMG---Figure">
					<img src="image/B19710_03_1.jpg" alt="Figure 3.1 – The four phases of Mozilla’s RRA"/><st c="9668"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="9892">Figure 3.1 – The four phases of Mozilla’s RRA</st></p>
			<p><st c="9937">We will cover these phases</st><a id="_idIndexMarker180"/><st c="9964"> in this section. </st><st c="9982">However, the initial step is having a clear process for requesting an RRA session. </st><st c="10065">Let’s kick off </st><span class="No-Break"><st c="10080">with that!</st></span></p>
			<h3><st c="10090">Defining an RRA request process</st></h3>
			<p><st c="10122">To introduce RRA </st><a id="_idIndexMarker181"/><st c="10140">within an organization, there needs to be a straightforward and well-communicated process for product and engineering teams to follow. </st><st c="10275">They should be able to easily request an RRA for new services or subsequent software design changes (such as collecting new data or processing). </st><st c="10420">This could be a simple request form that is readily accessible in the planning tools commonly used by developers in the organization, whether it’s JIRA, Confluence, Azure Boards, or GitHub projects. </st><st c="10619">Alongside this form, there should be an up-to-date availability calendar for booking RRA sessions. </st><st c="10718">Additionally, there should be a short list of details to bring to the session, including service information, software architecture diagrams, data flow diagrams, and service </st><span class="No-Break"><st c="10892">map diagrams.</st></span></p>
			<p><st c="10905">Of course, this process should not be defined in isolation. </st><st c="10966">Collaboration is essential. </st><st c="10994">By involving leaders and members from both the engineering and security teams, we can guarantee that relevant perspectives are considered. </st><st c="11133">Their collective insights, expertise, and feedback can ensure that the determined process aligns with existing team practices and will be well-received. </st><em class="italic"><st c="11286">The end goal is to simplify the RRA request process for teams</st></em><st c="11347">. This may also be embedded into the standard organization procedure for requesting new projects or repositories within Azure DevOps or </st><span class="No-Break"><st c="11483">GitHub organizations.</st></span></p>
			<p><st c="11504">A good starting point is to form a secure development life cycle team dedicated to evaluating and improving the state of the life cycle. </st><st c="11642">Strategically, this forces the correct stakeholders in the room and embeds security in the process from the start. </st><st c="11757">The team could be made up of members from various teams</st><a id="_idIndexMarker182"/><st c="11812"> in the organization, including DevSecOps leads, </st><strong class="bold"><st c="11861">security operations</st></strong><st c="11880"> (</st><strong class="bold"><st c="11882">SOC</st></strong><st c="11885">), Cloud Centre of Excellence, developers (since all decisions made by this team affect developers, they should have a voice), security champions, infrastructure architects, and management. </st><st c="12076">This will require executive buy-in </st><span class="No-Break"><st c="12111">and sponsorship.</st></span></p>
			<p><st c="12127">It is important to recognize</st><a id="_idIndexMarker183"/><st c="12156"> that adopting agile threat modeling techniques such as the RRA does not negate the value of conventional threat modeling approaches. </st><st c="12290">A balanced strategy would involve providing engineering teams with the flexibility to choose. </st><st c="12384">They could either opt for a comprehensive threat model when working on major software projects, such as an upcoming flagship product, or decide on an RRA for smaller-scale tasks, such as building a microservice or modifying software design, as illustrated in </st><span class="No-Break"><em class="italic"><st c="12643">Figure 3</st></em></span><span class="No-Break"><em class="italic"><st c="12651">.2</st></em></span><span class="No-Break"><st c="12653">:</st></span></p>
			<div>
				<div id="_idContainer038" class="IMG---Figure">
					<img src="image/B19710_03_2.jpg" alt="Figure 3.2 – Sample process for requesting a threat modeling session"/><st c="12655"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="12734">Figure 3.2 – Sample process for requesting a threat modeling session</st></p>
			<p class="callout-heading"><st c="12802">Note</st></p>
			<p class="callout"><st c="12807">It is beneficial to clearly define what qualifies as a </st><em class="italic"><st c="12863">major software project</st></em><st c="12885"> in your organization to prevent confusion. </st><st c="12929">While the definition might evolve as the security team becomes more familiar with the organization’s software delivery processes, it is always better to begin with a specific guideline. </st><st c="13115">Starting with clarity and adjusting as necessary is more effective than being vague in </st><span class="No-Break"><st c="13202">your guidelines.</st></span></p>
			<p><st c="13218">Now, let’s review the </st><span class="No-Break"><st c="13241">RRA phases.</st></span></p>
			<h3><st c="13252">Phase 1 – Information gathering (5 minutes)</st></h3>
			<p><st c="13296">The objective of this phase</st><a id="_idIndexMarker184"/><st c="13324"> is to gain a high-level understanding of the service. </st><st c="13379">There is no need to get into the implementation details of the service at this time; those specifics can be addressed later. </st><st c="13504">During this phase, the security team should spend more time listening and learning than speaking. </st><st c="13602">The emphasis should be on asking meaningful questions to understand the design, perspectives, and plans of the product/engineering teams. </st><st c="13740">The team should actively engage in the discussion, take good notes, and collect all relevant </st><span class="No-Break"><st c="13833">document links.</st></span></p>
			<p><st c="13848">It is important to ensure there’s a comfortable and open environment where the product/engineering team feels safe to share information about the service and their working design without the fear of being judged. </st><st c="14062">Here are some context-oriented questions to ask to gain more understanding of </st><span class="No-Break"><st c="14140">the service:</st></span></p>
			<ul>
				<li><strong class="bold"><st c="14152">Ownership of </st></strong><span class="No-Break"><strong class="bold"><st c="14166">the service</st></strong></span><span class="No-Break"><st c="14177">:</st></span><ul><li><st c="14179">Who within the company is responsible for </st><span class="No-Break"><st c="14221">the service?</st></span></li><li><st c="14233">Who are the developers that will be working </st><span class="No-Break"><st c="14278">on it?</st></span></li><li><st c="14284">Who will oversee its operations once it’s up </st><span class="No-Break"><st c="14330">and running?</st></span></li><li><st c="14342">Who will respond to the service if a security </st><span class="No-Break"><st c="14389">incident occurs?</st></span></li></ul></li>
				<li><strong class="bold"><st c="14405">Audience of </st></strong><span class="No-Break"><strong class="bold"><st c="14418">the service</st></strong></span><span class="No-Break"><st c="14429">:</st></span><ul><li><st c="14431">Is it designed for internal use, or is it open to the public or designated partners </st><span class="No-Break"><st c="14515">and vendors?</st></span></li><li><st c="14527">Will public users have direct access? </st><st c="14566">Which parts of the service will they have </st><span class="No-Break"><st c="14608">access to?</st></span></li><li><st c="14618">Will internal users have direct access? </st><st c="14659">Which parts of the service will they have </st><span class="No-Break"><st c="14701">access to?</st></span></li><li><st c="14711">Will partners/vendors have direct access? </st><st c="14754">Which parts of the service will they have </st><span class="No-Break"><st c="14796">access to?</st></span></li><li><st c="14806">Which parts of the service will each audience have access to? </st><st c="14869">The service map diagram and architecture diagram may help define </st><span class="No-Break"><st c="14934">this quickly.</st></span></li></ul></li>
				<li><strong class="bold"><st c="14947">Main </st></strong><span class="No-Break"><strong class="bold"><st c="14953">user stories</st></strong></span><span class="No-Break"><st c="14965">:</st></span><ul><li><st c="14967">What are the main </st><span class="No-Break"><st c="14985">user stories?</st></span></li><li><st c="14998">How will users use </st><span class="No-Break"><st c="15018">the service?</st></span></li></ul></li>
				<li><strong class="bold"><st c="15030">How will the service </st></strong><span class="No-Break"><strong class="bold"><st c="15052">be built?</st></strong></span><span class="No-Break"><st c="15061">:</st></span><ul><li><st c="15063">Is there a </st><span class="No-Break"><st c="15074">design document?</st></span></li><li><st c="15090">Are there </st><span class="No-Break"><st c="15101">design diagrams?</st></span></li><li><st c="15117">Which services will it use for </st><span class="No-Break"><st c="15149">storing data?</st></span></li><li><st c="15162">Which external services will it </st><span class="No-Break"><st c="15195">communicate with?</st></span></li><li><st c="15212">How will it communicate</st><a id="_idIndexMarker185"/><st c="15236"> with external services? </st><st c="15261">Direct API calls? </st><span class="No-Break"><st c="15279">Message queues?</st></span></li></ul></li>
			</ul>
			<p><st c="15294">Now, let’s look at </st><span class="No-Break"><st c="15314">phase 2.</st></span></p>
			<h3><st c="15322">Phase 2 – Building a data dictionary (5-10 minutes)</st></h3>
			<p><st c="15374">This phase is about examining</st><a id="_idIndexMarker186"/><st c="15404"> the data that the service will handle. </st><st c="15444">The objective at this stage is to understand the data that the service will collect, process, or access. </st><st c="15549">Some questions to consider include what kind of data will be gathered or accessed, and where will it be stored? </st><st c="15661">As details emerge, the security team must document this information and label it with their respective </st><span class="No-Break"><em class="italic"><st c="15764">classification levels</st></em></span><span class="No-Break"><st c="15785">.</st></span></p>
			<p><st c="15786">Speaking of data classification levels, this needs to be defined at the company level (not per project). </st><st c="15892">It also needs to be determined and signed off by the executives, security, compliance, and </st><span class="No-Break"><st c="15983">legal teams.</st></span></p>
			<p class="callout-heading"><st c="15995">Note</st></p>
			<p class="callout"><st c="16000">For recommendations and best practices for defining an organization-wide data classification level, please refer</st><a id="_idIndexMarker187"/><st c="16113"> to this </st><span class="No-Break"><st c="16122">document: </st></span><a href="https://learn.microsoft.com/en-us/compliance/assurance/assurance-create-data-classification-framework"><span class="No-Break"><st c="16132">https://learn.microsoft.com/en-us/compliance/assurance/assurance-create-data-classification-framework</st></span></a><span class="No-Break"><st c="16233">.</st></span></p>
			<p><st c="16234">In the example shown in </st><span class="No-Break"><em class="italic"><st c="16259">Figure 3</st></em></span><em class="italic"><st c="16267">.3</st></em><st c="16269">, the organization has defined four levels of </st><span class="No-Break"><st c="16315">data classification:</st></span></p>
			<div>
				<div id="_idContainer039" class="IMG---Figure">
					<img src="image/B19710_03_3.jpg" alt="Figure 3.3 – Sample organizational-level data classification"/><st c="16335"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="16616">Figure 3.3 – Sample organizational-level data classification</st></p>
			<p><st c="16676">The sample data dictionary</st><a id="_idIndexMarker188"/><st c="16703"> shown in </st><span class="No-Break"><em class="italic"><st c="16713">Figure 3</st></em></span><em class="italic"><st c="16721">.4</st></em><st c="16723"> provides an overview of four types of data associated with an online shopping platform, </st><strong class="bold"><st c="16812">eShopOnWeb</st></strong><st c="16822">, and their relative sensitivity or classification level. </st><st c="16880">This helps in making informed decisions about data handling, storage, and security. </st><st c="16964">Please note that this is merely an illustrative example. </st><st c="17021">Your approach to defining the data dictionary may be different and </st><span class="No-Break"><st c="17088">that’s okay.</st></span></p>
			<div>
				<div id="_idContainer040" class="IMG---Figure">
					<img src="image/B19710_03_4.jpg" alt="Figure 3.4 – Sample data dictionary"/><st c="17100"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="17328">Figure 3.4 – Sample data dictionary</st></p>
			<p><st c="17363">Next, we’ll turn our attention to </st><span class="No-Break"><st c="17398">phase 3.</st></span></p>
			<h3><st c="17406">Phase 3 – Identifying threat scenarios (5-10 minutes)</st></h3>
			<p><st c="17460">This phase aims to identify</st><a id="_idIndexMarker189"/><st c="17488"> how things could go wrong and to rank them by assigning risk ratings. </st><st c="17559">The Mozilla RRA process uses the CIA model, focusing on confidentiality, integrity, </st><span class="No-Break"><st c="17643">and availability:</st></span></p>
			<ul>
				<li><strong class="bold"><st c="17660">Confidentiality</st></strong><st c="17676">: What happens if the data classification boundary highlighted in the data dictionary </st><span class="No-Break"><st c="17763">is broken?</st></span></li>
				<li><strong class="bold"><st c="17773">Integrity</st></strong><st c="17783">: What happens if the data is accessed and modified </st><span class="No-Break"><st c="17836">without authorization?</st></span></li>
				<li><strong class="bold"><st c="17858">Availability</st></strong><st c="17871">: What happens if the data is deleted or maliciously encrypted or if the service </st><span class="No-Break"><st c="17953">is overwhelmed?</st></span></li>
			</ul>
			<p><st c="17968">For each of these domains, we should be noting down four things: threat vectors, impact, likelihood, and risk rating. </st><st c="18087">Let’s look </st><span class="No-Break"><st c="18098">at them:</st></span></p>
			<ul>
				<li><strong class="bold"><st c="18106">Threat vectors</st></strong><st c="18121">: These describe possible ways an attacker might compromise the domain areas (confidentiality, integrity, and availability). </st><st c="18247">When thinking of threats, think of the most severe yet realistic issues, rather than extremely unlikely events. </st><st c="18359">For example, we wouldn’t worry about all the servers in the Azure cloud crashing simultaneously since this is a highly </st><span class="No-Break"><st c="18478">unlikely scenario.</st></span></li>
				<li><strong class="bold"><st c="18496">Impact</st></strong><st c="18503">: This examines the potential effect that the threat will have on the organization if it happens. </st><st c="18602">Ideally, impact levels should be defined at the organizational level, involving the appropriate stakeholders in the process (business executives, legal team, compliance team, and product owners). </st><st c="18798">It should be defined well in advance of the RRA meeting. </st><st c="18855">Engaging the right parties is crucial as security engineers may tend to underestimate the risk tolerance of businesses. </st><st c="18975">In their bid to err on the side of caution, security engineers sometimes rank low-impact threats as high or even critical. </st><st c="19098">This can dilute the importance of genuinely critical issues, resulting in a situation where everything seems vital, thereby diminishing the urgency of each issue. </st><st c="19261">At a minimum, business executives should review and approve the </st><span class="No-Break"><st c="19325">impact levels.</st></span><p class="list-inset"><st c="19339">When determining impact levels, several factors should be considered: impact on business revenue; impact on users of the service; impact on the organization’s public reputation; and possible legal implications. </st><st c="19551">However, keep in mind that not every factor will be relevant for each threat scenario that you come </st><span class="No-Break"><st c="19651">up with.</st></span></p><p class="list-inset"><st c="19659">For example, to determine the impact</st><a id="_idIndexMarker190"/><st c="19696"> on business revenue, begin by looking at past earnings. </st><st c="19753">Rate any threat that could potentially affect 20% of the revenue as </st><em class="italic"><st c="19821">critical</st></em><st c="19829">. This benchmark can then be refined based on feedback from business representatives. </st><st c="19915">When considering the impact on users, the projected number of users can be a helpful metric. </st><span class="No-Break"><em class="italic"><st c="20008">Figure 3</st></em></span><em class="italic"><st c="20016">.5</st></em><st c="20018"> provides an example of an organizational impact rating, detailing conditions for </st><span class="No-Break"><st c="20100">each tier:</st></span></p></li>
			</ul>
			<div>
				<div id="_idContainer041" class="IMG---Figure">
					<img src="image/B19710_03_5.jpg" alt="Figure 3.5 – Sample organization-level impact levels"/><st c="20110"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="20507">Figure 3.5 – Sample organization-level impact levels</st></p>
			<ul>
				<li><strong class="bold"><st c="20559">Likelihood</st></strong><st c="20570">: This evaluates the efforts required for the threat to happen. </st><st c="20635">This can be difficult to assess. </st><st c="20668">Given a vulnerable design flaw, how do you assess or predict if it is going to be exploited? </st><st c="20761">Also, the dynamics of threat likelihood are ever-changing. </st><st c="20820">A flaw that is </st><em class="italic"><st c="20835">difficult to exploit</st></em><st c="20855"> today might become tomorrow’s </st><em class="italic"><st c="20886">easy-to-exploit</st></em><st c="20901"> flaw as attacker </st><span class="No-Break"><st c="20919">capabilities improve.</st></span><p class="list-inset"><st c="20940">Some threats have a low or very low likelihood because they require significant efforts to materialize. </st><st c="21045">These types of threats can only be achieved by highly motivated adversaries with lots of resources, such as nation states. </st><st c="21168">This rules out opportunist adversaries and reduces the chance of </st><span class="No-Break"><st c="21233">their occurrence.</st></span></p></li>
				<li><strong class="bold"><st c="21250">Risk rating</st></strong><st c="21262">: This involves quantifying</st><a id="_idIndexMarker191"/><st c="21290"> the risk by combining the impact and likelihood of the threat. </st><st c="21354">The risk rating helps in prioritizing the threats so that resources can be allocated effectively to manage and mitigate the highest-rated risks first. </st><st c="21505">Threats with the highest impact and highest likelihood should receive the highest possible risk rating: </st><em class="italic"><st c="21609">critical</st></em><st c="21617">. There should only be a few threat vectors that fall into </st><span class="No-Break"><st c="21676">this category.</st></span><p class="author-quote"><em class="italic"><st c="21690">Risk rating = </st></em><em class="italic"><st c="21705">I</st></em><em class="italic"><st c="21706">mpact * </st></em><em class="italic"><st c="21714">L</st></em><em class="italic"><st c="21715">ikelihood</st></em></p></li>
			</ul>
			<div>
				<div id="_idContainer042" class="IMG---Figure">
					<img src="image/B19710_03_6.jpg" alt="Figure 3.6 – Sample risk rating level"/><st c="21724"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="21763">Figure 3.6 – Sample risk rating level</st></p>
			<p><span class="No-Break"><em class="italic"><st c="21800">Figure 3</st></em></span><em class="italic"><st c="21809">.7</st></em><st c="21811"> shows an example of the output</st><a id="_idIndexMarker192"/><st c="21842"> from this phase. </st><st c="21860">In this example, three threat scenarios were identified (one in each security domain area). </st><st c="21952">The first threat has a risk rating of MEDIUM because exposing the </st><strong class="bold"><st c="22018">UserAddress</st></strong><st c="22029"> information is considered by the business as being of LOW impact and the likelihood of this happening is HIGH. </st><st c="22141">The second threat has a risk rating of CRITICAL because infecting other users by changing the files that we serve them could be a compliance violation (CRITICAL impact), affect a large percentage of our user base (CRITICAL impact), and result in sustained reputational damage (CRITICAL impact). </st><st c="22436">Also, the likelihood of this happening is HIGH as we frequently see this in </st><span class="No-Break"><st c="22512">data breaches.</st></span></p>
			<div>
				<div id="_idContainer043" class="IMG---Figure">
					<img src="image/B19710_03_7.jpg" alt="Figure 3.7 – Sample risk rating document"/><st c="22526"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="22784">Figure 3.7 – Sample risk rating document</st></p>
			<p><st c="22824">Now, let’s look at </st><span class="No-Break"><st c="22844">phase 4.</st></span></p>
			<h3><st c="22852">Phase 4 – Making security recommendations (5 minutes)</st></h3>
			<p><st c="22906">This phase aims to propose strategies</st><a id="_idIndexMarker193"/><st c="22944"> to address the identified threat scenarios. </st><st c="22989">It is recommended to prioritize the highest-ranked threats from the </st><span class="No-Break"><st c="23057">previous phase.</st></span></p>
			<p><span class="No-Break"><em class="italic"><st c="23072">Figure 3</st></em></span><em class="italic"><st c="23081">.8</st></em><st c="23083"> shows an example of the output for </st><span class="No-Break"><st c="23119">this phase:</st></span></p>
			<div>
				<div id="_idContainer044" class="IMG---Figure">
					<img src="image/B19710_03_8.jpg" alt="Figure 3.8 – Sample risk recommendation document"/><st c="23130"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="23545">Figure 3.8 – Sample risk recommendation document</st></p>
			<p><st c="23593">Remember that every organization inherently assumes some risks. </st><st c="23658">Businesses do not make profits by avoiding risks altogether. </st><st c="23719">The role of security is not to prevent organizations from taking risks but rather to identify, assess, and offer insights about these risks. </st><st c="23860">The primary role here is to educate stakeholders (product owners, developers, managers) about existing risks in the service design, the potential consequences, and possible mitigations. </st><st c="24046">This ensures that businesses can make well-informed decisions. </st><st c="24109">While the security team might occasionally feel the urge to declare certain risk levels as intolerable, it might not always be justified, especially in scenarios where the business benefits from being first to market. </st><st c="24327">Instead of making decisions, the goal is to enlighten others about </st><span class="No-Break"><st c="24394">the risks.</st></span></p>
			<p><st c="24404">In this section, we covered threat modeling in the planning phase and its benefits. </st><st c="24489">Now that we’ve concluded the theory, we’ll get into some hands-on activities and learn threat modeling from a </st><span class="No-Break"><st c="24599">practical perspective.</st></span></p>
			<h1 id="_idParaDest-61"><a id="_idTextAnchor061"/><st c="24621">Hands-on exercise 1 – Provisioning the lab VM</st></h1>
			<p><st c="24667">To follow along with the exercises</st><a id="_idIndexMarker194"/><st c="24702"> in this chapter and the rest of this book, we will provision a lab </st><strong class="bold"><st c="24770">virtual machine</st></strong><st c="24785"> (</st><strong class="bold"><st c="24787">VM</st></strong><st c="24789">) in Azure to work with. </st><st c="24815">We have prepared an Azure ARM template in this book’s GitHub repository for this purpose. </st><st c="24905">The template will deploy a VM and a bastion resource in the specified Azure region, as shown in </st><span class="No-Break"><em class="italic"><st c="25001">Figure 3</st></em></span><span class="No-Break"><em class="italic"><st c="25009">.9</st></em></span><span class="No-Break"><st c="25011">:</st></span></p>
			<div>
				<div id="_idContainer045" class="IMG---Figure">
					<img src="image/B19710_03_9.jpg" alt="Figure 3.9 – Resources deployed via the provided ARM template"/><st c="25013"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="25104">Figure 3.9 – Resources deployed via the provided ARM template</st></p>
			<p><st c="25165">Here are the tasks </st><a id="_idIndexMarker195"/><st c="25185">that we will complete in </st><span class="No-Break"><st c="25210">this exercise:</st></span></p>
			<ul>
				<li><strong class="bold"><st c="25224">Task 1 –</st></strong><st c="25233">Initialize template deployment in GitHub; complete parameters and deploy the template </st><span class="No-Break"><st c="25320">to Azure</st></span></li>
				<li><strong class="bold"><st c="25328">Task 2 –</st></strong><st c="25337"> Connect to the lab VM using </st><span class="No-Break"><st c="25366">Azure Bastion</st></span></li>
			</ul>
			<p><st c="25379">Let’s get </st><span class="No-Break"><st c="25390">into this!</st></span></p>
			<h2 id="_idParaDest-62"><a id="_idTextAnchor062"/><st c="25400">Task 1 – Initializing the template deployment to Azure</st></h2>
			<p><st c="25455">The steps</st><a id="_idIndexMarker196"/><st c="25465"> are </st><span class="No-Break"><st c="25470">as</st></span><span class="No-Break"><a id="_idIndexMarker197"/></span><span class="No-Break"><st c="25472"> follows:</st></span></p>
			<ol>
				<li><st c="25481">Open a web browser and browse </st><span class="No-Break"><st c="25512">to </st></span><a href="https://github.com/PacktPublishing/DevSecOps-for-Azure/tree/main/chapter-3"><span class="No-Break"><st c="25515">https://github.com/PacktPublishing/DevSecOps-for-Azure/tree/main/chapter-3</st></span></a><span class="No-Break"><st c="25589">.</st></span><p class="list-inset"><st c="25590">This link will open the GitHub repository that contains the ARM template for deploying the resources that </st><span class="No-Break"><st c="25697">we need.</st></span></p></li>
				<li><st c="25705">In the GitHub repository that opens, click on </st><strong class="bold"><st c="25752">Deploy </st></strong><span class="No-Break"><strong class="bold"><st c="25759">to Azure</st></strong></span><span class="No-Break"><st c="25767">:</st></span></li>
			</ol>
			<div>
				<div id="_idContainer046" class="IMG---Figure">
					<img src="image/B19710_03_10.jpg" alt="Figure 3.10 – Starting the template deployment"/><st c="25769"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="26004">Figure 3.10 – Starting the template deployment</st></p>
			<ol>
				<li value="3"><st c="26050">If you’re prompted</st><a id="_idIndexMarker198"/><st c="26069"> to authenticate, sign in to the Azure portal</st><a id="_idIndexMarker199"/><st c="26114"> with your administrative username </st><span class="No-Break"><st c="26149">and password.</st></span></li>
				<li><st c="26162">In the </st><strong class="bold"><st c="26170">Custom Deployment</st></strong><st c="26187"> window, configure </st><span class="No-Break"><st c="26206">the following:</st></span><ul><li><strong class="bold"><st c="26220">Subscription</st></strong><st c="26233">: Select the subscription that you want to deploy the </st><span class="No-Break"><st c="26288">resources into.</st></span></li><li><strong class="bold"><st c="26303">Reso</st><a id="_idTextAnchor063"/><st c="26308">urce group</st></strong><st c="26319">: </st><strong class="bold"><st c="26322">Create new</st></strong><st c="26332"> | </st><strong class="bold"><st c="26335">Name</st></strong><st c="26339">: </st><strong class="source-inline"><st c="26342">DevSecOps-Book-RG</st></strong><st c="26359"> | </st><span class="No-Break"><strong class="bold"><st c="26362">OK</st></strong></span><span class="No-Break"><st c="26364">.</st></span></li><li><strong class="bold"><st c="26365">Region</st></strong><st c="26372">: Select a region for the resource group and all the resources that will </st><span class="No-Break"><st c="26446">be created.</st></span></li><li><strong class="bold"><st c="26457">Vm Size</st></strong><st c="26465">: </st><strong class="bold"><st c="26468">Standard_D4s_v3</st></strong><st c="26483"> (or select any VM size that is available in your region, as specified in </st><a href="B19710_01.xhtml#_idTextAnchor016"><span class="No-Break"><em class="italic"><st c="26557">Chapter 1</st></em></span></a><span class="No-Break"><st c="26566">).</st></span></li><li><strong class="bold"><st c="26569">Admin </st></strong><span class="No-Break"><strong class="bold"><st c="26576">Username</st></strong></span><span class="No-Break"><st c="26584">: </st></span><span class="No-Break"><strong class="source-inline"><st c="26587">azureuser</st></strong></span></li><li><strong class="bold"><st c="26596">Admin Password</st></strong><st c="26611">: Enter a complex password. </st><st c="26640">This will be the password</st><a id="_idIndexMarker200"/><st c="26665"> for the deployed VM</st><a id="_idIndexMarker201"/><st c="26685"> instance. </st><st c="26696">The supplied password must be at least eight characters long with at least a lowercase character, a numeric digit, and a special character. </st><st c="26836">Make a note of this as it will be needed for later exercises in this chapter and </st><span class="No-Break"><st c="26917">this book.</st></span></li><li><st c="26927">Select </st><strong class="bold"><st c="26935">Review + </st></strong><span class="No-Break"><strong class="bold"><st c="26944">create</st></strong></span><span class="No-Break"><st c="26950">:</st></span></li></ul></li>
			</ol>
			<div>
				<div id="_idContainer047" class="IMG---Figure">
					<img src="image/B19710_03_11.jpg" alt="Figure 3.11 – Filling in the template parameters"/><st c="26952"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="27849">Figure 3.11 – Filling in the template parameters</st></p>
			<ol>
				<li value="5"><st c="27897">After the</st><a id="_idIndexMarker202"/><st c="27907"> validation </st><a id="_idIndexMarker203"/><st c="27919">has passed, </st><span class="No-Break"><st c="27931">click </st></span><span class="No-Break"><strong class="bold"><st c="27937">Create</st></strong></span><span class="No-Break"><st c="27943">.</st></span></li>
			</ol>
			<p><st c="27944">Wait for the deployment</st><a id="_idIndexMarker204"/><st c="27968"> to complete before moving</st><a id="_idIndexMarker205"/><st c="27994"> to the next exercise. </st><st c="28017">The deployment could take up to 20 minutes to complete, so feel free to get a glass of water or a cup of coffee </st><span class="No-Break"><st c="28129">before proceeding.</st></span></p>
			<h2 id="_idParaDest-63"><a id="_idTextAnchor064"/><st c="28147">Task 2 – Connecting to the lab VM using Azure Bastion</st></h2>
			<p><st c="28201">This task aims to use the Bastion service </st><a id="_idIndexMarker206"/><st c="28244">to establish a connection</st><a id="_idIndexMarker207"/><st c="28269"> with the lab VM. </st><st c="28287">Follow </st><span class="No-Break"><st c="28294">these steps:</st></span></p>
			<ol>
				<li><st c="28306">On the Azure portal home page, in the search box, type </st><strong class="source-inline"><st c="28362">DevSecOps-LabVM</st></strong><st c="28377"> and select the </st><strong class="bold"><st c="28393">DevSecOps-LabVM</st></strong><st c="28408"> VM when </st><span class="No-Break"><st c="28417">it appears:</st></span></li>
			</ol>
			<div>
				<div id="_idContainer048" class="IMG---Figure">
					<img src="image/B19710_03_12.jpg" alt="Figure 3.12 – Selecting the DevSecOps-LabVM VM"/><st c="28428"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="28660">Figure 3.12 – Selecting the DevSecOps-LabVM VM</st></p>
			<ol>
				<li value="2"><st c="28706">In the </st><strong class="bold"><st c="28714">DevSecOpsLabVM</st></strong><st c="28728"> window, in the </st><strong class="bold"><st c="28744">Connect</st></strong><st c="28751"> section, click on </st><strong class="bold"><st c="28770">Connect</st></strong><st c="28777">, then click on </st><strong class="bold"><st c="28793">Go </st></strong><span class="No-Break"><strong class="bold"><st c="28796">to Bastion</st></strong></span><span class="No-Break"><st c="28806">:</st></span></li>
			</ol>
			<div>
				<div id="_idContainer049" class="IMG---Figure">
					<img src="image/B19710_03_13.jpg" alt="Figure 3.13 – Selecting the option to connect to the VM using Bastion"/><st c="28808"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="29598">Figure 3.13 – Selecting the option to connect to the VM using Bastion</st></p>
			<ol>
				<li value="3"><st c="29667">In the </st><strong class="bold"><st c="29675">DevSecOps-LabVM</st></strong><st c="29690"> | </st><strong class="bold"><st c="29693">Bastion</st></strong><st c="29700"> window, configure</st><a id="_idIndexMarker208"/> <span class="No-Break"><st c="29718">the following:</st></span><ul><li><span class="No-Break"><strong class="bold"><st c="29733">Username</st></strong></span><span class="No-Break"><st c="29742">: </st></span><span class="No-Break"><strong class="source-inline"><st c="29745">azureuser</st></strong></span></li><li><strong class="bold"><st c="29754">Authentication </st></strong><span class="No-Break"><strong class="bold"><st c="29770">Type</st></strong></span><span class="No-Break"><st c="29774">: </st></span><span class="No-Break"><strong class="bold"><st c="29777">Password</st></strong></span></li><li><strong class="bold"><st c="29785">Password</st></strong><st c="29794">: Enter the password</st><a id="_idIndexMarker209"/><st c="29815"> that you specified during the </st><span class="No-Break"><st c="29846">template deployment</st></span></li><li><strong class="bold"><st c="29865">Open in new browser </st></strong><span class="No-Break"><strong class="bold"><st c="29886">tab</st></strong></span><span class="No-Break"><st c="29889">: Selected</st></span></li></ul><p class="list-inset"><st c="29900">Then, </st><span class="No-Break"><st c="29907">click </st></span><span class="No-Break"><strong class="bold"><st c="29913">Connect</st></strong></span><span class="No-Break"><st c="29920">.</st></span></p><p class="list-inset"><st c="29921">If prompted, enable a pop-up window for the connection to be successful. </st><st c="29995">Also, click to allow clipboard access </st><span class="No-Break"><st c="30033">if prompted.</st></span></p></li>
			</ol>
			<div>
				<div id="_idContainer050" class="IMG---Figure">
					<img src="image/B19710_03_14.jpg" alt="Figure 3.14 – Configuring the VM credentials and initiating a connection to the VM"/><st c="30045"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="30218">Figure 3.14 – Configuring the VM credentials and initiating a connection to the VM</st></p>
			<p><st c="30300">Now that you</st><a id="_idIndexMarker210"/><st c="30313"> have access</st><a id="_idIndexMarker211"/><st c="30325"> to the lab VM, let’s conduct threat modeling on a </st><span class="No-Break"><st c="30376">sample application.</st></span></p>
			<h1 id="_idParaDest-64"><a id="_idTextAnchor065"/><st c="30395">Hands-on exercise 2 – Performing threat modeling of an e-commerce application</st></h1>
			<p><st c="30473">To complete this hands-on exercise, you need</st><a id="_idIndexMarker212"/><st c="30518"> to have completed the previous hands-on exercise in this chapter. </st><st c="30585">In this exercise, we will conduct a threat modeling exercise using the Microsoft Threat Modeling Tool, a fundamental</st><a id="_idIndexMarker213"/><st c="30701"> component of the Microsoft </st><strong class="bold"><st c="30729">Security Development Lifecycle</st></strong><st c="30759"> (</st><strong class="bold"><st c="30761">SDL</st></strong><st c="30764">). </st><st c="30768">This approach involves creating an application architecture diagram, using the tool to identify possible threats and information on how to mitigate the threats. </st><st c="30929">For this and subsequent exercises, we will use the eShop e-commerce application. </st><span class="No-Break"><em class="italic"><st c="31010">Figure 3</st></em></span><em class="italic"><st c="31018">.15</st></em><st c="31021"> shows the reference architecture of the application. </st><st c="31075">There are two distinct versions of this application: a monolithic version, eShopOnWeb (accessible at </st><a href="https://github.com/dotnet-architecture/eShopOnWeb"><st c="31176">https://github.com/dotnet-architecture/eShopOnWeb</st></a><st c="31225">), and a microservices version designed for container deployment, eShopOnContainers (accessible at </st><a href="https://github.com/dotnet-architecture/eShopOnContainers"><st c="31325">https://github.com/dotnet-architecture/eShopOnContainers</st></a><st c="31381">). </st><st c="31385">Both versions will be referenced in </st><span class="No-Break"><st c="31421">this book.</st></span></p>
			<div>
				<div id="_idContainer051" class="IMG---Figure">
					<img src="image/B19710_03_15.jpg" alt="Figure 3.15 – eShopOnContainers reference architecture"/><st c="31431"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="31967">Figure 3.15 – eShopOnContainers reference architecture</st></p>
			<p><st c="32021">Here are the tasks that we will complete in </st><span class="No-Break"><st c="32066">this exercise:</st></span></p>
			<ul>
				<li><strong class="bold"><st c="32080">Task 1 –</st></strong><st c="32089"> Downloading and installing the Microsoft Threat Modeling Tool </st></li>
				<li><strong class="bold"><st c="32152">Task 2 –</st></strong><st c="32160"> Creating a threat model diagram for the eShop application </st></li>
				<li><strong class="bold"><st c="32219">Task 3 –</st></strong><st c="32227"> Running a threat analysis on the model </st></li>
			</ul>
			<p><st c="32267">Let’s get into practical </st><span class="No-Break"><st c="32292">threat modeling.</st></span></p>
			<h2 id="_idParaDest-65"><a id="_idTextAnchor066"/><st c="32308">Task 1 – Downloading and installing the Microsoft Threat Modeling Tool</st></h2>
			<ol>
				<li><st c="32379">On the lab VM, open</st><a id="_idIndexMarker214"/><st c="32399"> a web browser</st><a id="_idIndexMarker215"/><st c="32413"> and browse to </st><a href="https://aka.ms/threatmodelingtool"><st c="32428">https://aka.ms/threatmodelingtool</st></a><st c="32461">. This will automatically download the installer in the </st><span class="No-Break"><strong class="source-inline"><st c="32517">Downloads</st></strong></span><span class="No-Break"><st c="32526"> folder.</st></span></li>
				<li><st c="32534">Open the </st><strong class="source-inline"><st c="32544">Downloads</st></strong><st c="32553"> folder and double-click the </st><span class="No-Break"><strong class="source-inline"><st c="32582">TMT7</st></strong></span><span class="No-Break"><st c="32586"> application:</st></span></li>
			</ol>
			<div>
				<div id="_idContainer052" class="IMG---Figure">
					<img src="image/B19710_03_16.jpg" alt="Figure 3.16 – TMT7 application to be installed"/><st c="32599"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="32798">Figure 3.16 – TMT7 application to be installed</st></p>
			<ol>
				<li value="3"><st c="32844">When prompted, click </st><strong class="bold"><st c="32866">Install</st></strong><st c="32873"> to install</st><a id="_idIndexMarker216"/><st c="32884"> the tool. </st><st c="32895">If a warning appears</st><a id="_idIndexMarker217"/><st c="32915"> to install .NET Framework, click </st><strong class="bold"><st c="32949">Yes</st></strong><st c="32952"> to install the </st><span class="No-Break"><st c="32968">required version:</st></span></li>
			</ol>
			<div>
				<div id="_idContainer053" class="IMG---Figure">
					<img src="image/B19710_03_17.jpg" alt="Figure 3.17 – Installing the tool"/><st c="32985"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="33461">Figure 3.17 – Installing the tool</st></p>
			<p><st c="33494">Once the tool has been installed, move to </st><span class="No-Break"><st c="33537">task 2.</st></span></p>
			<p class="callout-heading"><st c="33544">Note</st></p>
			<p class="callout"><st c="33549">In this hands-on lab, we will use the Microsoft Threat Modeling Tool. </st><st c="33620">Note that there are newer tools</st><a id="_idIndexMarker218"/><st c="33651"> available, such as Threats Manager </st><span class="No-Break"><st c="33687">Studio (</st></span><a href="https://threatsmanager.com"><span class="No-Break"><st c="33695">https://threatsmanager.com</st></span></a><span class="No-Break"><st c="33722">).</st></span></p>
			<h2 id="_idParaDest-66"><a id="_idTextAnchor067"/><st c="33725">Task 2 – Creating a threat model diagram for the eShop application</st></h2>
			<ol>
				<li><st c="33792">On the lab VM, click</st><a id="_idIndexMarker219"/><st c="33813"> the </st><strong class="bold"><st c="33818">Start</st></strong><st c="33823"> button, then</st><a id="_idIndexMarker220"/><st c="33836"> click </st><strong class="bold"><st c="33843">Microsoft Threat Modeling Tool</st></strong><st c="33873"> to </st><span class="No-Break"><st c="33877">open it:</st></span></li>
			</ol>
			<div>
				<div id="_idContainer054" class="IMG---Figure">
					<img src="image/B19710_03_18.jpg" alt="Figure 3.18 – Opening the Microsoft Threat Modeling tool"/><st c="33885"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="34204">Figure 3.18 – Opening the Microsoft Threat Modeling tool</st></p>
			<ol>
				<li value="2"><st c="34260">If you’re prompted to accept the terms and conditions, click </st><strong class="bold"><st c="34322">I Agree</st></strong><st c="34329">. If you’re prompted to participate</st><a id="_idIndexMarker221"/><st c="34364"> in the customer </st><a id="_idIndexMarker222"/><st c="34381">experience, feel free to deselect </st><span class="No-Break"><st c="34415">this option.</st></span></li>
				<li><st c="34427">In the </st><strong class="bold"><st c="34435">Microsoft Threat Modeling Tool</st></strong><st c="34465"> area, in the </st><strong class="bold"><st c="34479">Template for New Models</st></strong><st c="34502"> section, ensure that </st><strong class="bold"><st c="34524">Azure Threat Model Template</st></strong><st c="34551"> is selected, then click </st><strong class="bold"><st c="34576">Create </st></strong><span class="No-Break"><strong class="bold"><st c="34583">A Model</st></strong></span><span class="No-Break"><st c="34590">:</st></span></li>
			</ol>
			<div>
				<div id="_idContainer055" class="IMG---Figure">
					<img src="image/B19710_03_19.jpg" alt="Figure 3.19 – The Microsoft Threat Modeling Tool landing page"/><st c="34592"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="35006">Figure 3.19 – The Microsoft Threat Modeling Tool landing page</st></p>
			<ol>
				<li value="4"><st c="35067">This opens the window for creating a new model. </st><st c="35116">Review the available stencils on the right. </st><st c="35160">Based on the template you select while creating the model, the types of stencils change. </st><st c="35249">The stencil categories available under </st><strong class="bold"><st c="35288">Azure Threat Model Template</st></strong><st c="35315"> are </st><strong class="bold"><st c="35320">Generic Data Flow</st></strong><st c="35337">, </st><strong class="bold"><st c="35339">Generic Data Store</st></strong><st c="35357">, </st><strong class="bold"><st c="35359">Generic External Interactor</st></strong><st c="35386">, </st><strong class="bold"><st c="35388">Generic Process</st></strong><st c="35403">, </st><strong class="bold"><st c="35405">Generic Trust Border Boundary</st></strong><st c="35434">, and </st><strong class="bold"><st c="35440">Generic Trust Line Boundary</st></strong><st c="35467">. You can expand </st><span class="No-Break"><st c="35484">each category:</st></span></li>
			</ol>
			<div>
				<div id="_idContainer056" class="IMG---Figure">
					<img src="image/B19710_03_20.jpg" alt="Figure 3.20 – Reviewing the stencil categories and stencils"/><st c="35498"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="35915">Figure 3.20 – Reviewing the stencil categories and stencils</st></p>
			<p class="list-inset"><st c="35974">As mentioned earlier, we will be using the eShop application for the exercises. </st><st c="36055">We want to identify threats and add mitigations from the planning phase. </st><st c="36128">We will be creating the model based on the flow of the data known as </st><span class="No-Break"><st c="36197">the DFD.</st></span></p>
			<ol>
				<li value="5"><st c="36205">Use the following stencils</st><a id="_idIndexMarker223"/><st c="36232"> to draw two trust boundary</st><a id="_idIndexMarker224"/><st c="36259"> zones, as shown in </st><span class="No-Break"><em class="italic"><st c="36279">Figure 3</st></em></span><em class="italic"><st c="36287">.21</st></em><st c="36290">. You will need to drag each stencil into the </st><span class="No-Break"><st c="36336">diagram board:</st></span><ul><li><strong class="bold"><st c="36350">Generic Trust Border Boundary</st></strong><st c="36380"> | </st><strong class="bold"><st c="36383">Remote </st></strong><span class="No-Break"><strong class="bold"><st c="36390">User Zone</st></strong></span></li><li><strong class="bold"><st c="36399">Generic Trust Border Boundary</st></strong><st c="36429"> | </st><strong class="bold"><st c="36432">Azure </st></strong><span class="No-Break"><strong class="bold"><st c="36438">Trust Boundary</st></strong></span><span class="No-Break"><st c="36452">:</st></span></li></ul></li>
			</ol>
			<div>
				<div id="_idContainer057" class="IMG---Figure">
					<img src="image/B19710_03_21.jpg" alt="Figure 3.21 – Drawing the trust boundaries"/><st c="36454"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="37022">Figure 3.21 – Drawing the trust boundaries</st></p>
			<ol>
				<li value="6"><st c="37064">Use the following stencils</st><a id="_idIndexMarker225"/><st c="37091"> to add the</st><a id="_idIndexMarker226"/> <strong class="bold"><st c="37102">Browser</st></strong><st c="37110"> and </st><strong class="bold"><st c="37115">Mobile Client</st></strong><st c="37128"> stencils to the </st><span class="No-Break"><st c="37145">diagram board:</st></span><ul><li><strong class="bold"><st c="37159">Generic External Interactor</st></strong><st c="37187"> | </st><span class="No-Break"><strong class="bold"><st c="37190">Browser</st></strong></span></li><li><strong class="bold"><st c="37197">Generic External Interactor</st></strong><st c="37225"> | </st><span class="No-Break"><strong class="bold"><st c="37228">Mobile Client</st></strong></span><span class="No-Break"><st c="37241">:</st></span></li></ul></li>
			</ol>
			<div>
				<div id="_idContainer058" class="IMG---Figure">
					<img src="image/B19710_03_22.jpg" alt="Figure 3.22 – Adding the Browser and Mobile Client stencils"/><st c="37243"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="37692">Figure 3.22 – Adding the Browser and Mobile Client stencils</st></p>
			<ol>
				<li value="7"><st c="37751">Add the following stencils to the </st><strong class="bold"><st c="37786">Azure Trust Boundary</st></strong><st c="37806"> section on the </st><span class="No-Break"><st c="37822">diagram board:</st></span><ul><li><strong class="bold"><st c="37836">Generic Process</st></strong><st c="37852"> | </st><span class="No-Break"><strong class="bold"><st c="37855">Web Application</st></strong></span></li><li><strong class="bold"><st c="37870">Generic Process</st></strong><st c="37886"> | </st><span class="No-Break"><strong class="bold"><st c="37889">Web API</st></strong></span></li><li><strong class="bold"><st c="37896">Generic Data Store</st></strong><st c="37915"> | </st><strong class="bold"><st c="37918">Azure </st></strong><span class="No-Break"><strong class="bold"><st c="37924">SQL Database</st></strong></span></li><li><strong class="bold"><st c="37936">Generic Data Store</st></strong><st c="37955"> | </st><strong class="bold"><st c="37958">Azure </st></strong><span class="No-Break"><strong class="bold"><st c="37964">Redis Cache</st></strong></span><span class="No-Break"><st c="37975">:</st></span></li></ul></li>
			</ol>
			<div>
				<div id="_idContainer059" class="IMG---Figure">
					<img src="image/B19710_03_23.jpg" alt="Figure 3.23 – Adding the needed Generic Process and Generic Data Store stencils"/><st c="37977"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="38181">Figure 3.23 – Adding the needed Generic Process and Generic Data Store stencils</st></p>
			<ol>
				<li value="8"><st c="38260">You can also right-click</st><a id="_idIndexMarker227"/><st c="38285"> each stencil, then click</st><a id="_idIndexMarker228"/><st c="38310"> on </st><strong class="bold"><st c="38314">Properties</st></strong><st c="38324"> to rename them and set other </st><span class="No-Break"><st c="38354">configurable attributes:</st></span></li>
			</ol>
			<div>
				<div id="_idContainer060" class="IMG---Figure">
					<img src="image/B19710_03_24.jpg" alt="Figure 3.24 – Renaming the stencils (optional)"/><st c="38378"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="38917">Figure 3.24 – Renaming the stencils (optional)</st></p>
			<ol>
				<li value="9"><st c="38963">Finally, use the following stencils</st><a id="_idIndexMarker229"/><st c="38999"> to define </st><a id="_idIndexMarker230"/><st c="39010">the connections, as shown in </st><span class="No-Break"><em class="italic"><st c="39039">Figure 3</st></em></span><span class="No-Break"><em class="italic"><st c="39047">.25</st></em></span><span class="No-Break"><st c="39050">:</st></span><ul><li><strong class="bold"><st c="39052">Generic Data Flow</st></strong><st c="39069"> | </st><span class="No-Break"><strong class="bold"><st c="39072">Request</st></strong></span></li><li><strong class="bold"><st c="39079">Generic Data Flow</st></strong><st c="39097"> | </st><span class="No-Break"><strong class="bold"><st c="39100">Response</st></strong></span></li></ul><p class="list-inset"><st c="39108">The connections to create are </st><span class="No-Break"><st c="39139">as follows:</st></span></p><ul><li><st c="39150">Request/Response connection between the Browser and the </st><span class="No-Break"><st c="39207">eShop WebApp</st></span></li><li><st c="39219">Request/Response connection between the eShop WebApp and the </st><span class="No-Break"><st c="39281">Web API</st></span></li><li><st c="39288">Request/Response connection between the Mobile Client and the </st><span class="No-Break"><st c="39351">Web API</st></span></li><li><st c="39358">Request/Response connection between the Web API and the </st><span class="No-Break"><st c="39415">Ordering Microservice</st></span></li><li><st c="39436">Request/Response connection between the Web API and the </st><span class="No-Break"><st c="39493">Basket Microservice</st></span></li><li><st c="39512">Request/Response connection between the Ordering Microservice and the Azure </st><span class="No-Break"><st c="39589">SQL Database</st></span></li><li><st c="39601">Request/Response connection</st><a id="_idIndexMarker231"/><st c="39629"> between the Basket Microservice</st><a id="_idIndexMarker232"/><st c="39661"> and the Azure </st><span class="No-Break"><st c="39676">Redis Cache:</st></span></li></ul></li>
			</ol>
			<div>
				<div id="_idContainer061" class="IMG---Figure">
					<img src="image/B19710_03_25.jpg" alt="Figure 3.25 – Simple eShop threat model"/><st c="39688"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="39911">Figure 3.25 – Simple eShop threat model</st></p>
			<p><st c="39950">At this point, we can move on to </st><span class="No-Break"><st c="39984">task 3.</st></span></p>
			<h2 id="_idParaDest-67"><a id="_idTextAnchor068"/><st c="39991">Task 3 – Running a threat analysis on the model</st></h2>
			<p><st c="40039">Follow </st><span class="No-Break"><st c="40047">these steps:</st></span></p>
			<ol>
				<li><st c="40059">To analyze the threats</st><a id="_idIndexMarker233"/><st c="40082"> in the model, navigate to </st><strong class="bold"><st c="40109">View</st></strong><st c="40113"> at the top, then choose </st><strong class="bold"><st c="40138">Analysis View</st></strong><st c="40151"> from the icon </st><span class="No-Break"><st c="40166">menu selection:</st></span></li>
			</ol>
			<div>
				<div id="_idContainer062" class="IMG---Figure">
					<img src="image/B19710_03_26.jpg" alt="Figure 3.26 – Opening Analysis View"/><st c="40181"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="40518">Figure 3.26 – Opening Analysis View</st></p>
			<ol>
				<li value="2"><st c="40553">A list of potential threats based on the model will be displayed below the diagram. </st><st c="40638">These </st><a id="_idIndexMarker234"/><st c="40644">are categorized based on the </st><strong class="bold"><st c="40673">STRIDE</st></strong><st c="40679"> model. </st><st c="40687">Each threat in the list is assigned a severity level and information about its possible mitigation is also added. </st><st c="40801">You can</st><a id="_idIndexMarker235"/><st c="40808"> click on the </st><strong class="bold"><st c="40822">Export CSV</st></strong><st c="40832"> button to export </st><span class="No-Break"><st c="40850">the list:</st></span></li>
			</ol>
			<div>
				<div id="_idContainer063" class="IMG---Figure">
					<img src="image/B19710_03_27.jpg" alt="Figure 3.27 – Threat List"/><st c="40859"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="42717">Figure 3.27 – Threat List</st></p>
			<ol>
				<li value="3"><st c="42742">Go through the list of threats generated and possible mitigations. </st><st c="42810">You can update the status of each threat to </st><strong class="bold"><st c="42854">Not Started</st></strong><st c="42865">, </st><strong class="bold"><st c="42867">Needs Investigation</st></strong><st c="42886">, </st><strong class="bold"><st c="42888">Not Applicable</st></strong><st c="42902">, </st><span class="No-Break"><st c="42904">or </st></span><span class="No-Break"><strong class="bold"><st c="42907">Mitigated</st></strong></span><span class="No-Break"><st c="42916">.</st></span></li>
				<li><st c="42917">Once you’ve gone through the list, create a report by selecting </st><strong class="bold"><st c="42982">Reports</st></strong><st c="42989">, then click </st><strong class="bold"><st c="43002">Create </st></strong><span class="No-Break"><strong class="bold"><st c="43009">Full Report</st></strong></span><span class="No-Break"><st c="43020">:</st></span></li>
			</ol>
			<div>
				<div id="_idContainer064" class="IMG---Figure">
					<img src="image/B19710_03_28.jpg" alt="Figure 3.28 – Creating a full report"/><st c="43022"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="43132">Figure 3.28 – Creating a full report</st></p>
			<ol>
				<li value="5"><st c="43168">When prompted</st><a id="_idIndexMarker236"/><st c="43182"> about </st><strong class="bold"><st c="43189">Custom Threat Properties</st></strong><st c="43213">, leave all options selected and click </st><span class="No-Break"><strong class="bold"><st c="43252">Generate Report</st></strong></span><span class="No-Break"><st c="43267">:</st></span></li>
			</ol>
			<div>
				<div id="_idContainer065" class="IMG---Figure">
					<img src="image/B19710_03_29.jpg" alt="Figure 3.29 – Generating the full report"/><st c="43269"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="43405">Figure 3.29 – Generating the full report</st></p>
			<ol>
				<li value="6"><st c="43445">In the </st><strong class="bold"><st c="43453">Select a file name to save the current threat model full report</st></strong><st c="43516"> area, select </st><strong class="bold"><st c="43530">Desktop</st></strong><st c="43537"> and</st><a id="_idIndexMarker237"/><st c="43541"> set </st><strong class="bold"><st c="43546">File name</st></strong><st c="43555"> to </st><strong class="source-inline"><st c="43559">eShopApp</st></strong><st c="43567">. </st><span class="No-Break"><st c="43569">Click </st></span><span class="No-Break"><strong class="bold"><st c="43575">Save</st></strong></span><span class="No-Break"><st c="43579">:</st></span></li>
			</ol>
			<div>
				<div id="_idContainer066" class="IMG---Figure">
					<img src="image/B19710_03_30.jpg" alt="Figure 3.30 – Saving the report on the desktop"/><st c="43581"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="43869">Figure 3.30 – Saving the report on the desktop</st></p>
			<ol>
				<li value="7"><st c="43915">When you’re prompted to open the file, </st><span class="No-Break"><st c="43955">click </st></span><span class="No-Break"><strong class="bold"><st c="43961">OK</st></strong></span><span class="No-Break"><st c="43963">:</st></span></li>
			</ol>
			<div>
				<div id="_idContainer067" class="IMG---Figure">
					<img src="image/B19710_03_31.jpg" alt="Figure 3.31 – Opening the report"/><st c="43965"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="44210">Figure 3.31 – Opening the report</st></p>
			<ol>
				<li value="8"><st c="44242">Review </st><span class="No-Break"><st c="44250">the</st></span><span class="No-Break"><a id="_idIndexMarker238"/></span><span class="No-Break"><st c="44253"> report:</st></span></li>
			</ol>
			<div>
				<div id="_idContainer068" class="IMG---Figure">
					<img src="image/B19710_03_32.jpg" alt="Figure 3.32 – Reviewing the report that was generated"/><st c="44261"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="44493">Figure 3.32 – Reviewing the report that was generated</st></p>
			<p><st c="44546">Congratulations! </st><st c="44564">You’ve successfully</st><a id="_idIndexMarker239"/><st c="44583"> used the Microsoft Threat Modeling Tool to analyze threats in an application model. </st><st c="44668">Next, we will explore security training, an important part of the DevOps </st><span class="No-Break"><st c="44741">planning phase.</st></span></p>
			<h1 id="_idParaDest-68"><a id="_idTextAnchor069"/><st c="44756">Implementing continuous code-to-cloud security training</st></h1>
			<p class="author-quote"><st c="44812">A mature secure code-to-cloud training program should focus on addressing gaps in the understanding of the learners.</st></p>
			<p><st c="44929">In any conversation</st><a id="_idIndexMarker240"/><st c="44949"> on security, it is easy to get lost in the technical details and tools. </st><st c="45022">Yet, it is the human element and organizational culture, more than any technological shortcoming, which presents the most significant risks to an organization’s security. </st><st c="45193">The </st><em class="italic"><st c="45197">Cost of a Data Breach Report 2022</st></em><st c="45230">, by IBM, reveals that 21% of data breaches were due to human errors. </st><st c="45300">These errors are unintentional lapses by employees or contractors, proving that even the most sophisticated software security program can be compromised by simple human mistakes. </st><st c="45479">For example, a developer might commit production credentials to code or install a malicious</st><a id="_idIndexMarker241"/><st c="45570"> extension in </st><span class="No-Break"><st c="45584">their IDE.</st></span></p>
			<p class="callout-heading"><st c="45594">IBM Cost of a Data Breach Report 2022</st></p>
			<p class="callout"><a href="https://www.ibm.com/downloads/cas/3R8N1DZJ"><span class="No-Break"><st c="45632">https://www.ibm.com/downloads/cas/3R8N1DZJ</st></span></a><span class="No-Break"><st c="45675">.</st></span></p>
			<p><st c="45676">To address this risk in a DevSecOps process, organizations should implement a continuous secure code-to-cloud training program with clear goals and success measurements. </st><st c="45847">Software engineers who have received secure coding training are less prone to introducing security flaws, more knowledgeable about supportive tools, and tend to design software architecture that </st><span class="No-Break"><st c="46042">prioritizes security.</st></span></p>
			<p><st c="46063">However, many organizations</st><a id="_idIndexMarker242"/><st c="46091"> that have implemented some form of secure code training are not finding success with them! </st><st c="46183">Our goal in this chapter is not to guide you through topics that your training program should include (there are many articles and documents covering that). </st><st c="46340">Instead, we will highlight the risks and challenges that we’ve observed in our practices that often lead to </st><span class="No-Break"><st c="46448">limited success.</st></span></p>
			<p><st c="46464">From my (David) experience consulting in this domain, I have observed that organizations with a higher level of maturity, characterized by a clear vision of desired outcomes and a well-defined strategy, typically achieve more favorable results. </st><span class="No-Break"><em class="italic"><st c="46710">Figure 3</st></em></span><em class="italic"><st c="46718">.33</st></em><st c="46721"> illustrates five maturity levels that I have observed across </st><span class="No-Break"><st c="46783">various organizations:</st></span></p>
			<div>
				<div id="_idContainer069" class="IMG---Figure">
					<img src="image/B19710_03_33.jpg" alt="Figure 3.33 – Five levels of maturity for secure code-to-cloud training programs"/><st c="46805"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="46862">Figure 3.33 – Five levels of maturity for secure code-to-cloud training programs</st></p>
			<p><st c="46942">Let’s examine these five levels and </st><span class="No-Break"><st c="46979">their characteristics:</st></span></p>
			<ul>
				<li><strong class="bold"><st c="47001">Non-existent</st></strong><st c="47014">: This is not a phase of maturity</st><a id="_idIndexMarker243"/><st c="47048"> but a stage where the organization completely lacks a secure code-to-cloud training program. </st><st c="47142">This results in inconsistent outcomes when it comes to adhering to organizational policies or security </st><span class="No-Break"><st c="47245">best practices.</st></span></li>
				<li><strong class="bold"><st c="47260">Compliance-focused</st></strong><st c="47279">: In this maturity level, the training is designed primarily to meet specific compliance or audit requirements. </st><st c="47392">The training sessions tend to be periodic, often happening just once a year, mainly to meet audit benchmarks. </st><st c="47502">As there is no comprehensive strategy in place, adherence to security best practices and policies can </st><span class="No-Break"><st c="47604">be inconsistent.</st></span></li>
				<li><strong class="bold"><st c="47620">Awareness-focused</st></strong><st c="47638">: In this maturity level, there is a rudimentary strategy, and resources are allocated, but this remains somewhat generic. </st><st c="47762">The training revolves around universally recommended practices rather than those specific to </st><span class="No-Break"><st c="47855">the organization.</st></span></li>
				<li><strong class="bold"><st c="47872">Behavior-change-focused</st></strong><st c="47896">: In this maturity level, emphasis is placed on metric analysis to identify the major </st><em class="italic"><st c="47983">code-to-cloud</st></em><st c="47996"> risks specific to the organization. </st><st c="48033">Concurrently, behaviors that can effectively mitigate these risks are identified. </st><st c="48115">Training is then tailored to address and mold these behaviors. </st><st c="48178">Success at this level is measured by the tangible reduction in security incidents, increased employee compliance with security protocols, and consistent application of trained behaviors in </st><span class="No-Break"><st c="48367">day-to-day operations.</st></span></li>
				<li><strong class="bold"><st c="48389">Culture-change-focused</st></strong><st c="48412">: In this maturity level, the organization has gone beyond changing specific behaviors that have been identified to reshape the collective attitudes, perceptions, and beliefs regarding security throughout the entire process, from code to the cloud. </st><st c="48662">The program has the firm backing of top-tier leadership, with regular executive updates. </st><st c="48751">The success of the program is routinely reviewed, at least on an annual basis, at both individual and </st><span class="No-Break"><st c="48853">leadership levels.</st></span></li>
			</ul>
			<p><st c="48871">In conclusion, the path to a mature secure code-to-cloud training program is marked by evolving levels of organizational maturity. </st><st c="49003">It is important to prioritize people and culture over </st><span class="No-Break"><st c="49057">mere technicalities.</st></span></p>
			<h1 id="_idParaDest-69"><a id="_idTextAnchor070"/><st c="49077">Summary</st></h1>
			<p><st c="49085">In this chapter, we explored essential practices for incorporating security during the plan phase of DevOps, focusing on agile threat modeling and continuous secure code-to-cloud training. </st><st c="49275">We highlighted the challenges of traditional threat modeling in a DevSecOps environment. </st><st c="49364">To address these challenges, we outlined a way to seamlessly integrate an agile threat modeling approach, using Mozilla’s RRA as an example. </st><st c="49505">We concluded by detailing the maturity stages associated with a continuous secure code-to-cloud training framework. </st><st c="49621">This chapter has equipped you with important knowledge and strategies to prioritize security right from the planning phase of the DevOps life cycle. </st><st c="49770">Moving forward, the next chapter will address how to implement security controls in the pre-commit phase of the development workflow. </st><st c="49904">Join us as we continue this </st><span class="No-Break"><st c="49932">enlightening journey!</st></span></p>
			<h1 id="_idParaDest-70"><a id="_idTextAnchor071"/><st c="49953">Further reading</st></h1>
			<p><st c="49969">To learn more about the topics that were covered in this chapter, take a look at the </st><span class="No-Break"><st c="50055">following resources:</st></span></p>
			<ul>
				<li><em class="italic"><st c="50075">Threat Modeling: Design for Security, by </st></em><span class="No-Break"><em class="italic"><st c="50117">Adam Shostack</st></em></span></li>
				<li><em class="italic"><st c="50130">Mozilla’s Rapid Risk Assessment </st></em><span class="No-Break"><em class="italic"><st c="50163">documentation</st></em></span><span class="No-Break"><st c="50176">: </st></span><a href="https://infosec.mozilla.org/guidelines/risk/rapid_risk_assessment.html"><span class="No-Break"><st c="50179">https://infosec.mozilla.org/guidelines/risk/rapid_risk_assessment.html</st></span></a></li>
				<li><em class="italic"><st c="50249">Slack’s goSDL GitHub </st></em><span class="No-Break"><em class="italic"><st c="50271">repository</st></em></span><span class="No-Break"><st c="50281">: </st></span><a href="https://github.com/slackhq/goSDL"><span class="No-Break"><st c="50284">https://github.com/slackhq/goSDL</st></span></a></li>
				<li><em class="italic"><st c="50316">Microsoft Threat Modeling Tool feature </st></em><span class="No-Break"><em class="italic"><st c="50356">overview</st></em></span><span class="No-Break"><st c="50364">: </st></span><a href="https://learn.microsoft.com/en-us/azure/security/develop/threat-modeling-tool-feature-overview?source=recommendations"><span class="No-Break"><st c="50367">https://learn.microsoft.com/en-us/azure/security/develop/threat-modeling-tool-feature-overview?source=recommendations</st></span></a></li>
				<li><em class="italic"><st c="50484">Microsoft Secure Development </st></em><span class="No-Break"><em class="italic"><st c="50514">Lifecycle</st></em></span><span class="No-Break"><st c="50523">: </st></span><a href="https://www.microsoft.com/en-us/securityengineering/sdl"><span class="No-Break"><st c="50526">https://www.microsoft.com/en-us/securityengineering/sdl</st></span></a></li>
				<li><em class="italic"><st c="50581">Cybersecurity-Centric Business </st></em><span class="No-Break"><em class="italic"><st c="50613">Culture</st></em></span><span class="No-Break"><st c="50620">: </st></span><a href="https://www.researchgate.net/publication/371399113_The_Role_of_Organizational_Culture_in_Cybersecurity_Building_a_Security-First_Culture"><span class="No-Break"><st c="50623">https://www.researchgate.net/publication/371399113_The_Role_of_Organizational_Culture_in_Cybersecurity_Building_a_Security-First_Culture</st></span></a></li>
			</ul>
		</div>
	<div id="charCountTotal" value="50759"/></body></html>