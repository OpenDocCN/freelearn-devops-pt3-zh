<html><head></head><body>
<div id="_idContainer097">
<h1 class="chapter-number" id="_idParaDest-119"><a id="_idTextAnchor120"/><span class="koboSpan" id="kobo.1.1">7</span></h1>
<h1 id="_idParaDest-120"><a id="_idTextAnchor121"/><span class="koboSpan" id="kobo.2.1">A Practical Pipeline for Technical Release Managers</span></h1>
<p><span class="koboSpan" id="kobo.3.1">This chapter will be a little different from the rest of this book. </span><span class="koboSpan" id="kobo.3.2">In this chapter, you will be shown how to build a docker image containing a simple web application that deploys to AWS ECS using </span><span class="No-Break"><span class="koboSpan" id="kobo.4.1">GitHub Actions.</span></span></p>
<p><span class="koboSpan" id="kobo.5.1">The testing that’s involved</span><a id="_idIndexMarker455"/><span class="koboSpan" id="kobo.6.1"> with this</span><a id="_idIndexMarker456"/><span class="koboSpan" id="kobo.7.1"> exercise includes </span><strong class="bold"><span class="koboSpan" id="kobo.8.1">HTML scanning</span></strong><span class="koboSpan" id="kobo.9.1">, </span><strong class="bold"><span class="koboSpan" id="kobo.10.1">NodeJS scanning</span></strong><span class="koboSpan" id="kobo.11.1">, </span><strong class="bold"><span class="koboSpan" id="kobo.12.1">credential scanning</span></strong><span class="koboSpan" id="kobo.13.1">, and </span><strong class="bold"><span class="koboSpan" id="kobo.14.1">dependency scanning</span></strong><span class="koboSpan" id="kobo.15.1">. </span><span class="koboSpan" id="kobo.15.2">In addition to </span><strong class="bold"><span class="koboSpan" id="kobo.16.1">static application security testing </span></strong><span class="koboSpan" id="kobo.17.1">(</span><strong class="bold"><span class="koboSpan" id="kobo.18.1">SAST</span></strong><span class="koboSpan" id="kobo.19.1">), the pipeline features the use</span><a id="_idIndexMarker457"/><span class="koboSpan" id="kobo.20.1"> of OWASP</span><a id="_idIndexMarker458"/><span class="koboSpan" id="kobo.21.1"> ZAProxy, a dynamic application</span><a id="_idIndexMarker459"/><span class="koboSpan" id="kobo.22.1"> security scanner. </span><span class="koboSpan" id="kobo.22.2">Together, these quality</span><a id="_idIndexMarker460"/><span class="koboSpan" id="kobo.23.1"> checks ensure the proper implementation of the </span><strong class="bold"><span class="koboSpan" id="kobo.24.1">Document Object Model</span></strong><span class="koboSpan" id="kobo.25.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.26.1">DOM</span></strong><span class="koboSpan" id="kobo.27.1">), checking for known vulnerabilities in the code, and actively checking for security vulnerabilities in the deployed application in </span><span class="No-Break"><span class="koboSpan" id="kobo.28.1">the cloud.</span></span></p>
<p><span class="koboSpan" id="kobo.29.1">The strategy to accomplish this will be broken down into two parts. </span><span class="koboSpan" id="kobo.29.2">First, you will be shown how to provision the necessary ECS infrastructure. </span><span class="koboSpan" id="kobo.29.3">Second, you will be shown how to configure the GitHub Actions workflow that is necessary to test, build, and then deploy the Docker container to ECS. </span><span class="koboSpan" id="kobo.29.4">Together, these two exercises will culminate in your successful utilization of the fundamental concepts used in contemporary </span><span class="No-Break"><span class="koboSpan" id="kobo.30.1">application delivery.</span></span></p>
<p><span class="koboSpan" id="kobo.31.1">In this chapter, we will cover the following </span><span class="No-Break"><span class="koboSpan" id="kobo.32.1">main topics:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.33.1">Examining the </span><span class="No-Break"><span class="koboSpan" id="kobo.34.1">pipeline code</span></span></li>
<li><span class="koboSpan" id="kobo.35.1">Provisioning the </span><span class="No-Break"><span class="koboSpan" id="kobo.36.1">AWS infrastructure</span></span></li>
<li><span class="koboSpan" id="kobo.37.1">Configuring the GitHub </span><span class="No-Break"><span class="koboSpan" id="kobo.38.1">Actions workflow</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.39.1">Before we proceed with the exercises included in this chapter, it is pertinent that you review the GitHub Actions workflow file. </span><span class="koboSpan" id="kobo.39.2">Understanding a CI/CD pipeline at its lowest levels is the only way for you to fully compr</span><a id="_idTextAnchor122"/><span class="koboSpan" id="kobo.40.1">ehend all of the actions that it performs. </span><span class="koboSpan" id="kobo.40.2">Having awareness of these intricacies ensures that you gain the context needed to guarantee secure and expeditious software releases. </span><span class="koboSpan" id="kobo.40.3">This will also leave you adequately prepared to communicate each step so that you can produce a release to leadership and stakeholders. </span><span class="koboSpan" id="kobo.40.4">Simply understanding how a pipeline functions at a high level is insufficient for a DevOps </span><span class="No-Break"><span class="koboSpan" id="kobo.41.1">release manager.</span></span></p>
<p><span class="koboSpan" id="kobo.42.1">You can find the entire GitHub Actions workflow file </span><span class="No-Break"><span class="koboSpan" id="kobo.43.1">at </span></span><a href="https://github.com/PacktPublishing/Embracing-DevOps-Release-Management/blob/main/.github/workflows/aws.yml"><span class="No-Break"><span class="koboSpan" id="kobo.44.1">https://github.com/PacktPublishing/Embracing-DevOps-Release-Management/blob/main/.github/workflows/aws.yml</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.45.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.46.1">The following is an abridged version of the GitHub Actions workflow script for this </span><span class="No-Break"><span class="koboSpan" id="kobo.47.1">chapter’s exercises:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.48.1">
...    - name: Build, tag, and push image to Amazon ECR
      id: build-image
      env:
        ECR_REGISTRY: ${{ steps.login-ecr.outputs.registry }}
        IMAGE_TAG: ${{ github.sha }}
      run: |
        # Build a docker container and
        # push it to ECR so that it can
        # be deployed to ECS.
</span><span class="koboSpan" id="kobo.48.2">        docker build . </span><span class="koboSpan" id="kobo.48.3">-t $ECR_REGISTRY/$ECR_REPOSITORY:$IMAGE_TAG -f chapter07/Dockerfile
        docker push $ECR_REGISTRY/$ECR_REPOSITORY:$IMAGE_TAG
        echo "image=$ECR_REGISTRY/$ECR_REPOSITORY:$IMAGE_TAG" &gt;&gt; $GITHUB_OUTPUT
    - name: Fill in the new image ID in the Amazon ECS task definition
      id: task-def
      uses: aws-actions/amazon-ecs-render-task-definition@v1
      with:
        task-definition: ${{ env.ECS_TASK_DEFINITION }}
        container-name: ${{ env.CONTAINER_NAME }}
        image: ${{ steps.build-image.outputs.image }}
    - name: Deploy Amazon ECS task definition
      uses: aws-actions/amazon-ecs-deploy-task-definition@v1
      with:
        task-definition: ${{ steps.task-def.outputs.task-definition }}
        service: ${{ env.ECS_SERVICE }}
        cluster: ${{ env.ECS_CLUSTER }}
        wait-for-service-stability: true
...</span></pre>
<p><span class="koboSpan" id="kobo.49.1">Now that you have had the opportunity to review the pipeline code in this GitHub Actions workflow, you have a fundamental awareness of each step involved and what work is performed in each one. </span><span class="koboSpan" id="kobo.49.2">Let’s proceed with the first set of activities required to produce a fully functioning CI/CD pipeline: provisioning the </span><span class="No-Break"><span class="koboSpan" id="kobo.50.1">cloud infrastructure.</span></span></p>
<h1 id="_idParaDest-121"><a id="_idTextAnchor123"/><span class="koboSpan" id="kobo.51.1">Provisioning the AWS infrastructure</span></h1>
<p><span class="koboSpan" id="kobo.52.1">To ensure that this exercise is approachable</span><a id="_idIndexMarker461"/><span class="koboSpan" id="kobo.53.1"> for as wide of an audience as possible, we will be using ClickOps to provision all of the necessary infrastructure in AWS. </span><span class="koboSpan" id="kobo.53.2">ClickOps is the term used to describe the process of manually provisioning cloud resources using the provider’s native web console. </span><span class="koboSpan" id="kobo.53.3">As its name suggests, this process involves inputting all the necessary information using a keyboard and mouse. </span><span class="koboSpan" id="kobo.53.4">ClickOps is widely considered</span><a id="_idIndexMarker462"/><span class="koboSpan" id="kobo.54.1"> to be an anti-pattern in the world of DevOps, primarily because it is drastically more inefficient</span><a id="_idIndexMarker463"/><span class="koboSpan" id="kobo.55.1"> and prone to errors than using </span><strong class="bold"><span class="koboSpan" id="kobo.56.1">Infrastructure as Code</span></strong><span class="koboSpan" id="kobo.57.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.58.1">IaC</span></strong><span class="koboSpan" id="kobo.59.1">). </span><span class="koboSpan" id="kobo.59.2">However, it is extremely helpful for individuals who do not know</span><a id="_idIndexMarker464"/><span class="koboSpan" id="kobo.60.1"> how to script, write code, or use the </span><span class="No-Break"><span class="koboSpan" id="kobo.61.1">command-line interface.</span></span></p>
<h2 id="_idParaDest-122"><a id="_idTextAnchor124"/><span class="koboSpan" id="kobo.62.1">Prerequisites</span></h2>
<p><span class="koboSpan" id="kobo.63.1">To complete this phase</span><a id="_idIndexMarker465"/><span class="koboSpan" id="kobo.64.1"> of the guide, you will need to ensure the following prerequisites </span><span class="No-Break"><span class="koboSpan" id="kobo.65.1">are met:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.66.1">You must possess an active </span><strong class="bold"><span class="koboSpan" id="kobo.67.1">AWS account</span></strong><span class="koboSpan" id="kobo.68.1"> that is in good</span><a id="_idIndexMarker466"/> <span class="No-Break"><span class="koboSpan" id="kobo.69.1">standing (</span></span><a href="https://console.aws.amazon.com/console/home?nc2=h_ct&amp;src=header-signin"><span class="No-Break"><span class="koboSpan" id="kobo.70.1">https://console.aws.amazon.com/console/home?nc2=h_ct&amp;src=header-signin</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.71.1">).</span></span></li>
</ul>
<p class="callout-heading"><span class="koboSpan" id="kobo.72.1">Important</span></p>
<p class="callout"><span class="koboSpan" id="kobo.73.1">Note that by following</span><a id="_idIndexMarker467"/><span class="koboSpan" id="kobo.74.1"> this guide, you will be charged by </span><strong class="bold"><span class="koboSpan" id="kobo.75.1">Amazon Web Services</span></strong><span class="koboSpan" id="kobo.76.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.77.1">AWS</span></strong><span class="koboSpan" id="kobo.78.1">) for the resources that you create during the exercise. </span><span class="koboSpan" id="kobo.78.2">You will continue to be charged until all of the resources have </span><span class="No-Break"><span class="koboSpan" id="kobo.79.1">been terminated.</span></span></p>
<p class="callout"><span class="koboSpan" id="kobo.80.1">It is strongly advised that you terminate all of these resources after you have completed this guide to avoid being billed in </span><span class="No-Break"><span class="koboSpan" id="kobo.81.1">the future.</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.82.1">Your AWS IAM user holds an active set of access keys. </span><span class="koboSpan" id="kobo.82.2">To learn more about creating IAM access</span><a id="_idIndexMarker468"/><span class="koboSpan" id="kobo.83.1"> keys, see </span><em class="italic"><span class="koboSpan" id="kobo.84.1">Managing access keys for IAM </span></em><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.85.1">users</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.86.1">: </span></span><a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_access-keys.html"><span class="No-Break"><span class="koboSpan" id="kobo.87.1">https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_access-keys.html</span></span></a></li>
<li><span class="koboSpan" id="kobo.88.1">Your AWS IAM user must be granted the necessary roles that permit it the ability to provision ECS, ECR, and VPC</span><a id="_idIndexMarker469"/><span class="koboSpan" id="kobo.89.1"> resources in AWS. </span><span class="koboSpan" id="kobo.89.2">For more information, see </span><em class="italic"><span class="koboSpan" id="kobo.90.1">Identity-based policy examples for AWS </span></em><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.91.1">ECS</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.92.1">: </span></span><a href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/security_iam_id-based-policy-examples.html#IAM_cluster_policies"><span class="No-Break"><span class="koboSpan" id="kobo.93.1">https://docs.aws.amazon.com/AmazonECS/latest/developerguide/security_iam_id-based-policy-examples.html#IAM_cluster_policies</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.94.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.95.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.96.1">AmazonEC2ContainerRegistryFullAccess</span></strong><span class="koboSpan" id="kobo.97.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.98.1">AmazonEC2FullAccess</span></strong><span class="koboSpan" id="kobo.99.1">, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.100.1">AmazonECS_FullAccess</span></strong><span class="koboSpan" id="kobo.101.1"> policies. </span><span class="koboSpan" id="kobo.101.2">These are all you’ll need to follow this guide, in addition to being an administrative user in your </span><span class="No-Break"><span class="koboSpan" id="kobo.102.1">AWS account:</span></span></li>
</ul>
<p class="callout-heading"><span class="koboSpan" id="kobo.103.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.104.1">Granting full access, like we are doing here, is not a best practice for security reasons. </span><span class="koboSpan" id="kobo.104.2">We are simply making an exception for this demo to make getting through it easier for beginners who are unfamiliar with IAM. </span><span class="koboSpan" id="kobo.104.3">As a result, it is strongly advisable to remove these permissions from your IAM user after this exercise </span><span class="No-Break"><span class="koboSpan" id="kobo.105.1">is completed.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer042">
<span class="koboSpan" id="kobo.106.1"><img alt="Figure 7.1: An example of the necessary IAM Pplicies for your AWS user" src="image/B21803_07_01.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.107.1">Figure 7.1: An example of the necessary IAM Pplicies for your AWS user</span></p>
<p><span class="koboSpan" id="kobo.108.1">The preceding screenshot depicts</span><a id="_idIndexMarker470"/><span class="koboSpan" id="kobo.109.1"> the AWS IAM policies that are necessary to complete this exercise (mentioned previously). </span><span class="koboSpan" id="kobo.109.2">You must add these policies to your chosen IAM user. </span><span class="koboSpan" id="kobo.109.3">This can be implemented via the </span><strong class="bold"><span class="koboSpan" id="kobo.110.1">Add permission</span></strong><span class="koboSpan" id="kobo.111.1"> menu in the AWS console. </span><span class="koboSpan" id="kobo.111.2">For assistance with this process, please consult the official AWS documentation</span><a id="_idIndexMarker471"/><span class="koboSpan" id="kobo.112.1"> regarding the management of </span><span class="No-Break"><span class="koboSpan" id="kobo.113.1">identity-based policies:</span></span></p>
<ul>
<li><a href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/security_iam_id-based-policy-examples.html"><span class="No-Break"><span class="koboSpan" id="kobo.114.1">https://docs.aws.amazon.com/AmazonECS/latest/developerguide/security_iam_id-based-policy-examples.html</span></span></a></li>
<li><a href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/security_iam_id-based-policy-examples.html#IAM_cluster_policies"><span class="No-Break"><span class="koboSpan" id="kobo.115.1">https://docs.aws.amazon.com/AmazonECS/latest/developerguide/security_iam_id-based-policy-examples.html#IAM_cluster_policies</span></span></a></li>
</ul>
<h2 id="_idParaDest-123"><a id="_idTextAnchor125"/><span class="koboSpan" id="kobo.116.1">Step 1 – fork the repository</span></h2>
<p><span class="koboSpan" id="kobo.117.1">Follow these steps to fork</span><a id="_idIndexMarker472"/> <span class="No-Break"><span class="koboSpan" id="kobo.118.1">the repository:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.119.1">Click on the drop-down arrow in the fork box and choose </span><strong class="bold"><span class="koboSpan" id="kobo.120.1">Create a new fork</span></strong><span class="koboSpan" id="kobo.121.1">. </span><span class="koboSpan" id="kobo.121.2">Alternatively, go </span><span class="No-Break"><span class="koboSpan" id="kobo.122.1">to </span></span><a href="https://github.com/PacktPublishing/Embracing-DevOps-Release-Management/fork"><span class="No-Break"><span class="koboSpan" id="kobo.123.1">https://github.com/PacktPublishing/Embracing-DevOps-Release-Management/fork</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.124.1">:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer043">
<span class="koboSpan" id="kobo.125.1"><img alt="Figure 7.2: Forking the repository in GitHub" src="image/B21803_07_02.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.126.1">Figure 7.2: Forking the repository in GitHub</span></p>
<div>
<div class="IMG---Figure" id="_idContainer044">
<span class="koboSpan" id="kobo.127.1"><img alt="Figure 7.3: Confirming the new fork of this repository" src="image/B21803_07_03.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.128.1">Figure 7.3: Confirming the new fork of this repository</span></p>
<ol>
<li value="2"><span class="koboSpan" id="kobo.129.1">On the fork repository</span><a id="_idIndexMarker473"/><span class="koboSpan" id="kobo.130.1"> page, specify a value for </span><strong class="bold"><span class="koboSpan" id="kobo.131.1">Owner</span></strong><span class="koboSpan" id="kobo.132.1"> and select </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.133.1">Create fork</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.134.1">.</span></span></li>
</ol>
<h2 id="_idParaDest-124"><a id="_idTextAnchor126"/><span class="koboSpan" id="kobo.135.1">Step 2 – create a default VPC</span></h2>
<p><span class="koboSpan" id="kobo.136.1">Before we move forward, please note</span><a id="_idIndexMarker474"/><span class="koboSpan" id="kobo.137.1"> that creating multiple default VPCs</span><a id="_idIndexMarker475"/><span class="koboSpan" id="kobo.138.1"> in the same region is not possible. </span><span class="koboSpan" id="kobo.138.2">If you have mistakenly deleted your default VPC, creating a new one is possible. </span><span class="koboSpan" id="kobo.138.3">However, it is important to note that restoring a previously deleted default VPC is not available, nor can you designate a current non-default VPC as a </span><span class="No-Break"><span class="koboSpan" id="kobo.139.1">default VPC.</span></span></p>
<p><span class="koboSpan" id="kobo.140.1">To establish a default VPC via the AWS console, follow </span><span class="No-Break"><span class="koboSpan" id="kobo.141.1">these steps:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.142.1">Access the Amazon VPC console by navigating </span><span class="No-Break"><span class="koboSpan" id="kobo.143.1">to </span></span><a href="https://console.aws.amazon.com/vpc/"><span class="No-Break"><span class="koboSpan" id="kobo.144.1">https://console.aws.amazon.com/vpc/</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.145.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.146.1">Select </span><strong class="bold"><span class="koboSpan" id="kobo.147.1">Your VPCs</span></strong><span class="koboSpan" id="kobo.148.1"> from the </span><span class="No-Break"><span class="koboSpan" id="kobo.149.1">navigation pane:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer045">
<span class="koboSpan" id="kobo.150.1"><img alt="Figure 7.4: Creating a default VPC" src="image/B21803_07_04.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.151.1">Figure 7.4: Creating a default VPC</span></p>
<ol>
<li value="3"><span class="koboSpan" id="kobo.152.1">Select </span><strong class="bold"><span class="koboSpan" id="kobo.153.1">Actions</span></strong><span class="koboSpan" id="kobo.154.1"> and then create the </span><span class="No-Break"><span class="koboSpan" id="kobo.155.1">default VPC.</span></span></li>
<li><span class="koboSpan" id="kobo.156.1">Select the </span><strong class="bold"><span class="koboSpan" id="kobo.157.1">Create default VPC</span></strong><span class="koboSpan" id="kobo.158.1"> option. </span><span class="koboSpan" id="kobo.158.2">Please close</span><a id="_idIndexMarker476"/><span class="koboSpan" id="kobo.159.1"> the confirmation</span><a id="_idIndexMarker477"/> <span class="No-Break"><span class="koboSpan" id="kobo.160.1">message afterward:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer046">
<span class="koboSpan" id="kobo.161.1"><img alt="Figure 7.5: Confirming your new default VPC" src="image/B21803_07_05.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.162.1">Figure 7.5: Confirming your new default VPC</span></p>
<h2 id="_idParaDest-125"><a id="_idTextAnchor127"/><span class="koboSpan" id="kobo.163.1">Step 3 – create an HTTP rule in the default security group</span></h2>
<p><span class="koboSpan" id="kobo.164.1">Whenever a rule is added</span><a id="_idIndexMarker478"/><span class="koboSpan" id="kobo.165.1"> to a security group, it is automatically</span><a id="_idIndexMarker479"/><span class="koboSpan" id="kobo.166.1"> applied to all resources linked to </span><span class="No-Break"><span class="koboSpan" id="kobo.167.1">that group.</span></span></p>
<p><span class="koboSpan" id="kobo.168.1">To establish a new security group rule via the AWS console, follow </span><span class="No-Break"><span class="koboSpan" id="kobo.169.1">these steps:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.170.1">Access the Amazon VPC console by navigating </span><span class="No-Break"><span class="koboSpan" id="kobo.171.1">to </span></span><a href="https://console.aws.amazon.com/vpc/"><span class="No-Break"><span class="koboSpan" id="kobo.172.1">https://console.aws.amazon.com/vpc/</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.173.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.174.1">Select </span><strong class="bold"><span class="koboSpan" id="kobo.175.1">Security groups</span></strong><span class="koboSpan" id="kobo.176.1"> from the </span><span class="No-Break"><span class="koboSpan" id="kobo.177.1">navigation pane:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer047">
<span class="koboSpan" id="kobo.178.1"><img alt="Figure 7.6: Accessing the Security groups menu" src="image/B21803_07_06.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.179.1">Figure 7.6: Accessing the Security groups menu</span></p>
<ol>
<li value="3"><span class="koboSpan" id="kobo.180.1">Select the desired </span><span class="No-Break"><span class="koboSpan" id="kobo.181.1">security group.</span></span></li>
<li><span class="koboSpan" id="kobo.182.1">Select </span><strong class="bold"><span class="koboSpan" id="kobo.183.1">Actions</span></strong><span class="koboSpan" id="kobo.184.1">, then </span><strong class="bold"><span class="koboSpan" id="kobo.185.1">Edit </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.186.1">inbound rules</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.187.1">:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer048">
<span class="koboSpan" id="kobo.188.1"><img alt="Figure 7.7: Editing the inbound rules of the default security group" src="image/B21803_07_07.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.189.1">Figure 7.7: Editing the inbound rules of the default security group</span></p>
<ol>
<li value="5"><span class="koboSpan" id="kobo.190.1">Select </span><strong class="bold"><span class="koboSpan" id="kobo.191.1">Add rule</span></strong><span class="koboSpan" id="kobo.192.1"> and</span><a id="_idIndexMarker480"/><span class="koboSpan" id="kobo.193.1"> then proceed</span><a id="_idIndexMarker481"/> <span class="No-Break"><span class="koboSpan" id="kobo.194.1">as follows:</span></span><ul><li><span class="koboSpan" id="kobo.195.1">For </span><strong class="bold"><span class="koboSpan" id="kobo.196.1">Type</span></strong><span class="koboSpan" id="kobo.197.1">, select the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.198.1">HTTP</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.199.1"> protocol.</span></span></li><li><span class="koboSpan" id="kobo.200.1">For </span><strong class="bold"><span class="koboSpan" id="kobo.201.1">Source type</span></strong><span class="koboSpan" id="kobo.202.1"> (inbound rules), do the following to </span><span class="No-Break"><span class="koboSpan" id="kobo.203.1">allow traffic:</span></span><ul><li><span class="koboSpan" id="kobo.204.1">Select </span><strong class="bold"><span class="koboSpan" id="kobo.205.1">Anywhere-IPv4</span></strong><span class="koboSpan" id="kobo.206.1"> to enable incoming traffic arriving from any IPv4 address (inbound rules). </span><span class="koboSpan" id="kobo.206.2">After doing this, a rule gets automatically added for the 0.0.0.0/0 IPv4 </span><span class="No-Break"><span class="koboSpan" id="kobo.207.1">CIDR block.</span></span></li><li><span class="koboSpan" id="kobo.208.1">Please provide</span><a id="_idIndexMarker482"/><span class="koboSpan" id="kobo.209.1"> a short </span><strong class="bold"><span class="koboSpan" id="kobo.210.1">Description</span></strong><span class="koboSpan" id="kobo.211.1"> of</span><a id="_idIndexMarker483"/><span class="koboSpan" id="kobo.212.1"> this </span><strong class="bold"><span class="koboSpan" id="kobo.213.1">Security </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.214.1">group</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.215.1"> rule:</span></span></li></ul></li></ul></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer049">
<span class="koboSpan" id="kobo.216.1"><img alt="Figure 7.8: Adding an HTTP rule to the default security group" src="image/B21803_07_08.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.217.1">Figure 7.8: Adding an HTTP rule to the default security group</span></p>
<ol>
<li value="6"><span class="koboSpan" id="kobo.218.1">Select </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.219.1">Save rules</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.220.1">.</span></span></li>
</ol>
<h2 id="_idParaDest-126"><a id="_idTextAnchor128"/><span class="koboSpan" id="kobo.221.1">Step 4 – create an ECR registry</span></h2>
<p><span class="koboSpan" id="kobo.222.1">Begin using Amazon ECR</span><a id="_idIndexMarker484"/><span class="koboSpan" id="kobo.223.1"> by setting up a repository in the Amazon ECR</span><a id="_idIndexMarker485"/><span class="koboSpan" id="kobo.224.1"> console. </span><span class="koboSpan" id="kobo.224.2">The Amazon ECR console provides a step-by-step guide to help you create your initial repository. </span><span class="koboSpan" id="kobo.224.3">Before starting, please ensure that you have followed</span><a id="_idIndexMarker486"/><span class="koboSpan" id="kobo.225.1"> all the necessary steps outlined in the </span><em class="italic"><span class="koboSpan" id="kobo.226.1">Amazon ECR setup </span></em><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.227.1">guide</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.228.1">: </span></span><a href="https://docs.aws.amazon.com/AmazonECR/latest/userguide/get-set-up-for-amazon-ecr.html"><span class="No-Break"><span class="koboSpan" id="kobo.229.1">https://docs.aws.amazon.com/AmazonECR/latest/userguide/get-set-up-for-amazon-ecr.html</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.230.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.231.1">To establish an image repository via the AWS console, follow </span><span class="No-Break"><span class="koboSpan" id="kobo.232.1">these steps:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.233.1">A repository is a storage</span><a id="_idIndexMarker487"/><span class="koboSpan" id="kobo.234.1"> location for Docker or </span><strong class="bold"><span class="koboSpan" id="kobo.235.1">Open Container Initiative</span></strong><span class="koboSpan" id="kobo.236.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.237.1">OCI</span></strong><span class="koboSpan" id="kobo.238.1">) images within Amazon ECR. </span><span class="koboSpan" id="kobo.238.2">When interacting with Amazon ECR, you need to provide the repository and registry location to indicate the destination or source of </span><span class="No-Break"><span class="koboSpan" id="kobo.239.1">the image.</span></span><p class="list-inset"><span class="koboSpan" id="kobo.240.1">You can access the Amazon ECR console by navigating </span><span class="No-Break"><span class="koboSpan" id="kobo.241.1">to </span></span><a href="https://console.aws.amazon.com/ecr/"><span class="No-Break"><span class="koboSpan" id="kobo.242.1">https://console.aws.amazon.com/ecr/</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.243.1">.</span></span></p></li>
<li><span class="koboSpan" id="kobo.244.1">To ensure that this exercise goes smoothly, it is strongly suggested that you choose the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.245.1">us-east-1</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.246.1"> region:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer050">
<span class="koboSpan" id="kobo.247.1"><img alt="Figure 7.9: Selecting the correct AWS region to operate un" src="image/B21803_07_09.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.248.1">Figure 7.9: Selecting the correct AWS region to operate un</span></p>
<ol>
<li value="3"><span class="koboSpan" id="kobo.249.1">Select </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.250.1">Get Started</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.251.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.252.1">Select </span><strong class="bold"><span class="koboSpan" id="kobo.253.1">Private</span></strong><span class="koboSpan" id="kobo.254.1"> under </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.255.1">Visibility settings</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.256.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.257.1">To ensure that this exercise</span><a id="_idIndexMarker488"/><span class="koboSpan" id="kobo.258.1"> goes smoothly, it is strongly suggested </span><a id="_idIndexMarker489"/><span class="koboSpan" id="kobo.259.1">that you choose </span><strong class="source-inline"><span class="koboSpan" id="kobo.260.1">embracing-devops-release-management</span></strong><span class="koboSpan" id="kobo.261.1"> as your </span><strong class="bold"><span class="koboSpan" id="kobo.262.1">Repository </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.263.1">name</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.264.1"> value.</span></span></li>
</ol>
<p class="callout-heading"><span class="koboSpan" id="kobo.265.1">Important</span></p>
<p class="callout"><span class="koboSpan" id="kobo.266.1">Note the 12-digit number shown at the beginning of your ECR repository name. </span><span class="koboSpan" id="kobo.266.2">This is your AWS account number, and you will need it to complete future steps in </span><span class="No-Break"><span class="koboSpan" id="kobo.267.1">this guide.</span></span></p>
<p class="callout"><span class="koboSpan" id="kobo.268.1">Alternatively, you can browse your </span><strong class="bold"><span class="koboSpan" id="kobo.269.1">AWS account page</span></strong><span class="koboSpan" id="kobo.270.1"> to obtain your AWS account </span><span class="No-Break"><span class="koboSpan" id="kobo.271.1">number: </span></span><a href="https://console.aws.amazon.com/billing/home?#/account"><span class="No-Break"><span class="koboSpan" id="kobo.272.1">https://console.aws.amazon.com/billing/home?#/account</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.273.1">.</span></span></p>
<ol>
<li value="6"><span class="koboSpan" id="kobo.274.1">For </span><strong class="bold"><span class="koboSpan" id="kobo.275.1">Tag immutability</span></strong><span class="koboSpan" id="kobo.276.1">, choose to leave </span><span class="No-Break"><span class="koboSpan" id="kobo.277.1">it disabled:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer051">
<span class="koboSpan" id="kobo.278.1"><img alt="Figure 7.10: Establishing an ECR repository (registry)" src="image/B21803_07_10.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.279.1">Figure 7.10: Establishing an ECR repository (registry)</span></p>
<ol>
<li value="7"><span class="koboSpan" id="kobo.280.1">Select </span><strong class="bold"><span class="koboSpan" id="kobo.281.1">Scan on push</span></strong><span class="koboSpan" id="kobo.282.1"> to enable the image scanning feature for this repository. </span><span class="koboSpan" id="kobo.282.2">If an ECR repository has </span><strong class="bold"><span class="koboSpan" id="kobo.283.1">Scan on push</span></strong><span class="koboSpan" id="kobo.284.1"> enabled, it will begin scanning images automatically whenever there is a push request; otherwise, users will have to manually initiate the </span><span class="No-Break"><span class="koboSpan" id="kobo.285.1">scanning process.</span></span></li>
<li><span class="koboSpan" id="kobo.286.1">For the </span><strong class="bold"><span class="koboSpan" id="kobo.287.1">KMS encryption</span></strong><span class="koboSpan" id="kobo.288.1"> setting, opt</span><a id="_idIndexMarker490"/><span class="koboSpan" id="kobo.289.1"> to leave</span><a id="_idIndexMarker491"/> <span class="No-Break"><span class="koboSpan" id="kobo.290.1">it disabled:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer052">
<span class="koboSpan" id="kobo.291.1"><img alt="Figure 7.11: Finishing the ECR repository creation process" src="image/B21803_07_11.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.292.1">Figure 7.11: Finishing the ECR repository creation process</span></p>
<ol>
<li value="9"><span class="koboSpan" id="kobo.293.1">Choose </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.294.1">Create repository</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.295.1">.</span></span></li>
</ol>
<h2 id="_idParaDest-127"><a id="_idTextAnchor129"/><span class="koboSpan" id="kobo.296.1">Step 5 – create an ECS cluster</span></h2>
<p><span class="koboSpan" id="kobo.297.1">Creating an Amazon ECS cluster</span><a id="_idIndexMarker492"/><span class="koboSpan" id="kobo.298.1"> can easily be done</span><a id="_idIndexMarker493"/><span class="koboSpan" id="kobo.299.1"> through the user-friendly Amazon </span><span class="No-Break"><span class="koboSpan" id="kobo.300.1">ECS console.</span></span></p>
<p><span class="koboSpan" id="kobo.301.1">Make sure that you’ve implemented the prerequisite steps while </span><em class="italic"><span class="koboSpan" id="kobo.302.1">setting up Amazon ECS</span></em><span class="koboSpan" id="kobo.303.1"> (</span><a href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/get-set-up-for-amazon-ecs.html"><span class="koboSpan" id="kobo.304.1">https://docs.aws.amazon.com/AmazonECS/latest/developerguide/get-set-up-for-amazon-ecs.html</span></a><span class="koboSpan" id="kobo.305.1">) and assigned the correct IAM</span><a id="_idIndexMarker494"/><span class="koboSpan" id="kobo.306.1"> permission to your chosen IAM user before proceeding. </span><span class="koboSpan" id="kobo.306.2">For additional details</span><a id="_idIndexMarker495"/><span class="koboSpan" id="kobo.307.1"> and assistance, refer to the </span><em class="italic"><span class="koboSpan" id="kobo.308.1">Cluster Examples</span></em><span class="koboSpan" id="kobo.309.1"> section of the </span><span class="No-Break"><span class="koboSpan" id="kobo.310.1">documentation (</span></span><a href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/security_iam_id-based-policy-examples.html#IAM_cluster_policies"><span class="No-Break"><span class="koboSpan" id="kobo.311.1">https://docs.aws.amazon.com/AmazonECS/latest/developerguide/security_iam_id-based-policy-examples.html#IAM_cluster_policies</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.312.1">).</span></span></p>
<p><span class="koboSpan" id="kobo.313.1">The Amazon ECS console offers a straightforward method for generating the necessary resources for an Amazon ECS cluster through the creation of an AWS </span><span class="No-Break"><span class="koboSpan" id="kobo.314.1">CloudFormation stack.</span></span></p>
<p><span class="koboSpan" id="kobo.315.1">To establish an ECS Cluster</span><a id="_idIndexMarker496"/><span class="koboSpan" id="kobo.316.1"> via the AWS console, follow</span><a id="_idIndexMarker497"/> <span class="No-Break"><span class="koboSpan" id="kobo.317.1">these steps:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.318.1">Access the Amazon ECS console by navigating </span><span class="No-Break"><span class="koboSpan" id="kobo.319.1">to </span></span><a href="https://console.aws.amazon.com/ecs/v2"><span class="No-Break"><span class="koboSpan" id="kobo.320.1">https://console.aws.amazon.com/ecs/v2</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.321.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.322.1">To ensure that this exercise goes smoothly, it is strongly suggested that you choose the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.323.1">us-east-1</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.324.1"> region.</span></span></li>
<li><span class="koboSpan" id="kobo.325.1">Select </span><strong class="bold"><span class="koboSpan" id="kobo.326.1">Clusters</span></strong><span class="koboSpan" id="kobo.327.1"> from the </span><span class="No-Break"><span class="koboSpan" id="kobo.328.1">navigation pane.</span></span></li>
<li><span class="koboSpan" id="kobo.329.1">Select </span><strong class="bold"><span class="koboSpan" id="kobo.330.1">Create cluster</span></strong><span class="koboSpan" id="kobo.331.1"> from the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.332.1">Clusters</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.333.1"> page:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer053">
<span class="koboSpan" id="kobo.334.1"><img alt="Figure 7.12: Establishing an ECS cluster" src="image/B21803_07_12.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.335.1">Figure 7.12: Establishing an ECS cluster</span></p>
<ol>
<li value="5"><span class="koboSpan" id="kobo.336.1">Within the </span><strong class="bold"><span class="koboSpan" id="kobo.337.1">Cluster configuration</span></strong><span class="koboSpan" id="kobo.338.1"> menu, it is strongly suggested that you choose </span><strong class="source-inline"><span class="koboSpan" id="kobo.339.1">embracing-devops-release-management</span></strong><span class="koboSpan" id="kobo.340.1"> as your cluster name so that this exercise </span><span class="No-Break"><span class="koboSpan" id="kobo.341.1">goes smoothly.</span></span></li>
<li><span class="koboSpan" id="kobo.342.1">Expand </span><strong class="bold"><span class="koboSpan" id="kobo.343.1">Infrastructure</span></strong><span class="koboSpan" id="kobo.344.1">, then select </span><strong class="bold"><span class="koboSpan" id="kobo.345.1">AWS </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.346.1">Fargate (serverless)</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.347.1">:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer054">
<span class="koboSpan" id="kobo.348.1"><img alt="Figure 7.13: Configuring your ECS cluster as AWS Fargate (serverless)" src="image/B21803_07_13.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.349.1">Figure 7.13: Configuring your ECS cluster as AWS Fargate (serverless)</span></p>
<ol>
<li value="7"><span class="koboSpan" id="kobo.350.1">Expand </span><strong class="bold"><span class="koboSpan" id="kobo.351.1">Monitoring</span></strong><span class="koboSpan" id="kobo.352.1">, and then toggle </span><strong class="bold"><span class="koboSpan" id="kobo.353.1">Use Container Insights</span></strong><span class="koboSpan" id="kobo.354.1"> on to enable </span><span class="No-Break"><span class="koboSpan" id="kobo.355.1">Container Insights.</span></span></li>
<li><span class="koboSpan" id="kobo.356.1">Expand </span><strong class="bold"><span class="koboSpan" id="kobo.357.1">Tags</span></strong><span class="koboSpan" id="kobo.358.1"> and then configure your tags to assist with identifying </span><span class="No-Break"><span class="koboSpan" id="kobo.359.1">your cluster.</span></span></li>
<li><span class="koboSpan" id="kobo.360.1">To add a tag, select </span><strong class="bold"><span class="koboSpan" id="kobo.361.1">Add tag</span></strong><span class="koboSpan" id="kobo.362.1"> and do </span><span class="No-Break"><span class="koboSpan" id="kobo.363.1">the following:</span></span><ul><li><span class="koboSpan" id="kobo.364.1">Input the key name in the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.365.1">Key</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.366.1"> field</span></span></li><li><span class="koboSpan" id="kobo.367.1">Input the value name in the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.368.1">Value</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.369.1"> field</span></span></li></ul></li>
<li><span class="koboSpan" id="kobo.370.1">To remove</span><a id="_idIndexMarker498"/><span class="koboSpan" id="kobo.371.1"> a tag, select </span><strong class="bold"><span class="koboSpan" id="kobo.372.1">Remove</span></strong><span class="koboSpan" id="kobo.373.1"> to the right</span><a id="_idIndexMarker499"/><span class="koboSpan" id="kobo.374.1"> of the tag’s key </span><span class="No-Break"><span class="koboSpan" id="kobo.375.1">and value:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer055">
<span class="koboSpan" id="kobo.376.1"><img alt="Figure 7.14: Tagging the ECS cluster infrastructure" src="image/B21803_07_14.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.377.1">Figure 7.14: Tagging the ECS cluster infrastructure</span></p>
<ol>
<li value="11"><span class="No-Break"><span class="koboSpan" id="kobo.378.1">Select </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.379.1">Create</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.380.1">.</span></span></li>
</ol>
<h2 id="_idParaDest-128"><a id="_idTextAnchor130"/><span class="koboSpan" id="kobo.381.1">Step 6 – create an ECS task definition</span></h2>
<p><span class="koboSpan" id="kobo.382.1">You can create a task definition </span><a id="_idIndexMarker500"/><span class="koboSpan" id="kobo.383.1">by using the console</span><a id="_idIndexMarker501"/><span class="koboSpan" id="kobo.384.1"> or by editing a </span><span class="No-Break"><span class="koboSpan" id="kobo.385.1">JSON file.</span></span></p>
<p><span class="koboSpan" id="kobo.386.1">To establish a task definition via the AWS console JSON editor, follow </span><span class="No-Break"><span class="koboSpan" id="kobo.387.1">these steps:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.388.1">To ensure that this exercise goes smoothly, it is strongly suggested that you choose the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.389.1">us-east-1</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.390.1"> region:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer056">
<span class="koboSpan" id="kobo.391.1"><img alt="Figure 7.15: Selecting the correct AWS region to operate in" src="image/B21803_07_15.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.392.1">Figure 7.15: Selecting the correct AWS region to operate in</span></p>
<ol>
<li value="2"><span class="koboSpan" id="kobo.393.1">First, edit</span><a id="_idIndexMarker502"/><span class="koboSpan" id="kobo.394.1"> the </span><strong class="source-inline"><span class="koboSpan" id="kobo.395.1">ECS Task Definition</span></strong><span class="koboSpan" id="kobo.396.1"> file in your</span><a id="_idIndexMarker503"/> <span class="No-Break"><span class="koboSpan" id="kobo.397.1">forked repository:</span></span><ol><li class="upper-roman"><span class="koboSpan" id="kobo.398.1">From GitHub, click on the </span><strong class="source-inline"><span class="koboSpan" id="kobo.399.1">task-definition.json</span></strong><span class="koboSpan" id="kobo.400.1"> file within this book’s </span><span class="No-Break"><span class="koboSpan" id="kobo.401.1">repository (</span></span><a href="https://github.com/PacktPublishing/Embracing-DevOps-Release-Management/blob/main/chapter07/task-definition.json"><span class="No-Break"><span class="koboSpan" id="kobo.402.1">https://github.com/PacktPublishing/Embracing-DevOps-Release-Management/blob/main/chapter07/task-definition.json</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.403.1">).</span></span></li><li class="upper-roman"><span class="koboSpan" id="kobo.404.1">From the </span><strong class="source-inline"><span class="koboSpan" id="kobo.405.1">task-definition.json</span></strong><span class="koboSpan" id="kobo.406.1"> file page, click on the pencil icon to edit </span><span class="No-Break"><span class="koboSpan" id="kobo.407.1">the file:</span></span></li></ol></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer057">
<span class="koboSpan" id="kobo.408.1"><img alt="Figure 7.16: Editing the ECS task definition in the GitHub text editor" src="image/B21803_07_16.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.409.1">Figure 7.16: Editing the ECS task definition in the GitHub text editor</span></p>
<ol>
<li class="upper-roman" value="3"><span class="koboSpan" id="kobo.410.1">Locate the two placeholders for your AWS account ID, which is represented as a string of 12 consecutive “</span><span class="No-Break"><span class="koboSpan" id="kobo.411.1">X” characters:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer058">
<span class="koboSpan" id="kobo.412.1"><img alt="Figure 7.17: Locating the AWS ID number placeholders" src="image/B21803_07_17.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.413.1">Figure 7.17: Locating the AWS ID number placeholders</span></p>
<ol>
<li class="upper-roman" value="4"><span class="koboSpan" id="kobo.414.1">Replace the two placeholders</span><a id="_idIndexMarker504"/><span class="koboSpan" id="kobo.415.1"> for your AWS account ID</span><a id="_idIndexMarker505"/><span class="koboSpan" id="kobo.416.1"> with your actual AWS account ID and select </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.417.1">Commit changes</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.418.1">:</span></span></li>
</ol>
<p class="callout-heading"><span class="koboSpan" id="kobo.419.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.420.1">You can browse your </span><strong class="bold"><span class="koboSpan" id="kobo.421.1">AWS account page</span></strong><span class="koboSpan" id="kobo.422.1"> to obtain your AWS</span><a id="_idIndexMarker506"/><span class="koboSpan" id="kobo.423.1"> account </span><span class="No-Break"><span class="koboSpan" id="kobo.424.1">number: </span></span><span class="No-Break"><span class="koboSpan" id="kobo.425.1">https://console.aws.amazon.com/billing/home?#/account</span></span><span class="No-Break"><span class="koboSpan" id="kobo.426.1">.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer059">
<span class="koboSpan" id="kobo.427.1"><img alt="Figure 7.18: Replacing the placeholders with your AWS ID number" src="image/B21803_07_18.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.428.1">Figure 7.18: Replacing the placeholders with your AWS ID number</span></p>
<ol>
<li value="3"><span class="koboSpan" id="kobo.429.1">Within the commit confirmation</span><a id="_idIndexMarker507"/><span class="koboSpan" id="kobo.430.1"> menu, add a meaningful commit</span><a id="_idIndexMarker508"/><span class="koboSpan" id="kobo.431.1"> message and select </span><strong class="bold"><span class="koboSpan" id="kobo.432.1">Commit directly to the </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.433.1">main branch</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.434.1">:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer060">
<span class="koboSpan" id="kobo.435.1"><img alt="Figure 7.19: Committing your changes in the GitHub text editor" src="image/B21803_07_19.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.436.1">Figure 7.19: Committing your changes in the GitHub text editor</span></p>
<ol>
<li value="4"><span class="koboSpan" id="kobo.437.1">Then, choose </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.438.1">Commit changes</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.439.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.440.1">Access the Amazon ECS console by navigating </span><span class="No-Break"><span class="koboSpan" id="kobo.441.1">to </span></span><a href="https://console.aws.amazon.com/ecs/v2"><span class="No-Break"><span class="koboSpan" id="kobo.442.1">https://console.aws.amazon.com/ecs/v2</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.443.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.444.1">Select </span><strong class="bold"><span class="koboSpan" id="kobo.445.1">Task definitions</span></strong><span class="koboSpan" id="kobo.446.1"> from the </span><span class="No-Break"><span class="koboSpan" id="kobo.447.1">navigation pane.</span></span></li>
<li><span class="koboSpan" id="kobo.448.1">Select </span><strong class="bold"><span class="koboSpan" id="kobo.449.1">Create new task definition with JSON</span></strong><span class="koboSpan" id="kobo.450.1"> from the menu on the </span><strong class="bold"><span class="koboSpan" id="kobo.451.1">Create new task </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.452.1">definition</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.453.1"> page:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer061">
<span class="koboSpan" id="kobo.454.1"><img alt="Figure 7.20: Creating a new task definition with JSON" src="image/B21803_07_20.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.455.1">Figure 7.20: Creating a new task definition with JSON</span></p>
<ol>
<li value="8"><span class="koboSpan" id="kobo.456.1">Modify your JSON file in the JSON </span><span class="No-Break"><span class="koboSpan" id="kobo.457.1">editor window.</span></span><p class="list-inset"><span class="koboSpan" id="kobo.458.1">Copy the </span><strong class="source-inline"><span class="koboSpan" id="kobo.459.1">task-definition.json</span></strong><span class="koboSpan" id="kobo.460.1"> file from the repository</span><a id="_idIndexMarker509"/><span class="koboSpan" id="kobo.461.1"> that you edited earlier</span><a id="_idIndexMarker510"/><span class="koboSpan" id="kobo.462.1"> and paste it into the JSON </span><span class="No-Break"><span class="koboSpan" id="kobo.463.1">editor box:</span></span></p></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer062">
<span class="koboSpan" id="kobo.464.1"><img alt="Figure 7.21: Copying the task-definition.json file that you edited earlier" src="image/B21803_07_21.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.465.1">Figure 7.21: Copying the task-definition.json file that you edited earlier</span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.466.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.467.1">If there is content in the JSON editor box before you paste your customized </span><strong class="source-inline"><span class="koboSpan" id="kobo.468.1">task-definition.json</span></strong><span class="koboSpan" id="kobo.469.1"> file into it, ensure that it is removed first. </span><span class="koboSpan" id="kobo.469.2">The JSON editor box must be empty before</span><a id="_idIndexMarker511"/><span class="koboSpan" id="kobo.470.1"> adding your </span><strong class="source-inline"><span class="koboSpan" id="kobo.471.1">task-definition.json</span></strong><span class="koboSpan" id="kobo.472.1"> file’s contents </span><a id="_idIndexMarker512"/><span class="No-Break"><span class="koboSpan" id="kobo.473.1">to it.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer063">
<span class="koboSpan" id="kobo.474.1"><img alt="Figure 7.22: Confirming and creating the ECS task definition" src="image/B21803_07_22.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.475.1">Figure 7.22: Confirming and creating the ECS task definition</span></p>
<ol>
<li value="9"><span class="No-Break"><span class="koboSpan" id="kobo.476.1">Select </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.477.1">Create</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.478.1">.</span></span></li>
</ol>
<h2 id="_idParaDest-129"><a id="_idTextAnchor131"/><span class="koboSpan" id="kobo.479.1">Step 7 – create an ECS service</span></h2>
<p><span class="koboSpan" id="kobo.480.1">The console enables</span><a id="_idIndexMarker513"/><span class="koboSpan" id="kobo.481.1"> rapid creation and deployment</span><a id="_idIndexMarker514"/><span class="koboSpan" id="kobo.482.1"> of </span><span class="No-Break"><span class="koboSpan" id="kobo.483.1">a service.</span></span></p>
<p><span class="koboSpan" id="kobo.484.1">To establish an ECS service via the AWS console, follow </span><span class="No-Break"><span class="koboSpan" id="kobo.485.1">these steps:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.486.1">To ensure that this exercise goes smoothly, it is strongly suggested that you choose the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.487.1">us-east-1</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.488.1"> region:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer064">
<span class="koboSpan" id="kobo.489.1"><img alt="Figure 7.23: Selecting the correct AWS region to operate in" src="image/B21803_07_23.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.490.1">Figure 7.23: Selecting the correct AWS region to operate in</span></p>
<ol>
<li value="2"><span class="koboSpan" id="kobo.491.1">Access the Amazon ECS console by navigating </span><span class="No-Break"><span class="koboSpan" id="kobo.492.1">to </span></span><a href="https://console.aws.amazon.com/ecs/v2"><span class="No-Break"><span class="koboSpan" id="kobo.493.1">https://console.aws.amazon.com/ecs/v2</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.494.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.495.1">Select </span><strong class="bold"><span class="koboSpan" id="kobo.496.1">Clusters</span></strong><span class="koboSpan" id="kobo.497.1"> from the </span><span class="No-Break"><span class="koboSpan" id="kobo.498.1">navigation pane.</span></span></li>
<li><span class="koboSpan" id="kobo.499.1">On the </span><strong class="bold"><span class="koboSpan" id="kobo.500.1">Clusters</span></strong><span class="koboSpan" id="kobo.501.1"> page, select the cluster</span><a id="_idIndexMarker515"/><span class="koboSpan" id="kobo.502.1"> that you would like to create a </span><span class="No-Break"><span class="koboSpan" id="kobo.503.1">service in.</span></span></li>
<li><span class="koboSpan" id="kobo.504.1">Select the </span><strong class="bold"><span class="koboSpan" id="kobo.505.1">Create</span></strong><span class="koboSpan" id="kobo.506.1"> option from the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.507.1">Services</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.508.1"> tab:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer065">
<span class="koboSpan" id="kobo.509.1"><img alt="Figure 7.24: Creating a new ECS service for your ECS task" src="image/B21803_07_24.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.510.1">Figure 7.24: Creating a new ECS service for your ECS task</span></p>
<ol>
<li value="6"><span class="koboSpan" id="kobo.511.1">Provide details about</span><a id="_idIndexMarker516"/><span class="koboSpan" id="kobo.512.1"> your application’s deployment</span><a id="_idIndexMarker517"/><span class="koboSpan" id="kobo.513.1"> in the </span><strong class="bold"><span class="koboSpan" id="kobo.514.1">Deployment </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.515.1">configuration</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.516.1"> section:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer066">
<span class="koboSpan" id="kobo.517.1"><img alt="Figure 7.25: Configuring your new ECS service’s launch type" src="image/B21803_07_25.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.518.1">Figure 7.25: Configuring your new ECS service’s launch type</span></p>
<ol>
<li value="7"><span class="koboSpan" id="kobo.519.1">Under </span><strong class="bold"><span class="koboSpan" id="kobo.520.1">Compute options</span></strong><span class="koboSpan" id="kobo.521.1">, select </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.522.1">Launch type</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.523.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.524.1">Select </span><strong class="bold"><span class="koboSpan" id="kobo.525.1">Service</span></strong><span class="koboSpan" id="kobo.526.1"> under </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.527.1">Application type</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.528.1">:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer067">
<span class="koboSpan" id="kobo.529.1"><img alt="Figure 7.26: Naming and configuring the ECS service" src="image/B21803_07_26.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.530.1">Figure 7.26: Naming and configuring the ECS service</span></p>
<ol>
<li value="9"><span class="koboSpan" id="kobo.531.1">Within the </span><strong class="bold"><span class="koboSpan" id="kobo.532.1">Task definition</span></strong><span class="koboSpan" id="kobo.533.1"> area, select the version</span><a id="_idIndexMarker518"/><span class="koboSpan" id="kobo.534.1"> and family</span><a id="_idIndexMarker519"/><span class="koboSpan" id="kobo.535.1"> that you wish </span><span class="No-Break"><span class="koboSpan" id="kobo.536.1">to apply.</span></span></li>
<li><span class="koboSpan" id="kobo.537.1">To ensure that this exercise goes smoothly, it is strongly suggested that you choose </span><strong class="source-inline"><span class="koboSpan" id="kobo.538.1">embracing-devops-release-management</span></strong><span class="koboSpan" id="kobo.539.1"> under </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.540.1">Service name</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.541.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.542.1">To specify your </span><strong class="bold"><span class="koboSpan" id="kobo.543.1">Desired tasks</span></strong><span class="koboSpan" id="kobo.544.1">, input the number of tasks to be initiated and managed within </span><span class="No-Break"><span class="koboSpan" id="kobo.545.1">the service.</span></span></li>
<li><span class="koboSpan" id="kobo.546.1">For </span><strong class="bold"><span class="koboSpan" id="kobo.547.1">Networking</span></strong><span class="koboSpan" id="kobo.548.1">, the default VPC and its associated networking should automatically populate within the fields. </span><span class="koboSpan" id="kobo.548.2">However, ensure that the configuration is configured similar to </span><span class="No-Break"><span class="koboSpan" id="kobo.549.1">the following:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer068">
<span class="koboSpan" id="kobo.550.1"><img alt="Figure 7.27: Selecting the default VPC for networking – Public IP!" src="image/B21803_07_27.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.551.1">Figure 7.27: Selecting the default VPC for networking – Public IP!</span></p>
<ol>
<li value="13"><span class="koboSpan" id="kobo.552.1">Tagging resources is a great way to locate cloud infrastructure after you’ve provisioned it. </span><span class="koboSpan" id="kobo.552.2">This is particularly useful after you have created hundreds or thousands </span><span class="No-Break"><span class="koboSpan" id="kobo.553.1">of resources.</span></span><p class="list-inset"><span class="koboSpan" id="kobo.554.1">To add tags to your ECS service, expand </span><strong class="bold"><span class="koboSpan" id="kobo.555.1">Tags</span></strong><span class="koboSpan" id="kobo.556.1"> and then configure your tags to assist with identifying your service </span><span class="No-Break"><span class="koboSpan" id="kobo.557.1">and tasks.</span></span></p></li>
<li><span class="koboSpan" id="kobo.558.1">To add a tag, select </span><strong class="bold"><span class="koboSpan" id="kobo.559.1">Add tag</span></strong><span class="koboSpan" id="kobo.560.1"> and then do </span><span class="No-Break"><span class="koboSpan" id="kobo.561.1">the following:</span></span><ul><li><span class="koboSpan" id="kobo.562.1">Input the key name in the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.563.1">Key</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.564.1"> field</span></span></li><li><span class="koboSpan" id="kobo.565.1">Input the value name in the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.566.1">Value</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.567.1"> field</span></span></li></ul></li>
<li><span class="koboSpan" id="kobo.568.1">To remove a tag, select the </span><strong class="bold"><span class="koboSpan" id="kobo.569.1">Remove</span></strong><span class="koboSpan" id="kobo.570.1"> option</span><a id="_idIndexMarker520"/><span class="koboSpan" id="kobo.571.1"> to the right</span><a id="_idIndexMarker521"/><span class="koboSpan" id="kobo.572.1"> of the tag’s key </span><span class="No-Break"><span class="koboSpan" id="kobo.573.1">and value.</span></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.574.1">Select </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.575.1">Create</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.576.1">.</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.577.1">This concludes the first portion of this guide, </span><em class="italic"><span class="koboSpan" id="kobo.578.1">Provisioning the AWS infrastructure</span></em><span class="koboSpan" id="kobo.579.1">. </span><span class="koboSpan" id="kobo.579.2">In this section, you have provisioned</span><a id="_idIndexMarker522"/><span class="koboSpan" id="kobo.580.1"> the infrastructure that is necessary to support the CICD pipeline operations that are outlined in the second portion of this guide, </span><em class="italic"><span class="koboSpan" id="kobo.581.1">Configure the GitHub </span></em><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.582.1">Actions Workflow</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.583.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.584.1">Let’s briefly review what you’ve accomplished </span><span class="No-Break"><span class="koboSpan" id="kobo.585.1">so far:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.586.1">You’ve ensured that your AWS IAM user has the necessary permissions assigned so that it can provision the required cloud resources within your </span><span class="No-Break"><span class="koboSpan" id="kobo.587.1">AWS account.</span></span></li>
<li><span class="koboSpan" id="kobo.588.1">You’ve ensured that your AWS account is equipped with a default VPC and associated default </span><span class="No-Break"><span class="koboSpan" id="kobo.589.1">networking resources.</span></span></li>
<li><span class="koboSpan" id="kobo.590.1">You’ve modified the </span><em class="italic"><span class="koboSpan" id="kobo.591.1">default security group</span></em><span class="koboSpan" id="kobo.592.1"> within your default VPC so that it includes an HTTP rule. </span><span class="koboSpan" id="kobo.592.2">This is required to allow users to browse your web app on port 80, which we will be deploying in the second portion of </span><span class="No-Break"><span class="koboSpan" id="kobo.593.1">this guide.</span></span></li>
<li><span class="koboSpan" id="kobo.594.1">You’ve created the necessary </span><em class="italic"><span class="koboSpan" id="kobo.595.1">ECS registry</span></em><span class="koboSpan" id="kobo.596.1"> to store Docker images being produced by your GitHub workflow. </span><span class="koboSpan" id="kobo.596.2">We will configure this in the next section of </span><span class="No-Break"><span class="koboSpan" id="kobo.597.1">this guide.</span></span></li>
<li><span class="koboSpan" id="kobo.598.1">You’ve created the necessary </span><em class="italic"><span class="koboSpan" id="kobo.599.1">ECS cluster</span></em><span class="koboSpan" id="kobo.600.1"> that will host the Docker containers being produced and deployed by your GitHub actions workflow. </span><span class="koboSpan" id="kobo.600.2">We will configure this in the next section of </span><span class="No-Break"><span class="koboSpan" id="kobo.601.1">this guide.</span></span></li>
<li><span class="koboSpan" id="kobo.602.1">You’ve created the necessary </span><em class="italic"><span class="koboSpan" id="kobo.603.1">ECS task definition</span></em><span class="koboSpan" id="kobo.604.1"> that will manage the operational activity of your web app deployment. </span><span class="koboSpan" id="kobo.604.2">This ensures that the web app deployment is running with all of the appropriate configurations and operates with resiliency in the face of unexpected </span><span class="No-Break"><span class="koboSpan" id="kobo.605.1">system issues.</span></span></li>
<li><span class="koboSpan" id="kobo.606.1">You’ve created the necessary </span><em class="italic"><span class="koboSpan" id="kobo.607.1">ECS service</span></em><span class="koboSpan" id="kobo.608.1"> that is associated with your configured ECS task definition. </span><span class="koboSpan" id="kobo.608.2">This is required to ensure that the required networking infrastructure is set up so that users can browse your web app running in ECS, from their local </span><span class="No-Break"><span class="koboSpan" id="kobo.609.1">web browser.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.610.1">In the next portion of this guide, </span><em class="italic"><span class="koboSpan" id="kobo.611.1">Configuring the GitHub Actions workflow</span></em><span class="koboSpan" id="kobo.612.1">, you will be shown how to configure a GitHub Actions workflow. </span><span class="koboSpan" id="kobo.612.2">In this second exercise, you will enable the necessary backend settings, learn how to configure input parameters and inject secrets into the build process, and understand how to initiate a pipeline run and analyze the build logs. </span><span class="koboSpan" id="kobo.612.3">Finally, you will be shown how to access the web application that you deployed into ECS, verifying </span><span class="No-Break"><span class="koboSpan" id="kobo.613.1">its existence.</span></span></p>
<h1 id="_idParaDest-130"><a id="_idTextAnchor132"/><span class="koboSpan" id="kobo.614.1">Configuring the GitHub Actions workflow</span></h1>
<p><span class="koboSpan" id="kobo.615.1">Several configurations will need to be made</span><a id="_idIndexMarker523"/><span class="koboSpan" id="kobo.616.1"> if you wish to successfully run the GitHub Actions workflow and achieve a successful deployment. </span><span class="koboSpan" id="kobo.616.2">Primarily among these are input parameters, which take the form of variables and secrets. </span><span class="koboSpan" id="kobo.616.3">Notably, secrets function almost identically to variables, except they are masked in the logs and visible to no one, once they have been configured in the repository settings. </span><span class="koboSpan" id="kobo.616.4">Once you can successfully initiate a pipeline run, examine the logging output to verify any issues, failures, and successes. </span><span class="koboSpan" id="kobo.616.5">Finally, you will be able to observe the functioning web application running in </span><span class="No-Break"><span class="koboSpan" id="kobo.617.1">AWS EC2.</span></span></p>
<h2 id="_idParaDest-131"><a id="_idTextAnchor133"/><span class="koboSpan" id="kobo.618.1">Prerequisites</span></h2>
<p><span class="koboSpan" id="kobo.619.1">To complete this phase </span><a id="_idIndexMarker524"/><span class="koboSpan" id="kobo.620.1">of the guide, you will need to ensure you have an active </span><em class="italic"><span class="koboSpan" id="kobo.621.1">GitHub account</span></em><span class="koboSpan" id="kobo.622.1"> (</span><a href="https://github.com/"><span class="koboSpan" id="kobo.623.1">https://github.com/</span></a><span class="koboSpan" id="kobo.624.1">) that is in </span><span class="No-Break"><span class="koboSpan" id="kobo.625.1">good standing.</span></span></p>
<h2 id="_idParaDest-132"><a id="_idTextAnchor134"/><span class="koboSpan" id="kobo.626.1">Step 1 – configure the necessary GitHub repository variables and secrets</span></h2>
<p><span class="koboSpan" id="kobo.627.1">Configuring the backend for GitHub Actions</span><a id="_idIndexMarker525"/><span class="koboSpan" id="kobo.628.1"> is a simple process, but it does help to know what to look for. </span><span class="koboSpan" id="kobo.628.2">In this step, you will enable GitHub Issues for this repository, which allows the pipeline to raise an issue automatically if one is flagged during a build. </span><span class="koboSpan" id="kobo.628.3">Crucially, we will also be configuring pipeline variables and secrets so that they can be injected into the pipeline during a run. </span><span class="koboSpan" id="kobo.628.4">This is a standard technique in DevOps, allowing the same CI/CD pipeline script to be run in multiple environments with settings unique to each use case, </span><span class="No-Break"><span class="koboSpan" id="kobo.629.1">including yours!</span></span></p>
<p><span class="koboSpan" id="kobo.630.1">To establish the necessary GitHub repository variables and secrets, follow </span><span class="No-Break"><span class="koboSpan" id="kobo.631.1">these steps:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.632.1">In GitHub, navigate to the </span><strong class="bold"><span class="koboSpan" id="kobo.633.1">Settings</span></strong><span class="koboSpan" id="kobo.634.1"> menu of your forked version of the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.635.1">embracing-devops-release-management</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.636.1"> repository:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer069">
<span class="koboSpan" id="kobo.637.1"><img alt="Figure 7.28: Navigating to the Settings menu in your forked repository" src="image/B21803_07_28.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.638.1">Figure 7.28: Navigating to the Settings menu in your forked repository</span></p>
<ol>
<li value="2"><span class="koboSpan" id="kobo.639.1">Enable GitHub </span><strong class="bold"><span class="koboSpan" id="kobo.640.1">Issues</span></strong><span class="koboSpan" id="kobo.641.1"> for </span><span class="No-Break"><span class="koboSpan" id="kobo.642.1">this repository:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer070">
<span class="koboSpan" id="kobo.643.1"><img alt="Figure 7.29: Enabling GitHub Issues for your forked repository" src="image/B21803_07_29.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.644.1">Figure 7.29: Enabling GitHub Issues for your forked repository</span></p>
<ol>
<li value="3"><span class="koboSpan" id="kobo.645.1">In the </span><strong class="bold"><span class="koboSpan" id="kobo.646.1">Security</span></strong><span class="koboSpan" id="kobo.647.1"> section of the repository</span><a id="_idIndexMarker526"/><span class="koboSpan" id="kobo.648.1"> menu, navigate to the </span><strong class="bold"><span class="koboSpan" id="kobo.649.1">Secrets and </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.650.1">variables</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.651.1"> option:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer071">
<span class="koboSpan" id="kobo.652.1"><img alt="Figure 7.30: Accessing the Secrets and variables option for Actions" src="image/B21803_07_30.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.653.1">Figure 7.30: Accessing the Secrets and variables option for Actions</span></p>
<ol>
<li value="4"><span class="koboSpan" id="kobo.654.1">Then, </span><span class="No-Break"><span class="koboSpan" id="kobo.655.1">select </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.656.1">Actions</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.657.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.658.1">In the </span><strong class="bold"><span class="koboSpan" id="kobo.659.1">Actions secrets and variables</span></strong><span class="koboSpan" id="kobo.660.1"> menu, choose the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.661.1">Secrets</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.662.1"> tab.</span></span></li>
<li><span class="koboSpan" id="kobo.663.1">Then, select </span><strong class="bold"><span class="koboSpan" id="kobo.664.1">New </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.665.1">repository secret</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.666.1">:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer072">
<span class="koboSpan" id="kobo.667.1"><img alt="Figure 7.31: Adding secrets to your GitHub Actions repository" src="image/B21803_07_31.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.668.1">Figure 7.31: Adding secrets to your GitHub Actions repository</span></p>
<p class="list-inset"><span class="koboSpan" id="kobo.669.1">You will need to provide the GitHub Actions workflow</span><a id="_idIndexMarker527"/><span class="koboSpan" id="kobo.670.1"> permission to provision resources in your AWS account. </span><span class="koboSpan" id="kobo.670.2">To do this, you will need to provide AWS access keys so that AWS CLI operations can be run within </span><span class="No-Break"><span class="koboSpan" id="kobo.671.1">the pipeline.</span></span></p>
<ol>
<li value="7"><span class="koboSpan" id="kobo.672.1">Create a new repository secret for your AWS access key ID and then follow </span><span class="No-Break"><span class="koboSpan" id="kobo.673.1">these steps:</span></span><ol><li class="upper-roman"><span class="koboSpan" id="kobo.674.1">In the </span><strong class="bold"><span class="koboSpan" id="kobo.675.1">Name</span></strong><span class="koboSpan" id="kobo.676.1"> field, </span><span class="No-Break"><span class="koboSpan" id="kobo.677.1">enter </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.678.1">AWS_ACCESS_KEY_ID</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.679.1">.</span></span></li><li class="upper-roman"><span class="koboSpan" id="kobo.680.1">In the </span><strong class="bold"><span class="koboSpan" id="kobo.681.1">Secret</span></strong><span class="koboSpan" id="kobo.682.1"> field, enter the value</span><a id="_idIndexMarker528"/><span class="koboSpan" id="kobo.683.1"> for your AWS access </span><span class="No-Break"><span class="koboSpan" id="kobo.684.1">key ID.</span></span></li><li class="upper-roman"><span class="koboSpan" id="kobo.685.1">Choose </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.686.1">Add secret</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.687.1">:</span></span></li></ol></li>
</ol>
<p class="callout-heading"><span class="koboSpan" id="kobo.688.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.689.1">A secret is an environment variable you establish in a repository, organization, or environment. </span><span class="koboSpan" id="kobo.689.2">With GitHub Actions, you can integrate the secrets you provide into your workflows. </span><span class="koboSpan" id="kobo.689.3">If you deliberately include a secret in a workflow, then GitHub Actions will be able to read the secret during a </span><span class="No-Break"><span class="koboSpan" id="kobo.690.1">pipeline run.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer073">
<span class="koboSpan" id="kobo.691.1"><img alt="Figure 7.32: Adding your AWS access key ID as a pipeline secret" src="image/B21803_07_32.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.692.1">Figure 7.32: Adding your AWS access key ID as a pipeline secret</span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.693.1">Warning</span></p>
<p class="callout"><span class="koboSpan" id="kobo.694.1">GitHub will automatically redact any mention of secrets from any logs that may have been generated by a job. </span><span class="koboSpan" id="kobo.694.2">It is advisable to refrain from intentionally publishing secrets to </span><span class="No-Break"><span class="koboSpan" id="kobo.695.1">the log.</span></span></p>
<ol>
<li value="8"><span class="koboSpan" id="kobo.696.1">Create a new repository secret for your AWS secret access </span><span class="No-Break"><span class="koboSpan" id="kobo.697.1">key ID:</span></span><ol><li class="upper-roman"><span class="koboSpan" id="kobo.698.1">In the </span><strong class="bold"><span class="koboSpan" id="kobo.699.1">Name</span></strong><span class="koboSpan" id="kobo.700.1"> field, </span><span class="No-Break"><span class="koboSpan" id="kobo.701.1">enter </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.702.1">AWS_SECRET_ACCESS_KEY</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.703.1">.</span></span></li><li class="upper-roman"><span class="koboSpan" id="kobo.704.1">In the </span><strong class="bold"><span class="koboSpan" id="kobo.705.1">Secret</span></strong><span class="koboSpan" id="kobo.706.1"> field, enter the value</span><a id="_idIndexMarker529"/><span class="koboSpan" id="kobo.707.1"> for your AWS secret </span><span class="No-Break"><span class="koboSpan" id="kobo.708.1">access key.</span></span></li><li class="upper-roman"><span class="koboSpan" id="kobo.709.1">Choose </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.710.1">Add secret</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.711.1">:</span></span></li></ol></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer074">
<span class="koboSpan" id="kobo.712.1"><img alt="Figure 7.33: Adding your AWS secret access key as a pipeline secret" src="image/B21803_07_33.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.713.1">Figure 7.33: Adding your AWS secret access key as a pipeline secret</span></p>
<ol>
<li value="9"><span class="koboSpan" id="kobo.714.1">In the </span><strong class="bold"><span class="koboSpan" id="kobo.715.1">Actions secrets and variables</span></strong><span class="koboSpan" id="kobo.716.1"> menu, select the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.717.1">Variables</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.718.1"> tab.</span></span></li>
<li><span class="koboSpan" id="kobo.719.1">Then, select </span><strong class="bold"><span class="koboSpan" id="kobo.720.1">New </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.721.1">repository variable</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.722.1">:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer075">
<span class="koboSpan" id="kobo.723.1"><img alt="Figure 7.34: Adding variables to your GitHub Actions repository" src="image/B21803_07_34.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.724.1">Figure 7.34: Adding variables to your GitHub Actions repository</span></p>
<ol>
<li value="11"><span class="koboSpan" id="kobo.725.1">Create a new repository variable for your </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.726.1">ECR Repository</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.727.1">:</span></span><ol><li class="upper-roman"><span class="koboSpan" id="kobo.728.1">In the </span><strong class="bold"><span class="koboSpan" id="kobo.729.1">Name</span></strong><span class="koboSpan" id="kobo.730.1"> field, </span><span class="No-Break"><span class="koboSpan" id="kobo.731.1">enter </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.732.1">ECR_REGISTRY</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.733.1">.</span></span></li><li class="upper-roman"><span class="koboSpan" id="kobo.734.1">In the </span><strong class="bold"><span class="koboSpan" id="kobo.735.1">Value</span></strong><span class="koboSpan" id="kobo.736.1"> field, enter </span><strong class="source-inline"><span class="koboSpan" id="kobo.737.1">XXXXXXXXXXXX.dkr.ecr.us-east-1.amazonaws.com</span></strong><span class="koboSpan" id="kobo.738.1"> as your ECR </span><span class="No-Break"><span class="koboSpan" id="kobo.739.1">repository</span></span><span class="No-Break"><a id="_idIndexMarker530"/></span><span class="No-Break"><span class="koboSpan" id="kobo.740.1"> address.</span></span></li></ol></li>
</ol>
<p class="callout-heading"><span class="koboSpan" id="kobo.741.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.742.1">Don’t forget to use your own AWS account ID in the full ECR repository address when entering it into the </span><span class="No-Break"><span class="koboSpan" id="kobo.743.1">text box.</span></span></p>
<p class="callout"><span class="koboSpan" id="kobo.744.1">One technique to store and reuse configuration information that isn’t sensitive is through variables. </span><span class="koboSpan" id="kobo.744.2">Variables are a great </span><a id="_idIndexMarker531"/><span class="koboSpan" id="kobo.745.1">way to save configuration information such as compiler flags, usernames, and server names. </span><span class="koboSpan" id="kobo.745.2">The runner that executes your workflow is responsible for interpolating variables and they can be created, read, and modified by commands that run in actions or </span><span class="No-Break"><span class="koboSpan" id="kobo.746.1">workflow phases.</span></span></p>
<ol>
<li class="upper-roman" value="3"><span class="koboSpan" id="kobo.747.1">Choose </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.748.1">Add variable</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.749.1">:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer076">
<span class="koboSpan" id="kobo.750.1"><img alt="Figure 7.35: An example of filling in a GitHub Actions repository variable" src="image/B21803_07_35.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.751.1">Figure 7.35: An example of filling in a GitHub Actions repository variable</span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.752.1">Warning</span></p>
<p class="callout"><span class="koboSpan" id="kobo.753.1">By default, variables render unmasked in your build outputs. </span><span class="koboSpan" id="kobo.753.2">If you need greater security for sensitive information, such as passwords, use </span><span class="No-Break"><span class="koboSpan" id="kobo.754.1">secrets instead.</span></span></p>
<ol>
<li value="12"><span class="koboSpan" id="kobo.755.1">Enter the remaining necessary</span><a id="_idIndexMarker532"/><span class="koboSpan" id="kobo.756.1"> repository variables for the pipeline to </span><span class="No-Break"><span class="koboSpan" id="kobo.757.1">operate successfully.</span></span></li>
<li><span class="koboSpan" id="kobo.758.1">Repeat the process mentioned in </span><em class="italic"><span class="koboSpan" id="kobo.759.1">Step 11</span></em><span class="koboSpan" id="kobo.760.1"> until all remaining repository variables have </span><span class="No-Break"><span class="koboSpan" id="kobo.761.1">been added:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer077">
<span class="koboSpan" id="kobo.762.1"><img alt="Figure 7.36: An illustration of all the necessary pipeline variables" src="image/B21803_07_36.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.763.1">Figure 7.36: An illustration of all the necessary pipeline variables</span></p>
<p class="list-inset"><span class="koboSpan" id="kobo.764.1">The following table contains </span><a id="_idIndexMarker533"/><span class="koboSpan" id="kobo.765.1">all of the required </span><em class="italic"><span class="koboSpan" id="kobo.766.1">variable</span></em><span class="koboSpan" id="kobo.767.1"> names and their </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.768.1">suggested values</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.769.1">:</span></span></p>
<table class="No-Table-Style _idGenTablePara-1" id="table001-1">
<colgroup>
<col/>
<col/>
</colgroup>
<tbody>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.770.1">Variable Name</span></strong></span></p>
</td>
<td class="No-Table-Style">
<p><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.771.1">Variable Value</span></strong></span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.772.1">ECR_REGISTRY</span></strong></span></p>
</td>
<td class="No-Table-Style">
<p><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.773.1">XXXXXXXXXXXX.dkr.ecr.us-east-1.amazonaws.com</span></strong></span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.774.1">MY_AWS_REGION</span></strong></span></p>
</td>
<td class="No-Table-Style">
<p><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.775.1">us-east-1</span></strong></span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.776.1">MY_CONTAINER_NAME</span></strong></span></p>
</td>
<td class="No-Table-Style">
<p><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.777.1">embracing-devops-release-management</span></strong></span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.778.1">MY_ECR_REPOSITORY</span></strong></span></p>
</td>
<td class="No-Table-Style">
<p><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.779.1">embracing-devops-release-management</span></strong></span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.780.1">MY_ECS_CLUSTER</span></strong></span></p>
</td>
<td class="No-Table-Style">
<p><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.781.1">embracing-devops-release-management</span></strong></span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.782.1">MY_ECS_SERVICE</span></strong></span></p>
</td>
<td class="No-Table-Style">
<p><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.783.1">embracing-devops-release-management</span></strong></span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.784.1">MY_ECS_TASK_DEFINITION</span></strong></span></p>
</td>
<td class="No-Table-Style">
<p><strong class="source-inline"><span class="koboSpan" id="kobo.785.1">./</span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.786.1">chapter07/task-definition.json</span></strong></span></p>
</td>
</tr>
</tbody>
</table>
<p class="IMG---Figure"><span class="koboSpan" id="kobo.787.1">Table 7.1: A handy chart containing all of the necessary variables</span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.788.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.789.1">Ensure that </span><strong class="source-inline"><span class="koboSpan" id="kobo.790.1">./</span></strong><span class="koboSpan" id="kobo.791.1"> is appended to the beginning of the value that’s been set for MY</span><strong class="source-inline"><span class="koboSpan" id="kobo.792.1">_ECS_TASK_DEFINITION</span></strong><span class="koboSpan" id="kobo.793.1">. </span><span class="koboSpan" id="kobo.793.2">This is a necessary filesystem path and it is a valid syntax that’s required for GitHub Actions to pick up the </span><strong class="source-inline"><span class="koboSpan" id="kobo.794.1">task-definition.json</span></strong><span class="koboSpan" id="kobo.795.1"> file and use</span><a id="_idIndexMarker534"/><span class="koboSpan" id="kobo.796.1"> it in </span><span class="No-Break"><span class="koboSpan" id="kobo.797.1">the pipeline.</span></span></p>
<h2 id="_idParaDest-133"><a id="_idTextAnchor135"/><span class="koboSpan" id="kobo.798.1">Step 2 – kick off a GitHub Actions workflow</span></h2>
<p><span class="koboSpan" id="kobo.799.1">It is finally time to execute</span><a id="_idIndexMarker535"/><span class="koboSpan" id="kobo.800.1"> the pipeline. </span><span class="koboSpan" id="kobo.800.2">This is where the rubber meets the road and we accomplish what we have set out to do. </span><span class="koboSpan" id="kobo.800.3">Proceed with the following steps to initiate the GitHub Actions workflow and deploy your Docker container </span><span class="No-Break"><span class="koboSpan" id="kobo.801.1">to ECS:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.802.1">Navigate to the GitHub </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.803.1">Actions</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.804.1"> menu:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer078">
<span class="koboSpan" id="kobo.805.1"><img alt="Figure 7.37: Accessing the GitHub Actions menu" src="image/B21803_07_37.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.806.1">Figure 7.37: Accessing the GitHub Actions menu</span></p>
<ol>
<li value="2"><span class="koboSpan" id="kobo.807.1">Select </span><strong class="bold"><span class="koboSpan" id="kobo.808.1">I understand my workflows, go ahead and </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.809.1">enable them</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.810.1">:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer079">
<span class="koboSpan" id="kobo.811.1"><img alt="Figure 7.38: Enabling GitHub Actions for usage" src="image/B21803_07_38.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.812.1">Figure 7.38: Enabling GitHub Actions for usage</span></p>
<ol>
<li value="3"><span class="koboSpan" id="kobo.813.1">From the </span><strong class="bold"><span class="koboSpan" id="kobo.814.1">All workflows</span></strong><span class="koboSpan" id="kobo.815.1"> menu, under </span><strong class="bold"><span class="koboSpan" id="kobo.816.1">Actions</span></strong><span class="koboSpan" id="kobo.817.1">, choose the workflow</span><a id="_idIndexMarker536"/><span class="koboSpan" id="kobo.818.1"> for this exercise and </span><strong class="bold"><span class="koboSpan" id="kobo.819.1">Deploy to </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.820.1">Amazon ECS</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.821.1">:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer080">
<span class="koboSpan" id="kobo.822.1"><img alt="Figure 7.39: Navigating to the Deploy to Amazon ECS workflow menu" src="image/B21803_07_39.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.823.1">Figure 7.39: Navigating to the Deploy to Amazon ECS workflow menu</span></p>
<ol>
<li value="4"><span class="koboSpan" id="kobo.824.1">In the </span><strong class="bold"><span class="koboSpan" id="kobo.825.1">Deploy to Amazon ECS</span></strong><span class="koboSpan" id="kobo.826.1"> workflow menu, choose </span><strong class="bold"><span class="koboSpan" id="kobo.827.1">Run workflow</span></strong><span class="koboSpan" id="kobo.828.1">, then select </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.829.1">Run workflow</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.830.1">:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer081">
<span class="koboSpan" id="kobo.831.1"><img alt="Figure 7.40: Initiating a GitHub Actions workflow run" src="image/B21803_07_40.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.832.1">Figure 7.40: Initiating a GitHub Actions workflow run</span></p>
<p class="list-inset"><span class="koboSpan" id="kobo.833.1">The preceding screenshot shows the main menu for the </span><strong class="source-inline"><span class="koboSpan" id="kobo.834.1">Deploy to Amazon ECS</span></strong><span class="koboSpan" id="kobo.835.1"> GitHub Actions workflow that you have configured, built, and deployed throughout this exercise. </span><span class="koboSpan" id="kobo.835.2">This is where you can initiate new workflow runs and find a history of current and previous </span><span class="No-Break"><span class="koboSpan" id="kobo.836.1">workflow runs.</span></span></p>
<p><span class="koboSpan" id="kobo.837.1">After the pipeline run has been initiated, a new entry will be added to the build history for this GitHub Actions workflow. </span><span class="koboSpan" id="kobo.837.2">While the workflow is running, a yellow indicator will appear to the left of the entry in the build history. </span><span class="koboSpan" id="kobo.837.3">Upon completing the pipeline, the yellow indicator will transition to red</span><a id="_idIndexMarker537"/><span class="koboSpan" id="kobo.838.1"> for a failing build, or green for a </span><span class="No-Break"><span class="koboSpan" id="kobo.839.1">passing build:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer082">
<span class="koboSpan" id="kobo.840.1"><img alt="Figure 7.41: A GitHub Actions workflow actively running" src="image/B21803_07_41.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.841.1">Figure 7.41: A GitHub Actions workflow actively running</span></p>
<h2 id="_idParaDest-134"><a id="_idTextAnchor136"/><span class="koboSpan" id="kobo.842.1">Step 3 – analyze deployment logs</span></h2>
<p><span class="koboSpan" id="kobo.843.1">In this step, we will scrutinize</span><a id="_idIndexMarker538"/><span class="koboSpan" id="kobo.844.1"> the build logs from the GitHub Actions</span><a id="_idIndexMarker539"/><span class="koboSpan" id="kobo.845.1"> workflow that was run in the previous step. </span><span class="koboSpan" id="kobo.845.2">There are three prominent phases in this pipeline. </span><span class="koboSpan" id="kobo.845.3">The first phase features static code analysis testing. </span><span class="koboSpan" id="kobo.845.4">The second phase includes building the web app into the Docker image. </span><span class="koboSpan" id="kobo.845.5">Finally, the last phase features dynamic application security testing to evaluate the container after it has been deployed to ECS. </span><span class="koboSpan" id="kobo.845.6">All these activities will be recorded in the GitHub Actions build logs </span><span class="No-Break"><span class="koboSpan" id="kobo.846.1">after completion.</span></span></p>
<p><span class="koboSpan" id="kobo.847.1">Once the GitHub Actions workflow has been initiated, click on the pipeline phases to observe the logs for failures, issues, </span><span class="No-Break"><span class="koboSpan" id="kobo.848.1">and successes!</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer083">
<span class="koboSpan" id="kobo.849.1"><img alt="Figure 7.42: The detailed menu of a single workflow in the build history area" src="image/B21803_07_42.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.850.1">Figure 7.42: The detailed menu of a single workflow in the build history area</span></p>
<p><span class="koboSpan" id="kobo.851.1">As shown in the following screenshot, the pipeline</span><a id="_idIndexMarker540"/><span class="koboSpan" id="kobo.852.1"> has been divided</span><a id="_idIndexMarker541"/><span class="koboSpan" id="kobo.853.1"> into two primary phases, </span><strong class="bold"><span class="koboSpan" id="kobo.854.1">Test</span></strong><span class="koboSpan" id="kobo.855.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.856.1">Build &amp; Deploy</span></strong><span class="koboSpan" id="kobo.857.1">. </span><span class="koboSpan" id="kobo.857.2">However, it should be noted that, within the </span><strong class="bold"><span class="koboSpan" id="kobo.858.1">Build &amp; Deploy</span></strong><span class="koboSpan" id="kobo.859.1"> phase of the pipeline, a dynamic application security test occurs after the deployment has been completed and before the end of the pipeline phase. </span><span class="koboSpan" id="kobo.859.2">You can access the details and history for each of these individual phases to observe the build logs that are associated with </span><span class="No-Break"><span class="koboSpan" id="kobo.860.1">each phase:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer084">
<span class="koboSpan" id="kobo.861.1"><img alt="Figure 7.43: Examining the different pipeline phases of the workflow" src="image/B21803_07_43.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.862.1">Figure 7.43: Examining the different pipeline phases of the workflow</span></p>
<p><span class="koboSpan" id="kobo.863.1">Having a graphical representation of each phase of the pipeline is convenient to quickly assess its status and organize by logical separation of duties. </span><span class="koboSpan" id="kobo.863.2">In this dashboard, you can quickly see who triggered the pipeline, what git commit was associated with the changes, how long the pipeline ran for, and how many artifacts were produced as a result, all at a glance! </span><span class="koboSpan" id="kobo.863.3">This is useful enough when you’re looking at just a single pipeline run, but it makes things exponentially easier to understand when you’re parsing hundreds or tens of hundreds of build logs in </span><span class="No-Break"><span class="koboSpan" id="kobo.864.1">the history.</span></span></p>
<p><span class="koboSpan" id="kobo.865.1">The following screenshot shows the activities</span><a id="_idIndexMarker542"/><span class="koboSpan" id="kobo.866.1"> associated with the </span><strong class="bold"><span class="koboSpan" id="kobo.867.1">Test</span></strong><span class="koboSpan" id="kobo.868.1"> phase</span><a id="_idIndexMarker543"/><span class="koboSpan" id="kobo.869.1"> of the GitHub Actions workflow. </span><span class="koboSpan" id="kobo.869.2">As you can see, this includes two SASTs conducted by separate tools – HTMLTest and SAST SCAN. </span><span class="koboSpan" id="kobo.869.3">Together, these tests check the repository and try to identify any potential issues with relation to the DOM, NodeJS, JSON, YAML, software dependencies, and credentials existing in the source code. </span><span class="koboSpan" id="kobo.869.4">If all tests pass, the </span><strong class="bold"><span class="koboSpan" id="kobo.870.1">Test</span></strong><span class="koboSpan" id="kobo.871.1"> stage of the GitHub Actions workflow will conclude with a green checkmark and the pipeline will move forward to the </span><strong class="bold"><span class="koboSpan" id="kobo.872.1">Build &amp; </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.873.1">Deploy</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.874.1"> stage:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer085">
<span class="koboSpan" id="kobo.875.1"><img alt="Figure 7.44: An illustration of the SAST scans running in the pipeline" src="image/B21803_07_44.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.876.1">Figure 7.44: An illustration of the SAST scans running in the pipeline</span></p>
<p><span class="koboSpan" id="kobo.877.1">The following screenshot shows the application build phase of the GitHub Actions workflow. </span><span class="koboSpan" id="kobo.877.2">In the </span><strong class="bold"><span class="koboSpan" id="kobo.878.1">Build &amp; Deploy</span></strong><span class="koboSpan" id="kobo.879.1"> phase, the AWS credentials are configured, the web app is built and tagged as a new Docker image, and the new Docker image is published to the ECR repository (registry). </span><span class="koboSpan" id="kobo.879.2">After, the ECS task definition gets updated to reflect the new Docker image</span><a id="_idIndexMarker544"/><span class="koboSpan" id="kobo.880.1"> tag. </span><span class="koboSpan" id="kobo.880.2">Finally, the new Docker</span><a id="_idIndexMarker545"/><span class="koboSpan" id="kobo.881.1"> container gets deployed </span><span class="No-Break"><span class="koboSpan" id="kobo.882.1">to ECS:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer086">
<span class="koboSpan" id="kobo.883.1"><img alt="Figure 7.45: The Build &amp; Deploy phase operating in the GitHub Actions workflow" src="image/B21803_07_45.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.884.1">Figure 7.45: The Build &amp; Deploy phase operating in the GitHub Actions workflow</span></p>
<div>
<div class="IMG---Figure" id="_idContainer087">
<span class="koboSpan" id="kobo.885.1"><img alt="Figure 7.46: Preparing to deploy the newly built Docker image in ECS" src="image/B21803_07_46.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.886.1">Figure 7.46: Preparing to deploy the newly built Docker image in ECS</span></p>
<p><span class="koboSpan" id="kobo.887.1">As shown in the following screenshot, the application is already deployed and running in ECS. </span><span class="koboSpan" id="kobo.887.2">Thereafter, an automated script</span><a id="_idIndexMarker546"/><span class="koboSpan" id="kobo.888.1"> is executed during the workflow</span><a id="_idIndexMarker547"/><span class="koboSpan" id="kobo.889.1"> run to dynamically capture the web application’s public IP address, which then gets stored as an environment variable in the shell. </span><span class="koboSpan" id="kobo.889.2">This is performed using the AWS CLI, and it is executed on the GitHub Actions runner. </span><span class="koboSpan" id="kobo.889.3">After the IP address is captured as an environment variable, it is used as the target of the OWASP ZAProxy scanner to perform DAST against the application. </span><span class="koboSpan" id="kobo.889.4">If any issues are identified by the OWASP ZAProxy, a new GitHub issue is automatically opened in the repository for </span><span class="No-Break"><span class="koboSpan" id="kobo.890.1">manual review:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer088">
<span class="koboSpan" id="kobo.891.1"><img alt="Figure 7.47: Running a DAST scan in the workflow" src="image/B21803_07_47.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.892.1">Figure 7.47: Running a DAST scan in the workflow</span></p>
<p><span class="koboSpan" id="kobo.893.1">As shown in the following screenshot, the OWASP ZAProxy</span><a id="_idIndexMarker548"/><span class="koboSpan" id="kobo.894.1"> has completed its scan, and the results</span><a id="_idIndexMarker549"/><span class="koboSpan" id="kobo.895.1"> are displayed in the build logs. </span><span class="koboSpan" id="kobo.895.2">After all of the operations in the GitHub Actions workflow are complete, the pipeline cleans up the build environment and unsets any secrets and environment variables that were used. </span><span class="koboSpan" id="kobo.895.3">At this point, the GitHub Actions runner is </span><span class="No-Break"><span class="koboSpan" id="kobo.896.1">gracefully decommissioned:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer089">
<span class="koboSpan" id="kobo.897.1"><img alt="Figure 7.48: Viewing the results of the OWASP ZAProxy web app scan" src="image/B21803_07_48.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.898.1">Figure 7.48: Viewing the results of the OWASP ZAProxy web app scan</span></p>
<h2 id="_idParaDest-135"><a id="_idTextAnchor137"/><span class="koboSpan" id="kobo.899.1">Step 4 – observe the deployed application running in AWS ECS</span></h2>
<p><span class="koboSpan" id="kobo.900.1">Now that the GitHub Actions workflow</span><a id="_idIndexMarker550"/><span class="koboSpan" id="kobo.901.1"> has been completed</span><a id="_idIndexMarker551"/><span class="koboSpan" id="kobo.902.1"> and the web app has been deployed to ECS, let’s open a browser window and observe our </span><span class="No-Break"><span class="koboSpan" id="kobo.903.1">handy work.</span></span></p>
<p><span class="koboSpan" id="kobo.904.1">There are two easy ways that you can obtain the public IP address of your running </span><span class="No-Break"><span class="koboSpan" id="kobo.905.1">web application:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.906.1">After looking in the deployment logs, you can find the IP address that was used to scan the running web application when an automated scan was performed with </span><span class="No-Break"><span class="koboSpan" id="kobo.907.1">OWASP ZAProxy:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer090">
<span class="koboSpan" id="kobo.908.1"><img alt="Figure 7.49: Locating the public IPv4 address of the deployed web app" src="image/B21803_07_49.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.909.1">Figure 7.49: Locating the public IPv4 address of the deployed web app</span></p>
<ol>
<li value="2"><span class="koboSpan" id="kobo.910.1">Open the AWS web console and get the ECS service IP </span><span class="No-Break"><span class="koboSpan" id="kobo.911.1">address: </span></span><a href="https://console.aws.amazon.com/ecs/v2"><span class="No-Break"><span class="koboSpan" id="kobo.912.1">https://console.aws.amazon.com/ecs/v2</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.913.1">:</span></span></li>
</ol>
<p class="callout-heading"><span class="koboSpan" id="kobo.914.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.915.1">Don’t forget to select the correct AWS region that your ECS cluster was </span><span class="No-Break"><span class="koboSpan" id="kobo.916.1">deployed in.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer091">
<span class="koboSpan" id="kobo.917.1"><img alt="Figure 7.50: Navigating to the ECS Clusters menu in AWS" src="image/B21803_07_50.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.918.1">Figure 7.50: Navigating to the ECS Clusters menu in AWS</span></p>
<ol>
<li value="3"><span class="koboSpan" id="kobo.919.1">Navigate to your </span><span class="No-Break"><span class="koboSpan" id="kobo.920.1">ECS cluster:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer092">
<span class="koboSpan" id="kobo.921.1"><img alt="Figure 7.51: Accessing the ECS cluster of your web app" src="image/B21803_07_51.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.922.1">Figure 7.51: Accessing the ECS cluster of your web app</span></p>
<ol>
<li value="4"><span class="koboSpan" id="kobo.923.1">Click on the ECS task</span><a id="_idIndexMarker552"/><span class="koboSpan" id="kobo.924.1"> associated with your web</span><a id="_idIndexMarker553"/> <span class="No-Break"><span class="koboSpan" id="kobo.925.1">app deployment:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer093">
<span class="koboSpan" id="kobo.926.1"><img alt="Figure 7.52: Navigating to the ECS Tasks menu of your web app" src="image/B21803_07_52.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.927.1">Figure 7.52: Navigating to the ECS Tasks menu of your web app</span></p>
<ol>
<li value="5"><span class="koboSpan" id="kobo.928.1">Click on the current deployment hash number associated with your ECS </span><span class="No-Break"><span class="koboSpan" id="kobo.929.1">task’s deployment:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer094">
<span class="koboSpan" id="kobo.930.1"><img alt="Figure 7.53: Accessing the latest version of your ECS task" src="image/B21803_07_53.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.931.1">Figure 7.53: Accessing the latest version of your ECS task</span></p>
<ol>
<li value="6"><span class="koboSpan" id="kobo.932.1">Look under the </span><strong class="bold"><span class="koboSpan" id="kobo.933.1">Public IP</span></strong><span class="koboSpan" id="kobo.934.1"> heading to obtain</span><a id="_idIndexMarker554"/><span class="koboSpan" id="kobo.935.1"> your web app’s public</span><a id="_idIndexMarker555"/> <span class="No-Break"><span class="koboSpan" id="kobo.936.1">IP address:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer095">
<span class="koboSpan" id="kobo.937.1"><img alt="Figure 7.54: Locating the current public IPv4 address of your web app" src="image/B21803_07_54.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.938.1">Figure 7.54: Locating the current public IPv4 address of your web app</span></p>
<ol>
<li value="7"><span class="koboSpan" id="kobo.939.1">If everything has gone correctly and your GitHub Actions workflow has run successfully, you should be able to browse the web app and experience it for yourself. </span><span class="koboSpan" id="kobo.939.2">The following screenshot provides an example of what you should see upon accessing the web application with your </span><span class="No-Break"><span class="koboSpan" id="kobo.940.1">web browser:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer096">
<span class="koboSpan" id="kobo.941.1"><img alt="Figure 7.55: Browsing your web app running in AWS ECS!" src="image/B21803_07_55.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.942.1">Figure 7.55: Browsing your web app running in AWS ECS!</span></p>
<p><span class="koboSpan" id="kobo.943.1">The web application that you deployed </span><a id="_idIndexMarker556"/><span class="koboSpan" id="kobo.944.1">into ECS is a simple</span><a id="_idIndexMarker557"/><span class="koboSpan" id="kobo.945.1"> website that was built using the Bootstrap </span><span class="No-Break"><span class="koboSpan" id="kobo.946.1">web kit.</span></span></p>
<h1 id="_idParaDest-136"><a id="_idTextAnchor138"/><span class="koboSpan" id="kobo.947.1">Summary</span></h1>
<p><span class="koboSpan" id="kobo.948.1">This concludes </span><a href="B21803_07.xhtml#_idTextAnchor120"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.949.1">Chapter 7</span></em></span></a><span class="koboSpan" id="kobo.950.1">. </span><span class="koboSpan" id="kobo.950.2">In this chapter, you have been shown a simple example of CI/CD pipeline code, written as a GitHub Actions workflow. </span><span class="koboSpan" id="kobo.950.3">After being exposed to CI/CD pipeline syntax, you now have a fundamental understanding of the way that pipelines are composed and how they can be versioned. </span><span class="koboSpan" id="kobo.950.4">This means that you are equipped with the ability to read, write, and comprehend pipeline files and can determine what activities occur within each step therein. </span><span class="koboSpan" id="kobo.950.5">Additionally, you have been shown how to provision AWS infrastructure using ClickOps. </span><span class="koboSpan" id="kobo.950.6">By leveraging this foundational knowledge, you are poised to build your skills and move toward advanced infrastructure deployment strategies, namely IaC. </span><span class="koboSpan" id="kobo.950.7">Not only that, but you have gained essential knowledge that is needed to configure the backend of GitHub Actions. </span><span class="koboSpan" id="kobo.950.8">As a result of these activities, you can now prepare end-to-end workflows that cover DevOps release management principles such as testing, building, and deploying applications as Docker containers into the cloud! </span><span class="koboSpan" id="kobo.950.9">Finally, you have been given a primer on writing useful documentation that accompanies your software releases, </span><span class="No-Break"><span class="koboSpan" id="kobo.951.1">including changelogs.</span></span></p>
<p><span class="koboSpan" id="kobo.952.1">In the next chapter, we’ll discuss how CI/CD pipelines enforce good DevOps release management. </span><span class="koboSpan" id="kobo.952.2">The topics include balancing CI/CD governance with speed to market, developing your team’s branching strategy, constructing release pipelines, and implementing a change approval process that is appropriate for DevOps </span><span class="No-Break"><span class="koboSpan" id="kobo.953.1">release management.</span></span></p>
<h1 id="_idParaDest-137"><a id="_idTextAnchor139"/><span class="koboSpan" id="kobo.954.1">Resources</span></h1>
<p><span class="koboSpan" id="kobo.955.1">To learn more about the topics that were covered in this chapter, take a look at the </span><span class="No-Break"><span class="koboSpan" id="kobo.956.1">following resources:</span></span></p>
<ul>
<li><a href="https://docs.aws.amazon.com/AmazonECS/latest/userguide/getting-started-fargate.html"><span class="No-Break"><span class="koboSpan" id="kobo.957.1">https://docs.aws.amazon.com/AmazonECS/latest/userguide/getting-started-fargate.html</span></span></a></li>
<li><a href="https://docs.aws.amazon.com/AmazonECS/latest/userguide/create-container-image.html"><span class="No-Break"><span class="koboSpan" id="kobo.958.1">https://docs.aws.amazon.com/AmazonECS/latest/userguide/create-container-image.html</span></span></a></li>
<li><a href="https://docs.aws.amazon.com/AmazonECS/latest/userguide/get-set-up-for-amazon-ecs.html"><span class="No-Break"><span class="koboSpan" id="kobo.959.1">https://docs.aws.amazon.com/AmazonECS/latest/userguide/get-set-up-for-amazon-ecs.html</span></span></a></li>
<li><a href="https://docs.github.com/en/actions/deployment/deploying-to-your-cloud-provider/deploying-to-amazon-elastic-container-service"><span class="No-Break"><span class="koboSpan" id="kobo.960.1">https://docs.github.com/en/actions/deployment/deploying-to-your-cloud-provider/deploying-to-amazon-elastic-container-service</span></span></a></li>
<li><a href="https://earthly.dev/blog/github-actions-and-docker/"><span class="No-Break"><span class="koboSpan" id="kobo.961.1">https://earthly.dev/blog/github-actions-and-docker/</span></span></a></li>
</ul>
<h1 id="_idParaDest-138"><a id="_idTextAnchor140"/><span class="koboSpan" id="kobo.962.1">Questions</span></h1>
<p><span class="koboSpan" id="kobo.963.1">Answer the following questions to test your knowledge of </span><span class="No-Break"><span class="koboSpan" id="kobo.964.1">this chapter:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.965.1">What is a GitHub </span><span class="No-Break"><span class="koboSpan" id="kobo.966.1">Actions Workflow?</span></span></li>
<li><span class="koboSpan" id="kobo.967.1">What </span><span class="No-Break"><span class="koboSpan" id="kobo.968.1">is ClickOps?</span></span></li>
<li><span class="koboSpan" id="kobo.969.1">What is an AWS </span><span class="No-Break"><span class="koboSpan" id="kobo.970.1">access key?</span></span></li>
<li><span class="koboSpan" id="kobo.971.1">What is an AWS </span><span class="No-Break"><span class="koboSpan" id="kobo.972.1">IAM policy?</span></span></li>
<li><span class="koboSpan" id="kobo.973.1">What is a GitHub </span><span class="No-Break"><span class="koboSpan" id="kobo.974.1">repository “fork”?</span></span></li>
<li><span class="koboSpan" id="kobo.975.1">What is an AWS </span><span class="No-Break"><span class="koboSpan" id="kobo.976.1">security group?</span></span></li>
<li><span class="koboSpan" id="kobo.977.1">What is an </span><span class="No-Break"><span class="koboSpan" id="kobo.978.1">ECS cluster?</span></span></li>
<li><span class="koboSpan" id="kobo.979.1">What is a container </span><span class="No-Break"><span class="koboSpan" id="kobo.980.1">image repository?</span></span></li>
<li><span class="koboSpan" id="kobo.981.1">What is an </span><span class="No-Break"><span class="koboSpan" id="kobo.982.1">environment variable?</span></span></li>
<li><span class="koboSpan" id="kobo.983.1">What is a </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.984.1">README.md</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.985.1"> file?</span></span></li>
</ol>
</div>
</body></html>