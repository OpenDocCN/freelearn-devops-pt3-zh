["```\nname: Salesforce CI\non:\n  push:\n    branches: [ main ]\n  pull_request:\n    branches: [ main ]\n```", "```\njobs:\n  deploy:\n    runs-on: ubuntu-latest\n```", "```\n  steps:\n      - name: Checkout\n        uses: actions/checkout@v2\n       - name: Install Salesforce CLI\n        run: |\n              wget https://developer.salesforce.com/media/salesforce-cli/sfdx/channels/stable/sfdx-linux-x64.tar.xz\n              mkdir ~/sfdx\n              tar xJf sfdx-linux-x64.tar.xz -C ~/sfdx --strip-components 1\n              echo \"$HOME/sfdx/bin\" >> $GITHUB_PATH\n              ~/sfdx/bin/sfdx version\n```", "```\n# The URL is stored in the Github Secret named DEVHUB_SFDX_URL\n# so here we store the URL into a text file\n      - name: 'Populate auth file with SFDX_URL secret of integration org'\n        shell: bash\n        run: |\n                echo ${{ secrets.DEVHUB_SFDX_URL}} > ./DEVHUB_SFDX_URL.txt\n```", "```\nsf org display -o <OrgUsername> --verbose --json > authFile.json\n```", "```\n- name: Authenticate to Salesforce\n        run: |\n           sf auth sfdxurl store -f DEVHUB_SFDX_URL.txt -a HubOrg\n```", "```\n- name: Create A New Scratch Org\n        run: |\n           sf org create scratch --target-dev-hub HubOrg --set-default --definition-file config/project-scratch-def.json --alias ciorg --wait=10\n      - name: Push changes to new Scratch Org\n        run: |\n           sf project deploy start --target-org ciorg\n```", "```\n- name: Run all Apex tests\n        run: |\n           sf apex run test -o ciorg -l RunLocalTests -r tap -d test-results\n```", "```\n- name: Delete scratch org\n        run: |\n           sf org delete scratch --target-org ciorg --no-prompt\n```", "```\nwget -q -O - https://pkg.jenkins.io/debian/jenkins.io.key | sudo apt-key add –\n```", "```\necho deb http://pkg.jenkins.io/debian-stable binary/ | sudo tee /etc/apt/sources.list.d/jenkins.list\n```", "```\n#!groovy\nnode\n{\n    def SF_CONSUMER_KEY = env.CONNECTED_APP_CONSUMER_KEY_DH\n    def SERVER_KEY_CREDENTALS_ID = env.JWT_CRED_ID_DH\n    def TEST_LEVEL = 'RunAllTestsInOrg'\n    def SF_INSTANCE_URL = env.SFDC_HOST_DH\n    def SF_USERNAME = env.HUB_ORG_DH\n    def sfdxcli = tool 'sf'\n```", "```\n    stage('Pull changes')\n    {\n            echo 'Pulling changes from the repository'\n            checkout scm\n    }\n```", "```\n    withCredentials([file(credentialsId: SERVER_KEY_CREDENTALS_ID, variable: 'jwt_key_file')])\n```", "```\n    {\n        withEnv([\"HOME=${env.WORKSPACE}\"])\n```", "```\n        {\n            stage('Auth to Salesforce')\n            {\n                    echo 'Authenticating to Salesforce'\n                     rc = bat returnStatus: true, script: \"\\\"${toolbelt}\\\\sfdx\\\" force auth jwt grant -i ${SF_CONSUMER_KEY} --username ${SF_USERNAME} -f \\\"${jwt_key_file}\\\" -d -r ${SF_INSTANCE_URL} -a HubOrg\"\n                    if (rc != 0) { error 'hub org authorization failed' }\n                    println rc\n            }\n```", "```\n            stage('Create scratch org')\n            {\n                        echo 'Creating scratch org'\n                        script\n                        {\n                             rc = bat returnStatus: true, script: \"\\\"${toolbelt}\\\\sf\\\" org create scratch --target-dev-hub HubOrg --set-default --definition-file config/project-scratch-def.json --alias ciorg --wait=10\"\n                            if (rc != 0)\n                            {\n                                error 'Salesforce test scratch org creation failed.'\n                            }\n                            println rc\n                        }\n            }\n```", "```\n            stage('Push To Test Scratch Org')\n            {\n                echo 'Pushing changes to test scratch org'\n                    script\n                    {\n                         rc = bat returnStatus: true, script: \"\\\"${toolbelt}\\\\sf\\\" project deploy start --target-org ciorg\"\n                        if (rc != 0)\n                        {\n                            error 'Salesforce push to test scratch org failed.'\n                        }\n                        println rc\n                    }\n            }\n```", "```\n            stage('Run tests in scratch org')\n            {\n                echo 'Running tests in scratch org at test level ${TEST_LEVEL}'\n                    script\n                    {\n                        rc = bat returnStatus: true, script: \"\\\"${sfdxcli}\\\\sf\\\" apex run test -o ciorg -l ${TEST_LEVEL} -r tap -d test-results\"\n                        if (rc != 0)\n                        {\n                            error 'Salesforce test run failed.'\n                        }\n                        println rc\n                    }\n            }\n```", "```\n            stage('Delete scratch org')\n            {\n                echo 'Deleting scratch org'\n                    script\n                    {\n                         rc = bat returnStatus: true, script: \"\\\"${toolbelt}\\\\sf\\\" org delete scratch --target-org ciorg --no-prompt\"\n                        if (rc != 0)\n                        {\n                            error 'Salesforce test scratch org deletion failed.'\n                        }\n                        println rc\n                    }\n            }\n        }\n    }\n}\n```"]