<html><head></head><body>
		<div id="_idContainer541">
			<h1 class="chapter-number" id="_idParaDest-239"><a id="_idTextAnchor240"/>12</h1>
			<h1 id="_idParaDest-240"><a id="_idTextAnchor241"/>Escalate Using Opsgenie Alerts</h1>
			<p>As part of Atlassian’s Open DevOps package, you also get access to Opsgenie. Opsgenie is a separate product that allows teams to manage alerts, incidents, and incident escalation. It is normally used by<a id="_idIndexMarker881"/> agents using <strong class="bold">Jira Service Management</strong>, but it also works for software teams that need to be involved in resolving production issues. Software teams can leverage the power of Opsgenie to manage alerts and incidents that occur against the systems that have been deployed <span class="No-Break">to production.</span></p>
			<p>As we look at the entire DevOps lifecycle, Opsgenie facilitates monitoring activities. Once your products and services are deployed in production, monitoring and reacting to incidents is a critical piece of the feedback loop. This chapter will explore how to configure Opsgenie and integrate it <span class="No-Break">with Jira.</span></p>
			<p> This chapter has the <span class="No-Break">following recipes:</span></p>
			<ul>
				<li>Setting up <span class="No-Break">Opsgenie teams</span></li>
				<li>Setting up Opsgenie <span class="No-Break">with Jira</span></li>
				<li>Setting up <span class="No-Break">on-call schedules</span></li>
				<li>Configuring escalation policies <span class="No-Break">and rules</span></li>
				<li>Escalation and <span class="No-Break">notifications configuration</span></li>
				<li>Improving team communication and response <span class="No-Break">with ChatOps</span></li>
			</ul>
			<h1 id="_idParaDest-241"><a id="_idTextAnchor242"/>Technical requirements</h1>
			<p>You will need the <span class="No-Break">following software:</span></p>
			<ul>
				<li><span class="No-Break">Jira</span></li>
				<li><span class="No-Break">Opsgenie</span></li>
				<li><span class="No-Break">Compass</span></li>
			</ul>
			<h1 id="_idParaDest-242"><a id="_idTextAnchor243"/>Setting up Opsgenie teams</h1>
			<p>In this<a id="_idIndexMarker882"/> recipe, we are going to configure your team so that Opsgenie can send out the appropriate notifications when an incident occurs. If you have already created a team in Jira, Confluence, or Compass, you will need to recreate your team in Opsgenie because as of the time of writing, the team in Opsgenie doesn’t communicate with those team settings. You will need to recreate your team in Opsgenie exactly how you have it in the other Atlassian tools if you want the same team name and members. Otherwise, you have the option to create an entirely new team <span class="No-Break">in Opsgenie.</span></p>
			<h2 id="_idParaDest-243"><a id="_idTextAnchor244"/>How to do it</h2>
			<p>The following steps will guide you through creating a team <span class="No-Break">in Opsgenie:</span></p>
			<ol>
				<li>In Opsgenie, click on <strong class="bold">Teams</strong> in the <span class="No-Break">navigation bar.</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer480">
					<img alt="Figure ﻿12.1 – Select Teams in Opsgenie" src="image/B21937_12_01.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.1 – Select Teams in Opsgenie</p>
			<ol>
				<li value="2">Click on <span class="No-Break"><strong class="bold">Add team</strong></span><span class="No-Break">.</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer481">
					<img alt="Figure 12.2 – Add a new team" src="image/B21937_12_02.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.2 – Add a new team</p>
			<ol>
				<li value="3">Provide a name and a description of your team, and if you have the member information available, add the members’ names as well. Click on <strong class="bold">Add team</strong> when you<a id="_idIndexMarker883"/> have finished adding your members to the <span class="No-Break">new team.</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer482">
					<img alt="Figure 12.3 – New team details" src="image/B21937_12_03.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.3 – New team details</p>
			<p class="callout-heading">Important note</p>
			<p class="callout">If your team member doesn’t show up, then you’ll need to go to Opsgenie’s settings in the navigation bar and add your users there. As noted earlier, Opsgenie is independent from the rest of the Atlassian tools and users are managed independently <span class="No-Break">as well.</span></p>
			<ol>
				<li value="4">If you have not added your team members to Opsgenie, you can add them by clicking on <strong class="bold">Members</strong> in the left pane and then clicking <strong class="bold">Add member</strong> at the top of the <span class="No-Break"><strong class="bold">Members</strong></span><span class="No-Break"> page.</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer483">
					<img alt="Figure 12.4 – Opsgenie settings to add new members" src="image/B21937_12_04.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.4 – Opsgenie settings to add new members</p>
			<p class="list-inset">Add any missing team members to your Opsgenie team and assign the appropriate role (<strong class="bold">user</strong> or <strong class="bold">admin</strong>). Click <strong class="bold">Add</strong> when you are finished <span class="No-Break">adding members.</span></p>
			<div>
				<div class="IMG---Figure" id="_idContainer484">
					<img alt="Figure 12.5 – Add a member to the team with the appropriate role" src="image/B21937_12_05.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.5 – Add a member to the team with the appropriate role</p>
			<p>Now your <a id="_idIndexMarker884"/>team is all onboarded in Opsgenie. It is time to start creating your team’s on-call schedule, which will be covered in the <span class="No-Break">next recipe.</span></p>
			<h1 id="_idParaDest-244"><a id="_idTextAnchor245"/>Setting up Opsgenie with Jira</h1>
			<p>Opsgenie is a <a id="_idIndexMarker885"/>separate Atlassian product that is typically bundled with Jira Service Management or when you go through Atlassian’s Open DevOps package. When you sign up for either service, Opsgenie will be made available but <a id="_idIndexMarker886"/>navigating to the Opsgenie product is not very easy. For this chapter, we are going to focus on utilizing Opsgenie through Jira. Since Open DevOps does not include Jira Service Management, there will be no discussion of Jira Service Management in this chapter, but feel free to explore the capabilities of Jira Service Management as it is a great product used for IT service <span class="No-Break">management teams.</span></p>
			<h2 id="_idParaDest-245"><a id="_idTextAnchor246"/>How to do it</h2>
			<p>In Jira, select <a id="_idIndexMarker887"/>the Jira project your team is using to track their <a id="_idIndexMarker888"/>development tasks. Once in that project, you’ll first want to enable and connect with Opsgenie. You’ll need to use the <span class="No-Break">following steps:</span></p>
			<ol>
				<li>Select the Jira project that you want to integrate with Opsgenie, then go to <strong class="bold">Project settings</strong> and <span class="No-Break">select </span><span class="No-Break"><strong class="bold">Toolchain</strong></span><span class="No-Break">.</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer485">
					<img alt="Figure 12.6 – Toolchain selection from within the Jira project" src="image/B21937_12_06.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.6 – Toolchain selection from within the Jira project</p>
			<ol>
				<li value="2">In the <strong class="bold">Toolchain</strong> window, click on <strong class="bold">Add</strong>. From the dropdown, select <strong class="bold">Add </strong><span class="No-Break"><strong class="bold">on-call team</strong></span><span class="No-Break">.</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer486">
					<img alt="Figure 12.7 – Add new on-call team from within Toolchain" src="image/B21937_12_07.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.7 – Add new on-call team from within Toolchain</p>
			<ol>
				<li value="3">Select <strong class="bold">Opsgenie</strong> and <a id="_idIndexMarker889"/>click on <strong class="bold">Add </strong><span class="No-Break"><strong class="bold">to project</strong></span><span class="No-Break">.</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer487">
					<img alt="Figure 12.8 – Select Opsgenie as an on-call team provider" src="image/B21937_12_08.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.8 – Select Opsgenie as an on-call team provider</p>
			<ol>
				<li value="4">Create <a id="_idIndexMarker890"/>or search for <span class="No-Break">a team.</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer488">
					<img alt="Figure 12.9 – Add an on-call team" src="image/B21937_12_09.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.9 – Add an on-call team</p>
			<ol>
				<li value="5">Type in the name of your team and click on the green circle to create <span class="No-Break">the team.</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer489">
					<img alt="Figure 12.10 – Select the team to add" src="image/B21937_12_10.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.10 – Select the team to add</p>
			<ol>
				<li value="6">Click <a id="_idIndexMarker891"/>on the <strong class="bold">Add </strong><span class="No-Break"><strong class="bold">team</strong></span><span class="No-Break"> button.</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer490">
					<img alt="Figure 12.11 – Add an on-call team" src="image/B21937_12_11.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.11 – Add an on-call team</p>
			<ol>
				<li value="7">Back<a id="_idIndexMarker892"/> in your Jira <strong class="bold">Project settings</strong>, click <span class="No-Break">on </span><span class="No-Break"><strong class="bold">Features</strong></span><span class="No-Break">.</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer491">
					<img alt="Figure 12.12 – Select Features from within the Jira project" src="image/B21937_12_12.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.12 – Select Features from within the Jira project</p>
			<ol>
				<li value="8">Under <strong class="bold">Operations</strong>, find the <strong class="bold">On-call</strong> section and make sure the slider <span class="No-Break">is green.</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer492">
					<img alt="Figure 12.13 – Enable On-call from within the Jira project features" src="image/B21937_12_13.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.13 – Enable On-call from within the Jira project features</p>
			<p class="list-inset">You <a id="_idIndexMarker893"/>should now be able to access your on-call schedule <a id="_idIndexMarker894"/>and have a link to jump into Opsgenie from your main Jira project. In your Jira project, you’ll have an <strong class="bold">On-call</strong> section and a link that says <strong class="bold">View </strong><span class="No-Break"><strong class="bold">in Opsgenie</strong></span><span class="No-Break">.</span></p>
			<div>
				<div class="IMG---Figure" id="_idContainer493">
					<img alt="Figure 12.14 – On-call view from within the Jira project" src="image/B21937_12_14.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.14 – On-call view from within the Jira project</p>
			<p>Opsgenie is now connected with <a id="_idTextAnchor247"/>Jira and your team is now ready to start managing alerts and viewing on-call schedules from <span class="No-Break">within Jira.</span></p>
			<h1 id="_idParaDest-246"><a id="_idTextAnchor248"/>Setting up on-call schedules</h1>
			<p>Once your<a id="_idIndexMarker895"/> team has been created and your team members<a id="_idIndexMarker896"/> have been added, it is time to add an <strong class="bold">on-call schedule</strong>. The on-call schedule allows your team to divide responsibility with respect to making sure that your components and software always has coverage. If something goes wrong with a production environment, the on-call schedule will know who to notify based on the time of the incident and the team member assigned to that block <span class="No-Break">of time.</span></p>
			<h2 id="_idParaDest-247"><a id="_idTextAnchor249"/>How to do it</h2>
			<p>An on-call schedule<a id="_idIndexMarker897"/> in Opsgenie lets your team stay organized and distribute the responsibility for managing and ensuring that critical components are operational. The following steps will show you how to configure your team’s <span class="No-Break">on-call schedule:</span></p>
			<ol>
				<li>In Opsgenie, click on <strong class="bold">Teams</strong> in the navigation bar and then click on the team for which you want to create an <span class="No-Break">on-call schedule.</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer494">
					<img alt="Figure 12.15 – Select Opsgenie team" src="image/B21937_12_15.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.15 – Select Opsgenie team</p>
			<ol>
				<li value="2">Once you are in the team dashboard, click on the <strong class="bold">On-call</strong> button. This will present you with a few different options. For now, scroll all the way down and find the <span class="No-Break"><strong class="bold">On-call</strong></span><span class="No-Break"> section.</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer495">
					<img alt="Figure 12.16 – Team On-call schedule" src="image/B21937_12_16.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.16 – Team On-call schedule</p>
			<p class="callout-heading">Important note</p>
			<p class="callout"><strong class="bold">Rotations</strong> dictate who in your team will be on call for that specific time period. There should already be an existing rotation visible. We are going to edit this existing rotation. Optionally, you have the option to create additional rotations. Adding a new rotation can complicate things, so it is recommended that you stick to a single rotation while your team gets used to being on-call. Most software teams are not used to being on-call, so this may be a bit of a learning curve. Try to keep your rotations as simple as possible while your team is starting out. Opsgenie will be able to scale and grow with your team as you get better and more used to doing rotations. As a best practice, a teammate should be assigned at least a 1 full week as part of <span class="No-Break">their rotation.</span></p>
			<ol>
				<li value="3">Edit the <a id="_idIndexMarker898"/>existing rotation by clicking on the pencil icon button under the <span class="No-Break"><strong class="bold">Rotations</strong></span><span class="No-Break"> heading.</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer496">
					<img alt="Figure 12.17 – Edit existing on-call rotation" src="image/B21937_12_17.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.17 – Edit existing on-call rotation</p>
			<ol>
				<li value="4">Start by changing the rotation name to anything that makes more sense for you and <span class="No-Break">your team.</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer497">
					<img alt="Figure 12.18 – Edit rotation name" src="image/B21937_12_18.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.18 – Edit rotation name</p>
			<ol>
				<li value="5">From<a id="_idIndexMarker899"/> there, under <strong class="bold">Participants</strong>, there is a search box. There, type in the names of your team members to add them as participants of <span class="No-Break">this rotation.</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer498">
					<img alt="Figure 12.19 – Add team members as participants" src="image/B21937_12_19.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.19 – Add team members as participants</p>
			<ol>
				<li value="6">Next, set your <strong class="bold">Rotation type</strong> option. As mentioned earlier, it is recommended you do a weekly rotation. You have the option to do <strong class="bold">daily</strong>, <strong class="bold">weekly</strong>, or a <span class="No-Break"><strong class="bold">custom</strong></span><span class="No-Break"> rotations.</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer499">
					<img alt="Figure 12.20 – Select rotation type" src="image/B21937_12_20.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.20 – Select rotation type</p>
			<ol>
				<li value="7">After that, you<a id="_idIndexMarker900"/> will set the start date for your rotation. Optionally, you can set when the rotation is going to end. Most teams will have a rotation that lives <span class="No-Break">on forever.</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer500">
					<img alt="Figure 12.21 – Select rotation start date" src="image/B21937_12_21.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.21 – Select rotation start date</p>
			<ol>
				<li value="8">Once you fill all of that information out, Opsgenie will create <span class="No-Break">your schedule:</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer501">
					<img alt="Figure 12.22 – Updated rotation on-call schedule" src="image/B21937_12_22.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.22 – Updated rotation on-call schedule</p>
			<p class="list-inset">Click <a id="_idIndexMarker901"/>on the <strong class="bold">Add</strong> button and your on-call schedule will <span class="No-Break">be set.</span></p>
			<p class="callout-heading">Important note</p>
			<p class="callout">At this point, you can make additional on-call schedules for weekends, holidays, and pre-planned days off. Whatever your team may need, Opsgenie is flexible enough and you will be able to put your team’s schedule in Opsgenie to ensure that escalation policies and routing rules in the next recipe <span class="No-Break">work effectively.</span></p>
			<p>Your on-call schedule is now created. Whenever it is someone’s turn to be on call, they will receive a notification from Opsgenie to start <span class="No-Break">their rotation.</span></p>
			<h1 id="_idParaDest-248"><a id="_idTextAnchor250"/>Configuring escalation policies and rules</h1>
			<p>Once your <a id="_idIndexMarker902"/>on-call schedule has been configured, it is time to configure the escalation policies and routing rules. Opsgenie uses the <strong class="bold">escalation policies</strong>, <strong class="bold">routing rules</strong>, and the <strong class="bold">on-call schedule</strong> from the previous recipe to determine who will be alerted when an <span class="No-Break">incident occurs.</span></p>
			<p class="callout-heading">Important note</p>
			<p class="callout">It’s important to get the escalation policies and routing rules correct otherwise you risk sending the alert to the wrong team. The escalation policy you configure will determine which users are notified when an alert occurs. Most importantly, the escalation policy determines the order of which users get notified and when based on how much time has elapsed since the alert was created. If your team doesn’t reply, the next person in the chain gets notified until someone does something to resolve the alert/incident. The routing policy will determine how the notification gets routed when an alert occurs. There are a few different options available to you which will be explored in more detail in <span class="No-Break">this recipe.</span></p>
			<h2 id="_idParaDest-249"><a id="_idTextAnchor251"/>How to do it</h2>
			<p>By default, you<a id="_idIndexMarker903"/> should already have an escalation policy created in Opsgenie. Similar to creating the on-call schedule, you have the option to modify the existing escalation policy, or you can add additional <span class="No-Break">escalation policies.</span></p>
			<p>The escalation policy determines who gets notified of any alerts in Opsgenie when something goes wrong. Let’s configure your first <span class="No-Break">escalation policy:</span></p>
			<ol>
				<li>Select your team <span class="No-Break">from Opsgenie.</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer502">
					<img alt="Figure 12.23 – Selected team to configure escalation policy" src="image/B21937_12_23.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.23 – Selected team to configure escalation policy</p>
			<ol>
				<li value="2">Start by hovering over the existing escalation policy and you will see the <strong class="bold">Edit</strong> button <span class="No-Break">reveal itself.</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer503">
					<img alt="Figure 12.24 – Edit existing escalation policy" src="image/B21937_12_24.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.24 – Edit existing escalation policy</p>
			<p class="list-inset">Clicking on the <strong class="bold">Edit</strong> button will pull up a menu that allows you to configure <span class="No-Break">your escalation.</span></p>
			<div>
				<div class="IMG---Figure" id="_idContainer504">
					<img alt="Figure 12.25 – Escalation policies that can be configured" src="image/B21937_12_25.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.25 – Escalation policies that can be configured</p>
			<ol>
				<li value="3">The<a id="_idIndexMarker904"/> first item to change is the <strong class="bold">Name </strong>setting. By default, this is your team’s name plus the word <strong class="source-inline">escalation</strong>. Feel free to change it to whatever <span class="No-Break">you want.</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer505">
					<img alt="Figure 12.26 – Updated escalation name" src="image/B21937_12_26.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.26 – Updated escalation name</p>
			<ol>
				<li value="4">Next, you can optionally provide a <strong class="bold">Description</strong> text to help your team have a better understanding of what the purpose of this specific escalation <span class="No-Break">policy is.</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer506">
					<img alt="Figure 12.27 – Updated escalation description" src="image/B21937_12_27.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.27 – Updated escalation description</p>
			<ol>
				<li value="5">Finally, you<a id="_idIndexMarker905"/> can modify the existing rules or add <span class="No-Break">additional rules.</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer507">
					<img alt="Figure 12.28 – Updated escalation rules" src="image/B21937_12_28.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.28 – Updated escalation rules</p>
			<p class="callout-heading">Important note</p>
			<p class="callout">By default, the escalation policy will immediately notify all the members of your on-call schedule as soon as an alert is created, and it is not acknowledged right away. Then, after 10 minutes, if no one from the on-call schedule has acknowledged the alert, a notification is sent to all the members of your team. This will include all the members not currently on the <span class="No-Break">on-call rotation.</span></p>
			<ol>
				<li value="6">If you need to escalate things even further, you can add <span class="No-Break">additional rules.</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer508">
					<img alt="Figure 12.29 – Additional escalation rules" src="image/B21937_12_29.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.29 – Additional escalation rules</p>
			<ol>
				<li value="7">When adding an additional rule, you first need to determine whether the escalation policy will escalate when an alert is not acknowledged or <span class="No-Break">not closed.</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer509">
					<img alt="Figure 12.30 – Determine when rule is triggered" src="image/B21937_12_30.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.30 – Determine when rule is triggered</p>
			<ol>
				<li value="8">Once you make that decision, then you pick how much time can elapse after the alert <span class="No-Break">is created.</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer510">
					<img alt="Figure 12.31 – Determine how long after trigger alert should wait" src="image/B21937_12_31.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.31 – Determine how long after trigger alert should wait</p>
			<ol>
				<li value="9">Next, pick <a id="_idIndexMarker906"/>who will receive the notification of the escalation. You have quite a few options and just keep in mind that as time elapses, you want to increase the visibility of the alert to the appropriate people that can then take action to address <span class="No-Break">the alert.</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer511">
					<img alt="Figure 12.32 – Select who should get notified of the alert" src="image/B21937_12_32.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.32 – Select who should get notified of the alert</p>
			<ol>
				<li value="10">Finally, pick a specific team or user to receive the notification. The teams available will be determined by the <span class="No-Break">previous recipe.</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer512">
					<img alt="Figure 12.33 – Select the team that will receive the alert" src="image/B21937_12_33.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.33 – Select the team that will receive the alert</p>
			<ol>
				<li value="11">When you are finished making the escalation rule, click <span class="No-Break">on </span><span class="No-Break"><strong class="bold">Save</strong></span><span class="No-Break">.</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer513">
					<img alt="Figure 12.34 – Save escalation rule" src="image/B21937_12_34.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.34 – Save escalation rule</p>
			<h2 id="_idParaDest-250"><a id="_idTextAnchor252"/>There’s more</h2>
			<p>Now that the escalation policy exists, it is time to work on the <span class="No-Break">routing rules.</span></p>
			<h3>Routing rules</h3>
			<p>Like with the <a id="_idIndexMarker907"/>escalation policy, each team should have a default routing rule in place. Routing rules are quite simple, and you can either modify the existing routing rule or add a new routing rule altogether. Let us use the <span class="No-Break">following steps:</span></p>
			<ol>
				<li>Back in Opsgenie, under the <strong class="bold">On-call</strong> section, we are going to modify the default <span class="No-Break">routing rule.</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer514">
					<img alt="Figure 12.35 – Routing rule configuration" src="image/B21937_12_35.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.35 – Routing rule configuration</p>
			<p class="callout-heading">Important note</p>
			<p class="callout">You have three main options when it comes to setting up your routing rules. You can route the alert to no one, you can route it to your escalation policy, or you can route it directly to your <span class="No-Break">on-call team.</span></p>
			<ol>
				<li value="2">Click on the existing routing rule and then you will be able to select which type of route you want to route your alerts to. The following screenshot shows the options that <span class="No-Break">are available.</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer515">
					<img alt="Figure 12.36 – Select escalation routing rule" src="image/B21937_12_36.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.36 – Select escalation routing rule</p>
			<ol>
				<li value="3">Alternatively, you can create a new routing rule if you do not want to use the default one that Opsgenie provides. Creating a routing rule presents you with a few more options when compared to creating an escalation rule. The following steps will <a id="_idIndexMarker908"/>explain how to configure a <span class="No-Break">routing rule:</span><ol><li class="upper-roman">To get started, click on <strong class="bold">Add routing rule</strong> in the <span class="No-Break">top-right corner.</span></li></ol></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer516">
					<img alt="Figure 12.37 – Add a new routing rule" src="image/B21937_12_37.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.37 – Add a new routing rule</p>
			<ol>
				<li class="upper-roman" value="2">After you click on the <strong class="bold">Add routing rule</strong> button, you’ll be prompted to provide a name for your <span class="No-Break">routing rule.</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer517">
					<img alt="Figure 12.38 – Provide the routing rule a name" src="image/B21937_12_38.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.38 – Provide the routing rule a name</p>
			<ol>
				<li class="upper-roman" value="3">Next, you’ll pick when the routing rule goes into effect. You can pick from <strong class="bold">Match all alerts</strong>, which means that for any alert, the routing rule will go into effect (default). Alternatively, you can make your routing rule trigger based on the condition of <span class="No-Break">the alert.</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer518">
					<img alt="Figure 12.39 – Select what conditions trigger the routing rule" src="image/B21937_12_39.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.39 – Select what conditions trigger the routing rule</p>
			<ol>
				<li class="upper-roman" value="4">You can create conditions based on either the alert’s priority or a tag associated with it. The most important takeaway here is that you can make the routing rule go into effect if an alert with a specific priority <span class="No-Break">is received.</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer519">
					<img alt="Figure 12.40 – Determine conditions for the routing rule" src="image/B21937_12_40.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.40 – Determine conditions for the routing rule</p>
			<ol>
				<li class="upper-roman" value="5">Once you<a id="_idIndexMarker909"/> set up your conditions, then the final step is to determine the action that is going be triggered by the <span class="No-Break">automation rule.</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer520">
					<img alt="Figure 12.41 – Determine the action the routing rule will take" src="image/B21937_12_41.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.41 – Determine the action the routing rule will take</p>
			<ol>
				<li class="upper-roman" value="6">Once you pick the route, simply click on the <strong class="bold">Add</strong> button to finish creating your new <span class="No-Break">routing rule.</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer521">
					<img alt="Figure 12.42 – Add the new routing rule" src="image/B21937_12_42.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.42 – Add the new routing rule</p>
			<p>Now that your escalation and routing rules are configured, it is time to manage the notifications that are sent out <span class="No-Break">from Opsgenie.</span></p>
			<h1 id="_idParaDest-251"><a id="_idTextAnchor253"/>Escalation and notifications configuration</h1>
			<p>When an incident occurs in a production environment, an alert can be raised in Opsgenie. You<a id="_idIndexMarker910"/> do this by opening Opsgenie and creating an alert directly from within Opsgenie. When Opsgenie is bundled with Jira Service Management, the creation of an alert can happen from within a support request. However, since Jira Service Management is not part of the Open DevOps package, an alert must be manually created <span class="No-Break">in Opsgenie.</span></p>
			<h2 id="_idParaDest-252"><a id="_idTextAnchor254"/>How to do it</h2>
			<p>Let’s use<a id="_idIndexMarker911"/> the following steps to create <span class="No-Break">an alert:</span></p>
			<ol>
				<li>To create an alert, click on <strong class="bold">Alerts</strong> in the navigation bar <span class="No-Break">within Opsgenie.</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer522">
					<img alt="Figure 12.43 – Select Alerts from the Opsgenie menu" src="image/B21937_12_43.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.43 – Select Alerts from the Opsgenie menu</p>
			<ol>
				<li value="2">Once you are in the <strong class="bold">Alerts</strong> section, click on the <strong class="bold">Create </strong><span class="No-Break"><strong class="bold">alert</strong></span><span class="No-Break"> button.</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer523">
					<img alt="Figure 12.44 – Create an alert in Opsgenie" src="image/B21937_12_44.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.44 – Create an alert in Opsgenie</p>
			<ol>
				<li value="3">Fill out the information for <span class="No-Break">the alert.</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer524">
					<img alt="Figure 12.45 – Alert creation information" src="image/B21937_12_45.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.45 – Alert creation information</p>
			<ol>
				<li value="4">Select the<a id="_idIndexMarker912"/> API integration <a id="_idIndexMarker913"/>you would like to utilize for this alert. <strong class="bold">Default API</strong> is recommended for beginners and is the only option if you are in the free version <span class="No-Break">of Opsgenie.</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer525">
					<img alt="Figure 12.46 – Alert API selection" src="image/B21937_12_46.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.46 – Alert API selection</p>
			<ol>
				<li value="5">Enter the <strong class="bold">Alert message</strong> that should go out. This box has a <span class="No-Break">130-character limit.</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer526">
					<img alt="Figure 12.47 – Alert message" src="image/B21937_12_47.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.47 – Alert message</p>
			<ol>
				<li value="6">Select the priority of the alert. Depending on the escalation rules you created, this alert will impact/trigger that <span class="No-Break">escalation rule.</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer527">
					<img alt="Figure 12.48 – Alert priority" src="image/B21937_12_48.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.48 – Alert priority</p>
			<ol>
				<li value="7">If you <a id="_idIndexMarker914"/>know who the responders of the alert should be, fill that out. Otherwise, the routing rules will figure out <a id="_idIndexMarker915"/>who should be notified based on the values you configured in your routing <span class="No-Break">rule configuration.</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer528">
					<img alt="Figure 12.49 – Alert responders" src="image/B21937_12_49.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.49 – Alert responders</p>
			<ol>
				<li value="8">You can leverage <strong class="bold">Tags</strong> if your routing rules are configured to take advantage of tags instead <span class="No-Break">of priority.</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer529">
					<img alt="Figure 12.50 – Alert responders" src="image/B21937_12_50.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.50 – Alert responders</p>
			<ol>
				<li value="9">Finally, click on <strong class="bold">Create</strong> to create <span class="No-Break">the alert.</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer530">
					<img alt="Figure 12.51 – Complete alert example" src="image/B21937_12_51.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.51 – Complete alert example</p>
			<p class="list-inset">The alert <a id="_idIndexMarker916"/>will now be visible in<a id="_idIndexMarker917"/> the <span class="No-Break"><strong class="bold">Alerts</strong></span><span class="No-Break"> section.</span></p>
			<div>
				<div class="IMG---Figure" id="_idContainer531">
					<img alt="Figure 12.52 – View of available alerts" src="image/B21937_12_52.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.52 – View of available alerts</p>
			<p class="callout-heading">Important note</p>
			<p class="callout">Based on your routing rules and escalation policy, each alert will trigger the appropriate notifications so that your team can triage and fix the problem that triggered <span class="No-Break">the alert.</span></p>
			<p class="callout">Once the alert has been acknowledged, the notifications will stop going out. This means that your team has addressed the problem or has determined that an incident has occurred and the alert needs to be escalated to <span class="No-Break">an incident.</span></p>
			<p class="list-inset">If you click <a id="_idIndexMarker918"/>on the alert, you’ll be able to see all the automatic notifications that were sent out for <span class="No-Break">the alert.</span></p>
			<div>
				<div class="IMG---Figure" id="_idContainer532">
					<img alt="Figure 12.53 – Alert history" src="image/B21937_12_53.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.53 – Alert history</p>
			<p>Alerts are<a id="_idIndexMarker919"/> critical to ensure your team is notified of critical events and know when they need to engage to fix a problem. Make sure you refine your alerts as your ecosystem changes to ensure your team is appropriately notified of problems when they <span class="No-Break">first occur.</span></p>
			<h1 id="_idParaDest-253"><a id="_idTextAnchor255"/>Improving team communication and response with ChatOps</h1>
			<p>When<a id="_idIndexMarker920"/> issues arise, your team needs to communicate quickly. In the digital age, relying on emails is not going to cut it when<a id="_idIndexMarker921"/> seconds matter. The best way for teams to engage is with instant communication. Most teams today already utilize popular communication tools such as Slack and Microsoft Teams. Opsgenie integrates with both of those tools, which then allow your teams to quickly communicate when an alert or <span class="No-Break">incident occurs.</span></p>
			<p>While Opsgenie integrates with a variety of instant messaging tools, this recipe is going to focus on getting Opsgenie integrated with Slack. Integrating with Slack not only allows your team to communicate quicker, but also enables your team to get alert information, on-call schedules, and so much more from within the <span class="No-Break">Slack interface.</span></p>
			<h2 id="_idParaDest-254"><a id="_idTextAnchor256"/>How to do it</h2>
			<p>Integrating Opsgenie with Slack is straightforward. The following steps will walk you through everything <a id="_idIndexMarker922"/>you need to know to get this <span class="No-Break">integration configured:</span></p>
			<ol>
				<li>To initiate the integration with Slack, start by going to the <strong class="bold">Teams</strong> section within Opsgenie and then select <span class="No-Break">your team.</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer533">
					<img alt="Figure 12.54 – Available teams in Opsgenie" src="image/B21937_12_54.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.54 – Available teams in Opsgenie</p>
			<ol>
				<li value="2">Once you are in<a id="_idIndexMarker923"/> your team dashboard, click on <strong class="bold">Integrations</strong> on the <span class="No-Break">left-hand side.</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer534">
					<img alt="Figure 12.55 – Select integrations for your selected team" src="image/B21937_12_55.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.55 – Select integrations for your selected team</p>
			<p class="callout-heading">Important note</p>
			<p class="callout">Please note that if you are on the free version of Opsgenie, this is the only way to integrate with Slack. There is a different method through Opsgenie’s settings page, but that is only possible for teams that are paying <span class="No-Break">for Opsgenie.</span></p>
			<ol>
				<li value="3">Click on <strong class="bold">Add integration</strong> to <span class="No-Break">get started.</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer535">
					<img alt="Figure 12.56 – Select Add integration to get started" src="image/B21937_12_56.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.56 – Select Add integration to get started</p>
			<ol>
				<li value="4"><span class="No-Break">Select </span><span class="No-Break"><strong class="bold">Slack</strong></span><span class="No-Break">.</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer536">
					<img alt="Figure 12.57 – Available Opsgenie integrations" src="image/B21937_12_57.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.57 – Available Opsgenie integrations</p>
			<ol>
				<li value="5">Follow<a id="_idIndexMarker924"/> the instructions <a id="_idIndexMarker925"/>displayed. You will need to have a channel ready on Slack before <span class="No-Break">you continue.</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer537">
					<img alt="Figure 12.58 – Slack integration with Opsgenie instructions" src="image/B21937_12_58.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.58 – Slack integration with Opsgenie instructions</p>
			<ol>
				<li value="6">After you <a id="_idIndexMarker926"/>pick your channel in Slack, confirm the settings that you want enabled in Opsgenie. Once you have<a id="_idIndexMarker927"/> selected the options that you are satisfied with, click on <span class="No-Break"><strong class="bold">Save integration</strong></span><span class="No-Break">.</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer538">
					<img alt="Figure 12.59 – Select configurations for Slack integration" src="image/B21937_12_59.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.59 – Select configurations for Slack integration</p>
			<ol>
				<li value="7">Once the integration is configured, you can test the configuration by going to Slack and then typing in the <strong class="source-inline">/</strong><span class="No-Break"><strong class="source-inline">genie</strong></span><span class="No-Break"> command.</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer539">
					<img alt="Figure 12.60 – Slack and Opsgenie integration within the Slack UI" src="image/B21937_12_60.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.60 – Slack and Opsgenie integration within the Slack UI</p>
			<ol>
				<li value="8">Finally, create <a id="_idIndexMarker928"/>a sample alert<a id="_idIndexMarker929"/> and you’ll see the alert show up in Slack. From within Slack, you can now address your alerts without having to disrupt your workflow or <span class="No-Break">team communication.</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer540">
					<img alt="Figure 12.61 – Opsgenie alert within Slack" src="image/B21937_12_61.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.61 – Opsgenie alert within Slack</p>
			<p>Slack is now integrated with Opsgenie and your team will now be able to receive Opsgenie notifications within Slack, which is very helpful since your team will not have to <span class="No-Break">change tools.</span></p>
		</div>
	

		<div class="Content" id="_idContainer542">
			<h1 id="_idParaDest-255" lang="en-US" xml:lang="en-US"><a id="_idTextAnchor257"/>Part 4: Putting It into Practice</h1>
			<p>We now take everything we’ve learned in the book so far and apply it. We go through a sample project where you start with an idea in Jira Product Discovery, create an issue in Jira, and create a branch for development <span class="No-Break">in Bitbucket.</span></p>
			<p>We then perform a commit to look at the pipeline execution from testing to deployment. During this execution, we can see the results in both Bitbucket <span class="No-Break">and Compass.</span></p>
			<p>We conclude our journey with a look into the future, where artificial intelligence is already changing things. We share some final thoughts and wish <span class="No-Break">you well.</span></p>
			<p>This part has the <span class="No-Break">following chapters:</span></p>
			<ul>
				<li><a href="B21937_13.xhtml#_idTextAnchor258"><em class="italic">Chapter 13</em></a><em class="italic">, </em><em class="italic">Putting It All Together with a Real-World Example</em></li>
				<li><a href="B21937_14.xhtml#_idTextAnchor291"><em class="italic">Chapter 14</em></a><em class="italic">, Appendix Key Takeaways and the Future of Atlassian DevOps Tools</em></li>
			</ul>
		</div>
		<div>
			<div id="_idContainer543">
			</div>
		</div>
		<div>
			<div class="Basic-Graphics-Frame" id="_idContainer544">
			</div>
		</div>
	</body></html>