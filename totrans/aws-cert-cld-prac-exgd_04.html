<html><head></head><body><div id="sbo-rt-content"><div id="_idContainer053">
			<h1 id="_idParaDest-50"><a id="_idTextAnchor050"/><a href="B17124_03_Final_SK_ePub.xhtml#_idTextAnchor050"><em class="italic">Chapter 3</em></a>: Exploring AWS Accounts, Multi-Account Strategy, and AWS Organizations</h1>
			<p>To access services on the AWS platform, you need to have an AWS account. AWS offers hundreds of different services, which you, as a customer, can consume to build cloud IT solutions for your business and clients.</p>
			<p>AWS offers public cloud services that are accessible to anyone on the internet. An AWS account provides a means of accessing these public AWS services in an isolated boundary separate from other customers. This means that users outside your account cannot access your resources unless, of course, you grant them access. An AWS account thus offers security, access isolation, and billing boundaries for the services that you consume and the resources you deploy. In addition, the cost of consuming any AWS service will be allocated to your AWS account.</p>
			<p>In this chapter, we explore the benefits of having multiple AWS accounts and we also discuss how to manage those <a id="_idIndexMarker148"/>accounts using a service called <strong class="bold">AWS Organizations</strong>. We also demonstrate how to set up your first AWS account, which you will be using throughout the various exercises in this training guide.</p>
			<p>This chapter covers the following topics:</p>
			<ul>
				<li>Why have a multi-account AWS environment?</li>
				<li>Introduction to AWS Landing Zone</li>
				<li>Automating landing zone creation with AWS Control Tower</li>
				<li>Exploring AWS Organizations</li>
				<li>Exercise 3.1: Setting up your first AWS Free Tier account</li>
				<li>Exercise 3.2: Setting up a billing alarm</li>
			</ul>
			<h1 id="_idParaDest-51"><a id="_idTextAnchor051"/>Why have a multi-account AWS environment?</h1>
			<p>While you<a id="_idIndexMarker149"/> can host all your business resources in a single AWS account, this can very quickly become too complex to manage. Imagine hosting multiple resources for your various non-production applications under development, <strong class="bold">User Acceptance Testing</strong> (<strong class="bold">UAT</strong>), and <a id="_idIndexMarker150"/>production workloads, all within the same AWS account. This can rapidly become a huge management overhead. The complexity is further compounded because you would have to ensure that many of these applications are isolated from each other for compliance or security reasons. This would require you to define highly complex policies and permissions to ensure proper segregation of different workload types and effective management of resources.</p>
			<p>Above all, having a single AWS account prevents you from limiting the blast radius of any major disasters. Separating your workloads using an appropriate strategy will help limit the blast radius of catastrophic disasters. So, for example, you can have a separate account for all your experimentation work such as developing new applications (what we call a sandbox environment) and other accounts for your actual development, testing, and production environments. In the event of any disaster (such as accidental exposure of root account credentials or a misconfiguration of an autoscaling group, causing a repeat loop of EC2 instance deployments) occurring in the sandbox environment, it will not affect the other accounts if those workloads are separated and isolated from one another. </p>
			<p>In the diagram shown in <em class="italic">Figure 3.1</em>, we can see that a number of accounts have been created for a given company. In this example, we have development, UAT testing, and production accounts as well as a sandbox account for experimental work:</p>
			<div>
				<div id="_idContainer025" class="IMG---Figure">
					<img src="Images/B17124_03_01.jpg" alt="Figure 3.1 – Multiple accounts help to limit the blast radius of your workloads&#13;&#10;" width="1100" height="443"/>
				</div>
			</div>
			<p class="figure-caption">Figure 3.1 – Multiple accounts help to limit the blast radius of your workloads</p>
			<p>Some key benefits of <a id="_idIndexMarker151"/>a multi-account architecture include the following:</p>
			<ul>
				<li><strong class="bold">Administrative isolation between workloads</strong>: With a multi-account architecture, you can offer different business units varied levels of administrative controls, depending on several factors including development life cycles. For example, you may <em class="italic">not</em> want to grant your developers full access to the production account, where you deploy applications under public release.</li>
				<li><strong class="bold">Limited visibility and discoverability of workloads</strong>: AWS accounts offer a natural boundary and enable you to isolate your workloads from any identity external to the account. Applications and resources deployed in an AWS account are not accessible to identities (users and applications) from any other AWS accounts unless permission is explicitly granted.</li>
				<li><strong class="bold">Isolation of security and identity management</strong>: Instead of creating multiple user identity accounts for your team (for example, developers, server administrators, UAT testers) in each AWS account that they need to work in, you can host all your users in a <em class="italic">separate AWS identity management account</em>. This enables you to avoid duplicate accounts for your staff and reduces management overhead. Ultimately, your users can be granted access to any of your other AWS accounts using <strong class="bold">cross-account access</strong>, where policies and permissions limit the <a id="_idIndexMarker152"/>tasks<a id="_idIndexMarker153"/> they can perform following the <strong class="bold">principle of least privilege</strong>. </li>
				<li><strong class="bold">Isolation of recovery or audit accounts</strong>: Many organizations will need to have a disaster recovery and business continuity strategy so that in the event of failure, the business can easily continue their operations using duplicate workloads and quickly recover from any major loss. Such workloads should be placed in separate accounts as best practice.</li>
			</ul>
			<p>In this section, we briefly introduced you to the concept of AWS accounts and how they grant you isolated access to AWS services, ensuring that no other customer can gain visibility of your workloads and applications unless you explicitly grant them that level of access.</p>
			<p>In the next section, we look at services offered by AWS to help you quickly design and architect your <a id="_idIndexMarker154"/>multi-account strategy. We discuss AWS Landing Zone, which was a service offered by AWS solutions architects to create a customized baseline architecture for your multi-account deployment. We also take a look at AWS Control Tower, a service that automates the build of landing zones in accordance with industry best practices.</p>
			<h1 id="_idParaDest-52"><a id="_idTextAnchor052"/>AWS Landing Zone</h1>
			<p>Building a<a id="_idIndexMarker155"/> multi-account environment can become very complex and time-consuming. AWS offers its customers a set of best practice methodologies to follow when designing a multi-account ecosystem. Previously, AWS offered a solution called <em class="italic">AWS Landing Zone</em>, which has now been deprecated in favor of the new AWS Control Tower. </p>
			<p>The previous AWS Landing Zone service offered customers a baseline blueprint to design and architect a multi-account environment, which offered identity and access management, governance, data security, and logging features.</p>
			<p class="callout-heading">Important note </p>
			<p class="callout">Although AWS Landing Zone is currently in long-term support and will not receive any additional <a id="_idIndexMarker156"/>features, it is still likely to show up in the exam. </p>
			<h1 id="_idParaDest-53"><a id="_idTextAnchor053"/>AWS Control Tower</h1>
			<p>Customers<a id="_idIndexMarker157"/> who are now looking to set up a landing zone in accordance with the updated architectural best practices should use the new AWS Control Tower. This service automates the setup of a new landing zone using the latest blueprints. Some AWS accounts created as part of this landing zone include the following:</p>
			<ul>
				<li>Creation of an AWS Organizations and multi-account setup</li>
				<li>Identity and access<a id="_idIndexMarker158"/> management with AWS <strong class="bold">Single Sign-On</strong> (<strong class="bold">SSO</strong>) default directory services</li>
				<li>Account federation using SSO</li>
				<li>Centralized logging using AWS CloudTrail and AWS Config</li>
			</ul>
			<p>The landing zone deployed by AWS Control Tower comes configured with recommended security policies called guardrails and customers can choose how their accounts are configured to comply with their overall organizational policies.</p>
			<p>In this section, we looked at two services that can be used easily to architect your multi-account architecture. If this was to be carried out manually, it would be time-consuming and complex. We also examined AWS Landing Zone and the new AWS Control Tower. </p>
			<p>In the next section, we will look at how you centrally manage your various AWS accounts using a service called AWS Organizations. As a cloud practitioner, understanding the requirements for multiple accounts and knowing which tools can be used to manage them is vital to help your clients build a robust and secure cloud architecture for their businesses.</p>
			<h2 id="_idParaDest-54"><a id="_idTextAnchor054"/>Managing multiple accounts – AWS Organizations</h2>
			<p>It is all <a id="_idIndexMarker159"/>very well creating <em class="italic">n</em> number of AWS accounts to help you separate out different workloads or different application life cycles. But you also need to think about how you effectively manage them – who has permissions to what and which set of services can be launched and configured<a id="_idIndexMarker160"/> in which AWS account.</p>
			<h2 id="_idParaDest-55"><a id="_idTextAnchor055"/>Introducing AWS Organizations</h2>
			<p>The AWS<a id="_idIndexMarker161"/> Organizations service enables you to centrally<a id="_idIndexMarker162"/> manage all of your AWS accounts. This service<a id="_idIndexMarker163"/> is <strong class="bold">offered free</strong>; the resources launched within are, however, chargeable as they would be even if you were not using the AWS Organizations service. AWS Organizations allows you to create one <strong class="bold">management account</strong> (previously termed <strong class="bold">master account</strong>) and then invite or create additional AWS accounts that will become member accounts of the organization. AWS Organizations offers tight integration with a number of AWS services and allows you to scope out which services can be consumed in your individual member accounts.</p>
			<p>You may also have multiple member accounts in each AWS Organizations instance, where some accounts share similar types of workloads or functions. You can, therefore, collate common accounts under what<a id="_idIndexMarker164"/> are known as <strong class="bold">Organization Units</strong> (<strong class="bold">OUs</strong>). An OU is a logical group of one or more AWS accounts in your AWS Organizations that allows you to organize your numerous AWS accounts into hierarchies. This makes it easier to manage your numerous AWS accounts. </p>
			<p>You can then <a id="_idIndexMarker165"/>apply <strong class="bold">Service Control Policies</strong> (<strong class="bold">SCPs</strong>) to your OUs (or directly to the AWS account, although this is not considered best practice) to apply guardrails to what services can be deployed and configured in each account. In the following diagram, we can see how service control policies are being applied to OUs, which determine permission boundaries for the AWS accounts contained within those OUs:</p>
			<div>
				<div id="_idContainer026" class="IMG---Figure">
					<img src="Images/B17124_03_02.jpg" alt="Figure 3.2 – AWS Organizations with multiple accounts&#13;&#10;" width="1400" height="596"/>
				</div>
			</div>
			<p class="figure-caption">Figure 3.2 – AWS Organizations with multiple accounts</p>
			<h2 id="_idParaDest-56"><a id="_idTextAnchor056"/>Consolidated billing</h2>
			<p>Another <a id="_idIndexMarker166"/>key <a id="_idIndexMarker167"/>feature of AWS Organizations is <strong class="bold">consolidated billing</strong>. AWS Organizations can be deployed using <a id="_idIndexMarker168"/>one of two options – <strong class="bold">all features</strong> or just the <strong class="bold">consolidated billing feature</strong>:</p>
			<ul>
				<li><strong class="bold">All features</strong>: This allows you to take advantage of AWS Organizations' security and management capabilities for member accounts with the <strong class="bold">Service Control Policies</strong> (<strong class="bold">SCPs</strong>) and tag policies. The <strong class="bold">All features</strong> option also comes with the consolidated billing feature, which allows you to have one centralized bill for all your member accounts. The <strong class="bold">Management Account</strong> is ultimately responsible for the bill and charges incurred by the other member accounts.</li>
				<li><strong class="bold">Consolidated billing feature</strong>: If you enable just the consolidated billing feature, you get basic management tools and the ability to get a centralized bill for all your member accounts.</li>
			</ul>
			<p>One of the prime benefits of AWS Organizations in your multiple account strategy is the consolidated billing feature. The management account is responsible for all charges incurred by its member accounts and you are provided with a combined view of the total AWS charges incurred by the member accounts. You can also view itemized details of charges incurred by each individual member account.</p>
			<p>Some key benefits are listed as follows:</p>
			<ul>
				<li><strong class="bold">Single bill</strong>: You get a single bill, which shows charges incurred by each member account.</li>
				<li><strong class="bold">Easy tracking</strong>: You<a id="_idIndexMarker169"/> can track individual account charges.</li>
				<li><strong class="bold">Volume discounts</strong>: With multiple accounts combined in AWS Organizations, you benefit by combining the costs across your accounts and this enables you to receive discounts when the total charges cross certain volume discount thresholds.</li>
				<li><strong class="bold">Free service</strong>: You can make use of the consolidated billing feature at no additional cost.</li>
			</ul>
			<p>AWS Organizations offers centralized management of all your AWS accounts, enabling you to enforce security boundaries and ensure cost management. Determining how many AWS<a id="_idIndexMarker170"/> accounts you need for your organization will <a id="_idIndexMarker171"/>largely depend on your business requirements and whether you have the necessary infrastructure as per best practices.</p>
			<h2 id="_idParaDest-57"><a id="_idTextAnchor057"/>How many AWS accounts do you need?</h2>
			<p>Deciding on<a id="_idIndexMarker172"/> the number of AWS accounts you need will involve careful consideration of your business functional requirements, the complexity of workloads, security, and compliance requirements (for example, HIPAA compliance, which requires businesses in the healthcare industry to follow various guidelines and enforce technical safeguards to protect the integrity of an individual's health information).</p>
			<p>In general, you would expect to host a minimum number of accounts to facilitate the isolation of your different development and production life cycles and offer redundancy and resilience against failures. You should also encourage a design strategy that limits administrative overhead.</p>
			<p>The following discussion illustrates one such example of a set of AWS accounts you might need, but remember that your architecture might be different based on your specific requirements. As much as possible, it is advisable to create accounts that meet your functional requirements and fulfill your security controls, rather than simply creating accounts based on some corporate hierarchical nature.</p>
			<p>Depending on your architecture, you should start by defining what OUs you need to create in AWS Organizations. Before configuring AWS Organizations, you need to create your first AWS account, or at least a new AWS account that will be the management account of the organization.</p>
			<p>In the next section, we discuss best practices for configuring AWS Organizations, specifically<a id="_idIndexMarker173"/> the importance of correctly designing your OUs.</p>
			<h2 id="_idParaDest-58"><a id="_idTextAnchor058"/>Core AWS OUs</h2>
			<p>At a basic<a id="_idIndexMarker174"/> level, you should create an infrastructure<a id="_idIndexMarker175"/> OU and a security OU, which will contain a shared infrastructure services account and a security account:</p>
			<ul>
				<li><strong class="bold">Infrastructure services account</strong>: These will contain services that can be shared across all accounts for common services (for example, directory services, shared networking environments, and other common shared IT services, such as central repositories<a id="_idIndexMarker176"/> for your <strong class="bold">Amazon Machine Images</strong> (<strong class="bold">AMIs</strong>)).</li>
				<li><strong class="bold">Security services</strong>: These will contain a centralized Identity and Access Management account to host individual user accounts, groups, and roles. These identities will then be granted access to other accounts via cross-account policies, as well as other services for logging and auditing.</li>
			</ul>
			<p>Both the foundational core OUs will contain non-production and production AWS accounts. Separating non-production from production ensures the isolation of workloads under development from those that are released for business consumption and limits the blast radius of any disasters.</p>
			<h2 id="_idParaDest-59"><a id="_idTextAnchor059"/>Additional OUs</h2>
			<p>Depending<a id="_idIndexMarker177"/> on your business use case, you can have any number of additional OUs within which to contain appropriate accounts. As depicted in the following diagram, your AWS Organizations will comprise the core OUs as well as any number of additional OUs that will meet your individual business requirements: </p>
			<div>
				<div id="_idContainer027" class="IMG---Figure">
					<img src="Images/B17124_03_03.jpg" alt="Figure 3.3 – AWS configured with core infrastructure as well as security and &#13;&#10;AWS Organizations additional OUs&#13;&#10;" width="1100" height="462"/>
				</div>
			</div>
			<p class="figure-caption">Figure 3.3 – AWS configured with core infrastructure as well as security and AWS Organizations additional OUs</p>
			<p>To illustrate an example, you may wish to configure the following additional OUs for your organization:</p>
			<ul>
				<li><strong class="bold">Sandbox OUs</strong>: As your business develops new applications or perhaps conducts experiments to improve existing workloads, you want to make sure that the blast radius is restricted to an environment you can afford to have failures in. A sandbox environment should be an account that can be detached from internal networks and you must establish limits to cap expenses and prevent overuse.</li>
				<li><strong class="bold">Workloads OUs</strong>: This OU will contain AWS accounts, where you host customer-facing applications. Ideally, you will have several non-production environments such as Dev, Test, and Pre-Prod. You should also consider multiple production accounts, such as Prod 1 and Prod 2, for even greater resilience.</li>
				<li><strong class="bold">Suspended OUs</strong>: Any account no longer being used may still need to be kept for auditing and compliance purposes. Apply necessary SCPs to ensure that only specific admins can access these accounts.</li>
			</ul>
			<p>The preceding list is by no means exhaustive, and your OU architecture is going to be influenced by your functional and technical needs. For additional guidance on the type of OU structure you could build, refer to the following web page on recommended OUs: <a href="https://docs.aws.amazon.com/whitepapers/latest/organizing-your-aws-environment/recommended-ous.html">https://docs.aws.amazon.com/whitepapers/latest/organizing-your-aws-environment/recommended-ous.html</a>. </p>
			<p>In this section, we learned about the AWS Organizations service and how it can be used to design and architect a multi-account strategy for your business. We examine the core features of AWS Organizations, which include the ability to apply <strong class="bold">Service Control Policies</strong> (<strong class="bold">SCPs</strong>) and<a id="_idIndexMarker178"/> effectively manage your billing and costs with the consolidated billing feature.</p>
			<p>In the next <a id="_idIndexMarker179"/>section, we will look at AWS Free Tier accounts and showcase how to create one, for which you will need to complete the various hands-on labs in this training guide.</p>
			<h1 id="_idParaDest-60"><a id="_idTextAnchor060"/>AWS Free Tier accounts</h1>
			<p>An AWS Free Tier <a id="_idIndexMarker180"/>account is a normal standard account that can be used for any purpose or workload type. AWS offers a generous Free Tier for the first 12 months of opening any new account. The Free Tier offers access to more than 85 AWS technologies and services (at the time of writing this training guide), wherein if you consume these services up to specified thresholds, you will not be charged. For example, under the Free Tier, you can do the following:</p>
			<ul>
				<li>Consume up to 5 GB of Amazon S3 storage for up to 12 months, free of charge. </li>
				<li>Launch a <strong class="source-inline">t.2micro</strong> <strong class="bold">Elastic Compute Cloud</strong> (EC2) instance running either a specific<a id="_idIndexMarker181"/> distribution of the Linux OS or a base Windows OS for up to 750 hours a month. In fact, with this offering, you could potentially run one low-powered website for an entire year without incurring the cost of compute for those 12 months. The Free Tier offering for EC2 is based on the number of hours per month, so there is nothing to stop you running two or even four <strong class="source-inline">t2.micro</strong> instances for a few hours a month, as long as the total duration does not exceed 750 compute hours a month. This may be useful if you want to perform some proof of concept work or testing.</li>
				<li>Run a lightweight Amazon Relational Database Service (RDS) instance for up to 750 hours a month.</li>
			</ul>
			<p>In the next<a id="_idIndexMarker182"/> section, we will look at some additional features available to you under the AWS Free Tier account offering.</p>
			<h2 id="_idParaDest-61"><a id="_idTextAnchor061"/>Free tools</h2>
			<p>In addition to the<a id="_idIndexMarker183"/> standard 12-month Free Tier offering, certain services are offered completely free, without any time limit. These may include tools that can be used to deploy certain resources. The tools themselves are free to use, but the resources deployed will be chargeable based on their price list. Some examples of these tools are as follows:</p>
			<ul>
				<li><strong class="bold">AWS CloudFormation</strong>: This is an AWS service that enables you to define templates (using code) to launch various infrastructure components. Amazon CloudFormation enables developers and architects to create a collection of related AWS and third-party resources, and provision and manage them in an orderly and predictable fashion. These templates can be used for repeat deployments. While the service itself is free to use, resources and infrastructure components deployed will be chargeable as per Amazon's price list, such as EC2 instances, RDS databases, and networking components.</li>
				<li><strong class="bold">Amazon Elastic Beanstalk</strong>: This is an orchestration service that provisions necessary infrastructure components to support and power your applications. Such infrastructure components include S3 buckets, EC2 instances, and load balancers. Amazon Elastic Beanstalk enables developers to simply upload their code ready for deployment and AWS provisions the infrastructure required to support that application. The orchestration service is again offered free of cost, but the resources are chargeable, as indicated previously.</li>
			</ul>
			<p>In addition to the preceding free tools, AWS offers certain limited resources for some services throughout the lifetime of your AWS account. In the next section, we will look at some examples. </p>
			<h2 id="_idParaDest-62"><a id="_idTextAnchor062"/>Always free services (limited offering)</h2>
			<p>Some AWS <a id="_idIndexMarker184"/>services are offered completely free on a permanent basis. These include services where resources can be created up to specified threshold limits without incurring any charges. Examples include the following:</p>
			<ul>
				<li><strong class="bold">Amazon CloudWatch</strong>: Used for monitoring your cloud resources and applications. You get 10 custom metrics and up to 10 alarms, with up to 1,000,000 API requests completely free.</li>
				<li><strong class="bold">Amazon Lambda</strong>: A serverless compute service that allows you to run code in response to events and can help you build a serverless architecture. With AWS Lambda, you get up to 1,000,000 free requests per month and up to 3.2 million seconds of compute time per month.</li>
				<li><strong class="bold">AWS Organizations</strong>: Centrally manage and control access to your AWS accounts and benefit from consolidated billing with volume discounts. This service is offered entirely free of charge on a permanent basis. </li>
			</ul>
			<p>AWS also offers various product trials from time to time. In the next section, we will look at this in some detail.</p>
			<h2 id="_idParaDest-63"><a id="_idTextAnchor063"/>Free trials</h2>
			<p>Some <a id="_idIndexMarker185"/>services are offered with free trials, for example a 30-day trial to test out a service. Examples include the following:</p>
			<ul>
				<li><strong class="bold">Amazon Workspaces</strong>: These are virtual desktops that can run Linux or Windows OSes. As a trial, you can get up to two standard edition workspaces that come with an 80 GB root volume and a 50 GB user volume. You can use both workspaces for up to 40 hours combined usage per month, for 2 months, as part of the free trial.</li>
				<li><strong class="bold">Amazon Detective</strong>: This service enables you to analyze and visualize security data and identify the root cause of potential security issues. You get a 30-day free trial of the service.</li>
				<li><strong class="bold">Redshift</strong>: This is an enterprise-grade data warehousing solution through which you can query and combine exabytes of structured and semi-structured data and conduct insights and analysis of your data. AWS offers a 2-month free trial with 750 hours of a DC2.Large node per month.</li>
			</ul>
			<p>In this section, we looked at details of the AWS Free Tier account. Amazon offers a wide range of services with specific limits free for the first 12 months of your account opening. This allows you to experiment with those services, create sandbox environments, and start architecting your solutions. The AWS Free Tier is of great help to students wanting to learn about the various AWS services in preparation for their exams. At times, however, you may have to go over the free tier thresholds to really learn about <a id="_idIndexMarker186"/>more complex configuration options.</p>
			<p>In the next section, we will complete a lab exercise, where you will be provided with a step-by-step guide on creating your first AWS account.</p>
			<h1 id="_idParaDest-64"><a id="_idTextAnchor064"/>Exercise 3.1 – Setting up your first AWS Free Tier account</h1>
			<p>The following<a id="_idIndexMarker187"/> step-by-step process will show you how to set up your first AWS account. You will need the following to complete the setup process:</p>
			<ul>
				<li>Your personal details, name, physical address, and an email address.</li>
				<li>A mobile phone.</li>
				<li>A credit card. As far as possible, the labs in this training guide will fall under the free tier and your credit card will not be charged for those resources you deploy. A couple of labs, however, may go over the free tier threshold and if you choose to do those labs, there may be a small minimum charge. We will discuss this in more detail shortly.</li>
			</ul>
			<p>Now that we know about the requirements, let's get started with creating our account:</p>
			<ol>
				<li>In your favorite browser, search for the term <strong class="source-inline">AWS Free Tier</strong> and you should find a link to the Amazon Web Services Free Tier offering. Click on the second link, as <a id="_idIndexMarker188"/>shown in the following screenshot:<div id="_idContainer028" class="IMG---Figure"><img src="Images/B17124_03_04.jpg" alt="Figure 3.4 – AWS Free Tier link via Google Search&#13;&#10;" width="922" height="444"/></div><p class="figure-caption">Figure 3.4 – AWS Free Tier link via Google Search</p></li>
				<li>You will be taken to the AWS Free Tier home page. Next, click on <strong class="bold">Create a Free Account</strong>:<div id="_idContainer029" class="IMG---Figure"><img src="Images/B17124_03_05.jpg" alt="Figure 3.5 – Free account setup&#13;&#10;" width="845" height="261"/></div><p class="figure-caption">Figure 3.5 – Free account setup</p></li>
				<li>At the <a id="_idIndexMarker189"/>AWS <strong class="bold">Sign in</strong> page, click, <strong class="bold">Create a new AWS account</strong>:<div id="_idContainer030" class="IMG---Figure"><img src="Images/B17124_03_06.jpg" alt="Figure 3.6 – Free account setup – creating a new AWS account&#13;&#10;" width="499" height="819"/></div><p class="figure-caption">Figure 3.6 – Free account setup – creating a new AWS account</p></li>
				<li>Next, provide<a id="_idIndexMarker190"/> an email address, choose a password, and choose an account name. The account name can be any name you like to use to identify the purpose of the account, for example, Dev or Prod:<div id="_idContainer031" class="IMG---Figure"><img src="Images/B17124_03_07.jpg" alt="Figure 3.7 – Free account setup – providing an email address and an account name&#13;&#10;" width="419" height="515"/></div><p class="figure-caption">Figure 3.7 – Free account setup – providing an email address and an account name</p></li>
				<li>Next, you <a id="_idIndexMarker191"/>may be asked to fill up a captcha form for security. Type the letters and numbers in the image into the textbox provided and click <strong class="bold">Continue</strong>:<div id="_idContainer032" class="IMG---Figure"><img src="Images/B17124_03_08.jpg" alt="Figure 3.8 – Free account setup – security check screen&#13;&#10;" width="480" height="282"/></div><p class="figure-caption">Figure 3.8 – Free account setup – security check screen</p></li>
				<li>Next, you<a id="_idIndexMarker192"/> need to provide your full contact details and choose the type of account you want to create – Personal or Professional. Professional accounts allow you to get a full tax invoice and, in some countries, claim back certain types of tax, such as VAT or GST. Once you have completed the form, click <strong class="bold">Create Account and Continue</strong>:<div id="_idContainer033" class="IMG---Figure"><img src="Images/B17124_03_09.jpg" alt="Figure 3.9 – Free account setup – providing contact details&#13;&#10;" width="323" height="774"/></div><p class="figure-caption">Figure 3.9 – Free account setup – providing contact details</p></li>
				<li>Next, you need to provide your debit or credit card details, confirm your address, and <a id="_idIndexMarker193"/>click <strong class="bold">Verify and Add</strong>: <div id="_idContainer034" class="IMG---Figure"><img src="Images/B17124_03_10.jpg" alt="Figure 3.10 – Free account setup – providing credit card details&#13;&#10;" width="362" height="685"/></div><p class="figure-caption">Figure 3.10 – Free account setup – providing credit card details</p></li>
				<li>You may need to provide a one-time PIN that will be sent to your phone to verify the card. In some countries, you may be charged a very small amount, perhaps a few cents, to verify the card, but this amount will be refunded through the banking system.</li>
				<li>After this, you will receive a <strong class="bold">Confirm your identity</strong> dialog box that requires you to <a id="_idIndexMarker194"/>provide a phone number using which you will be sent a verification code, either as an SMS text message or voice call, depending on your preference. You will also need to complete the security checkbox and then click on, for instance, the <strong class="bold">Send SMS</strong> option, as shown in the following screenshot:<div id="_idContainer035" class="IMG---Figure"><img src="Images/B17124_03_11.jpg" alt="Figure 3.11 – Free account setup – providing a phone number for verification&#13;&#10;" width="643" height="648"/></div><p class="figure-caption">Figure 3.11 – Free account setup – providing a phone number for verification</p></li>
				<li>You will then be taken to the following dialog box, which requires you to provide the<a id="_idIndexMarker195"/> verification code that has been sent to your phone: <div id="_idContainer036" class="IMG---Figure"><img src="Images/B17124_03_12.jpg" alt="Figure 3.12 – Free account setup – providing a verification code received on your mobile phone&#13;&#10;" width="599" height="230"/></div><p class="figure-caption">Figure 3.12 – Free account setup – providing a verification code received on your mobile phone</p></li>
				<li>Once you enter the code, your account will be verified, and you should get the following dialog box. Click <strong class="bold">Continue</strong>:<div id="_idContainer037" class="IMG---Figure"><img src="Images/B17124_03_13.jpg" alt="Figure 3.13 – Free account setup – completing the verification process&#13;&#10;" width="497" height="243"/></div><p class="figure-caption">Figure 3.13 – Free account setup – completing the verification process</p></li>
				<li>You will <a id="_idIndexMarker196"/>be taken to the <strong class="bold">Select a Support Plan</strong> screen, where you will have the option to select your support plan for this account. For the purpose of this account, go ahead and select <strong class="bold">Basic Plan</strong>:<div id="_idContainer038" class="IMG---Figure"><img src="Images/B17124_03_14.jpg" alt="Figure 3.14 – Free account setup – selecting the basic support plan &#13;&#10;" width="647" height="474"/></div><p class="figure-caption">Figure 3.14 – Free account setup – selecting the basic support plan </p></li>
				<li>You will <a id="_idIndexMarker197"/>now be taken to the <strong class="bold">Welcome to Amazon Web Services</strong> screen. Click the <strong class="bold">Sign In to the Console</strong> button:<div id="_idContainer039" class="IMG---Figure"><img src="Images/B17124_03_15.jpg" alt="Figure 3.15 – Sign In to the Console&#13;&#10;" width="1371" height="165"/></div><p class="figure-caption">Figure 3.15 – Sign In to the Console</p><p>Ensure that you select <strong class="bold">Root user</strong> and provide the email address and password you used to create your new Free Tier account. This email address and password combination is also known <a id="_idIndexMarker198"/>as the <strong class="bold">root user</strong> of your AWS account and has complete <a id="_idIndexMarker199"/>control over your account:</p><div id="_idContainer040" class="IMG---Figure"><img src="Images/B17124_03_16.jpg" alt="Figure 3.16 – Free account setup – signing in as the root user to test account setup&#13;&#10;" width="491" height="521"/></div><p class="figure-caption">Figure 3.16 – Free account setup – signing in as the root user to test account setup</p></li>
				<li>Once logged in, you will be presented with the <strong class="bold">AWS Management Console</strong> page:</li>
			</ol>
			<div>
				<div id="_idContainer041" class="IMG---Figure">
					<img src="Images/B17124_03_17.jpg" alt="Figure 3.17 – Free account setup – accessing the AWS Management Console&#13;&#10;" width="984" height="614"/>
				</div>
			</div>
			<p class="figure-caption">Figure 3.17 – Free account setup – accessing the AWS Management Console</p>
			<p>In this section, you created your first AWS account, which will enable you to access all AWS services, across its global infrastructure. Using your AWS account, you can now set up and deploy<a id="_idIndexMarker200"/> a wide range of resources to support and host any application workload. In the next exercise, we look at how to set up your billing alarm. </p>
			<p>To maximize your benefit from this training, you are encouraged to complete all of the exercises. This will help you to gain the necessary hands-on experience and the confidence to start building real-world solutions on AWS. While we ensure that most of the exercises fall within the Free Tier thresholds, there are a few that will incur some costs. You will be notified of this as part of the exercise and you may choose to complete them if you wish. </p>
			<p>In addition, you may deploy certain resources and forget to terminate them, resulting in crossing some of those Free Tier thresholds. By having a billing alarm, you can set yourself a small budget sufficient to complete all of the labs. With a billing alarm in place, you will be alerted if your total charges cross the budgeted thresholds. </p>
			<p>We discuss how to set up your billing alarm in the next section.</p>
			<h1 id="_idParaDest-65"><a id="_idTextAnchor065"/>Exercise 3.2 – Setting up a billing alarm</h1>
			<p>When you<a id="_idIndexMarker201"/> configure a billing alarm, you define a dollar amount as a threshold value as your maximum budget. If the total charges on your AWS account cross this value, you are alerted with a notification and can take remedial action. </p>
			<p>As previously discussed, this training guide offers several hands-on labs and exercises to enable you to gain real-world hands-on experience in configuring various services to host your workloads in the cloud. Most of the labs will fall within the free tier, except for a few that may incur very minimal charges. We indicate the labs that may incur such charges. It is also important to terminate any labs you complete to ensure you do not forget about them. </p>
			<p>To complete all exercises in this training guide, we recommend you set a billing alarm of USD 10, although you can choose any value you are comfortable with. Should you exceed this dollar amount, you will be alerted with a notification via email to take immediate action. You can then terminate any labs you no longer need.</p>
			<p>So, let's now proceed with configuring your AWS billing alarm. We start by enabling the option to receive billing alerts. This is a prerequisite step and must be completed before configuring billing alarms:</p>
			<ol>
				<li value="1">Log in to your AWS Management Console using your root account credentials. This is the email address and password you will have configured at the time of account sign-up.</li>
				<li>Access the <strong class="bold">Billing and Cost Management</strong> dashboard at <a href="https://console.aws.amazon.com/billing/">https://console.aws.amazon.com/billing/</a>.</li>
				<li>In the left-hand navigation pane, click <strong class="bold">Billing Preferences</strong>.</li>
				<li>Click on <strong class="bold">Receive Billing Alerts</strong> and then click <strong class="bold">Save Preferences</strong>.</li>
			</ol>
			<p>The following screenshot illustrates enabling the billing alerts option:</p>
			<div>
				<div id="_idContainer042" class="IMG---Figure">
					<img src="Images/B17124_03_18.jpg" alt="Figure 3.18 – Setting up billing alarms – enabling the option to receive billing alerts&#13;&#10;" width="1290" height="583"/>
				</div>
			</div>
			<p class="figure-caption">Figure 3.18 – Setting up billing alarms – enabling the option to receive billing alerts</p>
			<p>Now that you <a id="_idIndexMarker202"/>have enabled the option to receive billing alerts, you can proceed with setting up your billing alarm. Note that once this setting has been enabled, it cannot be disabled.</p>
			<p>In the following step-by-step process, you create an alarm that sends an email message when your estimated charges for your AWS account exceed a specified threshold:</p>
			<ol>
				<li value="1">Access the CloudWatch console at <a href="https://console.aws.amazon.com/cloudwatch/">https://console.aws.amazon.com/cloudwatch/</a>. Note that billing metric data is stored in the US-East-1 Region. From the top right-hand menu, ensure that you are in the N. Virginia (us-east-1) Region as per the following screenshot:<div id="_idContainer043" class="IMG---Figure"><img src="Images/B17124_03_19.jpg" alt="Figure 3.19 – Setting up billing alarms – navigating to the N. Virginia Region&#13;&#10;" width="483" height="251"/></div><p class="figure-caption">Figure 3.19 – Setting up billing alarms – navigating to the N. Virginia Region</p></li>
				<li>In the left-hand<a id="_idIndexMarker203"/> navigation pane, select <strong class="bold">Alarms</strong> and then click <strong class="bold">Create Alarm</strong> in the far-right hand corner of the screen. You will be presented with the four-step <strong class="bold">Create alarm</strong> wizard:<div id="_idContainer044" class="IMG---Figure"><img src="Images/B17124_03_20.jpg" alt="Figure 3.20 – Setting up billing alarms – setting up billing alarms in CloudWatch&#13;&#10;" width="1109" height="420"/></div><p class="figure-caption">Figure 3.20 – Setting up billing alarms – setting up billing alarms in CloudWatch</p></li>
				<li>Under <strong class="bold">Step 1</strong>, click <strong class="bold">Select metric</strong>. </li>
				<li>Under <strong class="bold">All metrics</strong>, click on <strong class="bold">Billing</strong>.</li>
				<li>Next, click on <strong class="bold">Total Estimated Charge</strong>:<div id="_idContainer045" class="IMG---Figure"><img src="Images/B17124_03_21.jpg" alt="Figure 3.21 – Setting up billing alarms – defining metrics for Total Estimated Charge&#13;&#10;" width="952" height="261"/></div><p class="figure-caption">Figure 3.21 – Setting up billing alarms – defining metrics for Total Estimated Charge</p></li>
				<li>Click the<a id="_idIndexMarker204"/> checkbox next to the <strong class="bold">USD</strong> currency for the metric name <strong class="bold">EstimatedCharges</strong>.</li>
				<li>Click <strong class="bold">Select metric</strong>.</li>
				<li>In the dialog box entitled <strong class="bold">Specify metric and conditions</strong>, scroll down and select <strong class="bold">Static</strong> as the threshold type, under <strong class="bold">Conditions</strong>.</li>
				<li>Select <strong class="bold">Greater &gt; threshold</strong>, under the heading <strong class="bold">Whenever EstimatedCharges is...</strong>.</li>
				<li>Finally, set the dollar amount to <strong class="bold">10</strong> for USD under the <strong class="bold">Define the threshold value</strong> sub-heading, and then click <strong class="bold">Next</strong>, as per the following screenshot:<div id="_idContainer046" class="IMG---Figure"><img src="Images/B17124_03_22.jpg" alt="Figure 3.22 – Setting up billing alarms – setting up a billing alarm threshold value&#13;&#10;" width="970" height="617"/></div><p class="figure-caption">Figure 3.22 – Setting up billing alarms – setting up a billing alarm threshold value</p></li>
				<li>In <em class="italic">Step 2</em>, you <a id="_idIndexMarker205"/>can now configure actions when the alarm breaches. For this, click the <strong class="bold">Add notification</strong> button:<div id="_idContainer047" class="IMG---Figure"><img src="Images/B17124_03_23.jpg" alt="Figure 3.23 – Setting up billing alarms – setup notification&#13;&#10;" width="829" height="237"/></div><p class="figure-caption">Figure 3.23 – Setting up billing alarms – setup notification</p></li>
				<li>Under the alarm state trigger, make sure that the <strong class="bold">In alarm</strong> state is selected.</li>
				<li>Next, under <strong class="bold">Select an SNS topic</strong>, select the option for <strong class="bold">Create new topic</strong>. <strong class="bold">SNS</strong> stands<a id="_idIndexMarker206"/> for <strong class="bold">Simple Notification Service</strong> and is a push-based messaging service. You can configure an SNS topic to send you email alerts when the alarm is in<a id="_idIndexMarker207"/> the <strong class="bold">In alarm</strong> state. We discuss Amazon SNS in detail in <a href="B17124_10_Final_SK_ePub.xhtml#_idTextAnchor249"><em class="italic">Chapter 10</em></a>, <em class="italic">Application Integration Services</em>.</li>
				<li>Under the heading <strong class="bold">Create a new topic…</strong>, provide a topic name, for example, <strong class="source-inline">MyBillingAlerts</strong>.</li>
				<li>Next, under the heading <strong class="bold">Email endpoints that will receive the notification…</strong>, provide an email address that you have access to where the alerts will be sent. You can use the same email address that you created your AWS account with.</li>
				<li>Next, click <strong class="bold">Create topic</strong>:<div id="_idContainer048" class="IMG---Figure"><img src="Images/B17124_03_24.jpg" alt="Figure 3.24 – Setting up billing alarms – defining SNS topics for notifications&#13;&#10;" width="988" height="793"/></div><p class="figure-caption">Figure 3.24 – Setting up billing alarms – defining SNS topics for notifications</p></li>
				<li>Your SNS <a id="_idIndexMarker208"/>topic with the name you chose will be created and you will see the email address that notifications will be sent to.</li>
				<li>Scroll toward the bottom of the screen and click on <strong class="bold">Next</strong>.</li>
				<li>In <em class="italic">Step 3</em>, provide an appropriate name and description for the alarm and click <strong class="bold">Next</strong>:<div id="_idContainer049" class="IMG---Figure"><img src="Images/B17124_03_25.jpg" alt="Figure 3.25 – Setting up billing alarms – alarm setup&#13;&#10;" width="879" height="430"/></div><p class="figure-caption">Figure 3.25 – Setting up billing alarms – alarm setup</p></li>
				<li>In <em class="italic">Step 4</em>, you<a id="_idIndexMarker209"/> can review your settings and confirm by clicking on the <strong class="bold">Create alarm</strong> button.</li>
				<li>You are then presented with the alarm configuration status in Amazon CloudWatch:<div id="_idContainer050" class="IMG---Figure"><img src="Images/B17124_03_26.jpg" alt="Figure 3.26 – Setting up billing alarms – verifying the Actions status &#13;&#10;" width="1200" height="275"/></div><p class="figure-caption">Figure 3.26 – Setting up billing alarms – verifying the Actions status </p></li>
				<li>You will notice from the preceding screenshot that you have a <strong class="bold">Pending confirmation</strong> link highlighted in red. When you configure an SNS notification to send alerts to an email, you are, in effect, subscribing to the SNS topic you created earlier. For security purposes and to avoid rogue messages, you are required to log in to your email account and confirm the subscription.</li>
				<li>Log in to your email account and you should find an email from Amazon asking you to confirm your subscription, as in the following screenshot:<div id="_idContainer051" class="IMG---Figure"><img src="Images/B17124_03_27.jpg" alt="Figure 3.27 – Setting up billing alarms – confirming a notification subscription&#13;&#10;" width="1120" height="561"/></div><p class="figure-caption">Figure 3.27 – Setting up billing alarms – confirming a notification subscription</p></li>
				<li>Click on<a id="_idIndexMarker210"/> the <strong class="bold">Confirm subscription</strong> link so that your subscription can be activated. Should your monthly charges exceed the USD 10 threshold, an email notification will be sent to you and you can terminate any unwanted or forgotten labs.</li>
				<li>If you now refresh your alarms by clicking on the circular arrow, you will see that the pending confirmation message disappears. Furthermore, as this is a brand-new account, you will not yet have incurred any charges and you will note that the alarm is in the <strong class="bold">OK</strong> state:</li>
			</ol>
			<div>
				<div id="_idContainer052" class="IMG---Figure">
					<img src="Images/B17124_03_28.jpg" alt="Figure 3.28 – Setting up billing alarms – verifying alarm status&#13;&#10;" width="1152" height="197"/>
				</div>
			</div>
			<p class="figure-caption">Figure 3.28 – Setting up billing alarms – verifying alarm status</p>
			<p>Now that you have set up and configured your AWS billing alarms, you can be rest assured that you will be alerted if you exceed the threshold you selected previously. Alarms can be set for a wide range of services, enabling you to effectively monitor and maintain your workloads on AWS. Alarms are configured in Amazon CloudWatch, which we will <a id="_idIndexMarker211"/>discuss in detail in <a href="B17124_13_Final_SK_ePub.xhtml#_idTextAnchor317"><em class="italic">Chapter 13</em></a>, <em class="italic">Management and Governance on AWS</em>.</p>
			<p>Summary</p>
			<p>In this chapter, we discussed the fact that to access any AWS services to deploy and configure resources, workloads, and applications, you will first need to set up an AWS account. We also discussed the importance of having multiple AWS accounts, which will help manage your cloud ecosystem better, offer greater levels of security, implement necessary workload isolation, and limit your blast radius in the event of catastrophic disasters.</p>
			<p>By understanding the thought process involved in building a multi-account strategy, you have already embarked on your learning of certain architectural best practices related to building your cloud solutions. Specifically, you have learned that a multi-account setup enables you to offer greater levels of security and scalability. </p>
			<p>We have also examined the AWS Organizations service and how it enables us to centrally manage all our AWS accounts by placing common accounts into OUs and applying appropriate guardrails using SCPs. An additional benefit of AWS Organizations is the consolidated billing feature, which enables you to benefit from volume discounts by combining the charges across all your accounts. </p>
			<p>We discussed the AWS Free Tier offering and how you can start experimenting with a 12-month free AWS account. A full step-by-step guide has also been provided to easily set up your own AWS account, which you will need throughout this training guide for the various labs on offer. Finally, you learned how to set up and configure your own billing alarms, which can be used to alert you if you exceed a given budgeted threshold for your total AWS expenses. </p>
			<p>In the next chapter, we look at AWS <strong class="bold">Identity and Access Management</strong> (<strong class="bold">IAM</strong>). AWS IAM is integral to designing a highly secure environment with authentication and authorization services of your AWS account. With IAM, you can create additional identities that can have access to your AWS account. For example, if you have a team of developers who will be building an application on AWS, you would not want to share the root account credentials with them. Each of your developers should have their own individual IAM user accounts. This enables better auditing and allows you to enforce the principle of least privilege when granting access to services in your AWS account.</p>
			<h1 id="_idParaDest-66"><a id="_idTextAnchor066"/>Questions</h1>
			<p>Here are a few questions to test your knowledge:</p>
			<ol>
				<li value="1">Before setting up your billing alarms, which preference setting needs to be enabled first?<ol><li>Enable billing alerts</li><li>Enable alarms</li><li>Set up AWS Organizations</li><li>Configure MFA</li></ol></li>
				<li>Which AWS service enables you to centrally manage multiple AWS accounts with SCPs to establish permission guardrails using which services can be enabled in those accounts?<ol><li>AWS Organizations</li><li>AWS IAM</li><li>AWS VPC</li><li>AWS GuardDuty</li></ol></li>
				<li>Which of the following services are offered completely free by AWS? (Select two answers.)<ol><li>AWS <strong class="bold">Identity and Access Management</strong> (<strong class="bold">IAM</strong>)</li><li>AWS Elastic Beanstalk</li><li><strong class="bold">Amazon Simple Storage Service</strong> (<strong class="bold">Amazon S3</strong>)</li><li><strong class="bold">Amazon Relational Database Service</strong> (<strong class="bold">Amazon RDS</strong>)</li><li>AWS <strong class="bold">Simple Notification Service</strong> (<strong class="bold">SNS</strong>)</li></ol></li>
				<li>Which feature of AWS Organizations enables you to combine the costs of each member account to take advantage of any volume discounts on offer?<ol><li>Consolidated billing</li><li>AWS EC2 savings plan</li><li>AWS Control Tower</li><li>AWS IAM</li></ol></li>
				<li>Which of the following is required when creating an AWS Free Tier account?<ol><li>A credit card</li><li>A bank statement</li><li>A passport or driving license</li><li>An invitation letter from Amazon</li></ol></li>
				<li>Which AWS service enables you to automatically set up a new landing zone in accordance with best practices?<ol><li>AWS Landing Zone</li><li>AWS Control Tower</li><li>AWS Organizations</li><li>AWS Free Tier Account</li></ol></li>
				<li>Which feature of the AWS Organizations service enables you to combine AWS accounts in a container that has common workloads and then apply a common set of policies to those accounts?<ol><li>AWS Control Tower</li><li>AWS Landing Zone</li><li><strong class="bold">Organization Units</strong> (<strong class="bold">OUs</strong>)</li><li><strong class="bold">Service Control Policies</strong> (<strong class="bold">SCPs</strong>)</li></ol><p> </p></li>
			</ol>
		</div>
	</div></body></html>