<html><head></head><body>
		<div id="_idContainer271">
			<h1 id="_idParaDest-378"><em class="italic"><a id="_idTextAnchor381"/>Chapter 20</em>: GitHub – The Home for All Developers</h1>
			<p>In this chapter, I'll explain some of the basics of the GitHub platform. You'll learn about the different hosting options, pricing, and how you can integrate it into your existing toolchain.</p>
			<p>The key topics are as follows:</p>
			<ul>
				<li>Hosting options and pricing</li>
				<li>GitHub Connect</li>
				<li>Hands-on – create your account on GitHub.com</li>
				<li>Enterprise Security</li>
				<li>GitHub Learning Lab</li>
			</ul>
			<h1 id="_idParaDest-379"><a id="_idTextAnchor382"/>Hosting options and pricing</h1>
			<p>GitHub has many different licenses and hosting options. It is important to understand them to make the right choice for your enterprise.</p>
			<h2 id="_idParaDest-380"><a id="_idTextAnchor383"/>Hosting options</h2>
			<p><strong class="bold">GitHub</strong> (<a href="https://github.com">https://github.com</a>) is hosted in<a id="_idIndexMarker1265"/> data centers in the United States. You can<a id="_idIndexMarker1266"/> sign up on GitHub for free and you'll get unlimited private and public repositories for free. Many of the features in GitHub are free for open source projects but not for private repositories.</p>
			<p>For enterprises, you have different options to host GitHub (see <em class="italic">Figure 20.1</em>):</p>
			<div>
				<div id="_idContainer252" class="IMG---Figure">
					<img src="image/B17827_20_01.jpg" alt="Figure 20.1 – Hosting options for GitHub Enterprise&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 20.1 – Hosting options for GitHub Enterprise</p>
			<h3>GitHub Enterprise Cloud</h3>
			<p><strong class="bold">GitHub Enterprise Cloud</strong> (<strong class="bold">GHEC</strong>) is a SaaS offering from GitHub and is completely hosted by GitHub in their<a id="_idIndexMarker1267"/> cloud infrastructure in the United States. You can apply<a id="_idIndexMarker1268"/> additional security and support single sign-on for your users. GHEC allows you to host private and public repositories so that you can host open source projects in the context of your enterprise.</p>
			<p>GHEC is guaranteeing you an <strong class="bold">SLA</strong> of <em class="italic">99.9%</em> monthly uptime, meaning a maximum downtime of 45 minutes per month.</p>
			<h3>GitHub Enterprise Server</h3>
			<p><strong class="bold">GitHub Enterprise Server</strong> (<strong class="bold">GHES</strong>) is a <a id="_idIndexMarker1269"/>system that you can host wherever you <a id="_idIndexMarker1270"/>want. You can host it in your own data center or in a cloud environment such as Azure or AWS. You can use GitHub Connect to connect to <a href="http://GitHub.com">GitHub.com</a> – this allows you to share licenses and make use of open source resources on your server.</p>
			<p>GHES is based on the same source as GHEC, so eventually, all features will come to the server a few months later. But there are some things provided in the cloud that you must take care of on GHES for yourself, for example, the runners in GitHub Actions. In the cloud you can leverage GitHub hosted runners; on GHES, you must build your own solution using self-hosted runners.</p>
			<p>There are also managed <a id="_idIndexMarker1271"/>services that offer to host GHES for you – for <a id="_idIndexMarker1272"/>example, in an Azure data center in your region. This way, you have full data residency and don't have to manage the servers by yourself. Some also include offering to host managed GitHub Actions runners.</p>
			<h3>GitHub Enterprise AE</h3>
			<p>GitHub is building a<a id="_idIndexMarker1273"/> service called <strong class="bold">GitHub Enterprise AE</strong> (<strong class="bold">GHAE</strong>). It is currently in private beta for customers with <a id="_idIndexMarker1274"/>more than 500 seats and there is not yet a date when the service will be available publicly.</p>
			<p>GHAE is a completely isolated, managed offering from GitHub in a Microsoft Azure region of your choice. This gives you full data residency and compliance.</p>
			<p>For customers that need data residency and compliance, this will be a good option in the future, but for now, it is not clear when it will be available, what the pricing will be, and what the minimum number of seats will be.</p>
			<h2 id="_idParaDest-381"><a id="_idTextAnchor384"/>GitHub Connect</h2>
			<p>The power of GitHub lies in its<a id="_idIndexMarker1275"/> community and the value the community provides. To be able to leverage this on the server, you can connect your server to GitHub using <strong class="bold">GitHub Connect</strong>. You can activate each feature individually, as you can see in <em class="italic">Figure 20.2</em>:</p>
			<div>
				<div id="_idContainer253" class="IMG---Figure">
					<img src="image/B17827_20_02.jpg" alt="Figure 20.2 – Configure GitHub Connect on GHES&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 20.2 – Configure GitHub Connect on GHES</p>
			<p>The following is a list of the features:</p>
			<ul>
				<li><strong class="bold">License sync</strong>: Manage<a id="_idIndexMarker1276"/> license usage across your enterprise on multiple servers or organizations. This helps to ensure that one user only consumes one license, no matter where they sign in.</li>
				<li><strong class="bold">Unified search</strong>: One<a id="_idIndexMarker1277"/> option is to allow searching on the server and getting results for public repositories from <a href="http://GitHub.com">GitHub.com</a>. Additionally, you can allow searching on the server and finding private repositories that belong to your enterprise (of course, only when the user has access to the repositories).</li>
				<li><strong class="bold">GitHub.com actions</strong>: To load<a id="_idIndexMarker1278"/> public actions in workflows, you must enable this option. Without this, you must fork all actions to your server and reference them from there. You can still configure at the organization level what actions are allowed.</li>
				<li><strong class="bold">Unified contributions</strong>: Without<a id="_idIndexMarker1279"/> this option, users' contributions on the server will not show up in their public profile. No sensitive data is exposed with this option. Only the number of contributions – such as commits, issues, discussions, or pull requests – are sent to GitHub.com.</li>
			</ul>
			<h2 id="_idParaDest-382"><a id="_idTextAnchor385"/>Pricing</h2>
			<p>The cost of GitHub is<a id="_idIndexMarker1280"/> billed monthly per user, and it is built upon three different tiers, <strong class="bold">Free</strong>, <strong class="bold">Team</strong>, and <strong class="bold">Enterprise</strong> (see <em class="italic">Figure 20.3</em>):</p>
			<div>
				<div id="_idContainer254" class="IMG---Figure">
					<img src="image/B17827_20_03.jpg" alt="Figure 20.3 – Overview of GitHub pricing tiers&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 20.3 – Overview of GitHub pricing tiers</p>
			<p>Public repositories – and therefore open source – are <strong class="bold">free</strong> and contain a lot of features for free, such as Actions, Packages, and many <a id="_idIndexMarker1281"/>security features. Private repositories are free with limited functionality and 2,000 Action minutes and 500 MB of storage. The pricing for Actions was covered in depth in <a href="B17827_07_Epub.xhtml#_idTextAnchor175"><em class="italic">Chapter 7</em></a>, <em class="italic">Running Your Workflows</em>.</p>
			<p>If you really want to collaborate with GitHub in private repositories, you need at least the <strong class="bold">Team</strong> license. It <a id="_idIndexMarker1282"/>includes <strong class="bold">protected branches</strong>, <strong class="bold">code owners</strong>, and other advanced pull request features. And you get access to <strong class="bold">Codespaces</strong>, but you must pay for them separately (see <a href="B17827_13_Epub.xhtml#_idTextAnchor284"><em class="italic">Chapter 13</em></a>, <em class="italic">Shift Left Security and DevSecOps</em>, for the pricing of Codespaces). The team tier contains 3,000 Action minutes and 2 GB of storage for packages.</p>
			<p>Free and Team are only available on <a href="http://GitHub.com">GitHub.com</a>. If you need GHEC, GHES, or GHAE, you must buy the GitHub <strong class="bold">Enterprise</strong> license. This license contains all the Enterprise features, such as single <a id="_idIndexMarker1283"/>sign-on, user management, auditing, and policies, and it comes with 50,000 Action minutes and 50 GB of storage for packages. It also gives you the option to purchase additional add-ons such as <strong class="bold">Advanced Security</strong> or <strong class="bold">Premium Support</strong>.</p>
			<p>Licenses are bought in blocks of 10 and can be paid monthly or yearly. If you want to use GitHub Advances Security or Premium Support, you must talk to the GitHub Sales team or a GitHub partner. They can give you a quote for that.</p>
			<p>There are certain things that are paid on a per-use basis in addition to the license tiers, such as the following:</p>
			<ul>
				<li>Actions</li>
				<li>Packages</li>
				<li>Codespaces</li>
				<li>Marketplace pay-per-use apps</li>
			</ul>
			<p>You can configure spending limits on the organization or enterprise level.</p>
			<h1 id="_idParaDest-383"><a id="_idTextAnchor386"/>Hands-on – create your account on GitHub.com</h1>
			<p>Until now, I<a id="_idIndexMarker1284"/> just assumed that you already have a GitHub account. With <a id="_idIndexMarker1285"/>over 70 million users, chances are high that you do. If you have one, just skip this section and continue with <strong class="bold">enterprise security</strong>.</p>
			<p>Signing up for GitHub is straightforward. It is designed like a wizard that looks like a console. The steps to create a new account are as follows:</p>
			<ol>
				<li>Visit <a href="https://github.com">https://github.com</a> and click on <strong class="bold">Sign up</strong>.</li>
				<li>Enter your email address and click <strong class="bold">Continue</strong> or press <em class="italic">Enter</em>, as in <em class="italic">Figure 20.4</em>:</li>
			</ol>
			<div>
				<div id="_idContainer255" class="IMG---Figure">
					<img src="image/B17827_20_04.jpg" alt="Figure 20.4 – Enter your email address&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 20.4 – Enter your email address</p>
			<ol>
				<li value="3">Enter a <a id="_idIndexMarker1286"/>strong password and click <strong class="bold">Continue</strong>.</li>
				<li>Enter a username. The <a id="_idIndexMarker1287"/>username must be unique. GitHub will tell you whether your name is available or not, as in <em class="italic">Figure 20.5</em>:</li>
			</ol>
			<div>
				<div id="_idContainer256" class="IMG---Figure">
					<img src="image/B17827_20_05.jpg" alt="Figure 20.5 – Create a password and pick a unique username&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 20.5 – Create a password and pick a unique username</p>
			<p>Click <strong class="bold">Continue</strong> if you found a unique username.</p>
			<ol>
				<li value="5">Now, you can opt in or out of email communication. Type <strong class="source-inline">y</strong> for <em class="italic">yes</em> or <strong class="source-inline">n</strong> for <em class="italic">no</em>, then click <strong class="bold">Continue</strong> or press <em class="italic">Enter</em>.</li>
				<li>Solve the <a id="_idIndexMarker1288"/>captcha by clicking on the specified part of the<a id="_idIndexMarker1289"/> image. Note that the captcha might appear in the preferred language of your browser (see <em class="italic">Figure 20.6</em>):</li>
			</ol>
			<div>
				<div id="_idContainer257" class="IMG---Figure">
					<img src="image/B17827_20_06.jpg" alt="Figure 20.6 – Email communication and captcha&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 20.6 – Email communication and captcha</p>
			<ol>
				<li value="7">Now, check your email account. You should have received a code that you can paste into the following fields (see <em class="italic">Figure 20.7</em>):</li>
			</ol>
			<div>
				<div id="_idContainer258" class="IMG---Figure">
					<img src="image/B17827_20_07.jpg" alt="Figure 20.7 – Enter the code that was sent to your email address&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 20.7 – Enter the code that was sent to your email address</p>
			<ol>
				<li value="8">The next dialogs are to personalize your experience. You can skip them if you want.</li>
				<li>You can <a id="_idIndexMarker1290"/>choose a free 30-day trial of GitHub Enterprise. This<a id="_idIndexMarker1291"/> should give you enough time to try out all the features.</li>
			</ol>
			<p>After you have successfully created your account, there are some steps you should do right away:</p>
			<ol>
				<li value="1">Go to <a href="https://github.com/settings/security">https://github.com/settings/security</a> and check <strong class="bold">Enable two-factor authentication</strong> to secure your account.</li>
				<li>Fill in your profile at <a href="https://github.com/settings/profile">https://github.com/settings/profile</a> and pick a good avatar.</li>
				<li>Select the theme of your choice at <a href="https://github.com/settings/appearance">https://github.com/settings/appearance</a>. You can choose a single light or dark theme, or you can choose to sync the theme with your system.</li>
				<li>Choose how to deal with your email address at <a href="https://github.com/settings/emails">https://github.com/settings/emails</a>. You can choose to keep your email address private. GitHub will then use a special email address when performing web-based Git operations. The address has the following format: <strong class="source-inline">&lt;user-id&gt;+&lt;user-name&gt;@users.noreply.github.com</strong>. You have to configure this address locally if you want to block command-line pushes that contain your real email address:<p class="source-code">$ git config --global user.email &lt;email address&gt;</p></li>
			</ol>
			<p>Your GitHub account is now ready, and you can start creating repositories or contributing to open source projects.</p>
			<h1 id="_idParaDest-384"><a id="_idTextAnchor387"/>Enterprise security</h1>
			<p>As an <a id="_idIndexMarker1292"/>enterprise, you can use <strong class="bold">SAML</strong> <strong class="bold">single sign-on</strong> (<strong class="bold">SSO</strong>) with your <strong class="bold">identity provider</strong> (<strong class="bold">IdP</strong>) to protect your GitHub Enterprise resources. SSO can be configured in GHEC at the enterprise and organization levels. In GHES, it can only be configured for the entire server.</p>
			<p>SAML SSO can be<a id="_idIndexMarker1293"/> configured with every IdP that supports SAML – but not all support the <strong class="bold">System for Cross-domain Identity Management</strong> (<strong class="bold">SCIM</strong>). These are compatible: <strong class="bold">Azure AD</strong> (<strong class="bold">AAD</strong>), Okta, and OneLogin.</p>
			<h2 id="_idParaDest-385"><a id="_idTextAnchor388"/>SAML authentication</h2>
			<p>Configuring <a id="_idIndexMarker1294"/>SAML SSO in <a id="_idIndexMarker1295"/>GitHub is straightforward. You can find the corresponding settings in the enterprise or organization settings under <strong class="bold">Authentication security</strong> (<strong class="source-inline">/settings/security</strong>) | <strong class="bold">SAML single sign-on</strong>. Here, you can find the consumer URL you will need to configure your IdP (see <em class="italic">Figure 20.8</em>):</p>
			<div>
				<div id="_idContainer259" class="IMG---Figure">
					<img src="image/B17827_20_08.jpg" alt="Figure 20.8 – Configure SAML SSO in GitHub&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 20.8 – Configure SAML SSO in GitHub</p>
			<p>The values for the fields must be configured in your IdP. Check their documentation for more information. In AAD, for example, you can find detailed instructions here: <a href="https://docs.microsoft.com/en-us/azure/active-directory/saas-apps/github-tutorial">https://docs.microsoft.com/en-us/azure/active-directory/saas-apps/github-tutorial</a>. You have to create a new Enterprise application in AAD. You can search the templates for GitHub and pick the corresponding one (for enterprise, organization, or server). See <em class="italic">Figure 20.9</em> for the currently available templates:</p>
			<div>
				<div id="_idContainer260" class="IMG---Figure">
					<img src="image/B17827_20_09.jpg" alt="Figure 20.9 – Enterprise application templates for GitHub in AAD&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 20.9 – Enterprise application templates for GitHub in AAD</p>
			<p>Assign users or<a id="_idIndexMarker1296"/> groups to the application that you <a id="_idIndexMarker1297"/>want to have access to GitHub. The important configuration happens in <strong class="bold">Set up single sign on</strong> (see <em class="italic">Figure 20.10</em>):</p>
			<div>
				<div id="_idContainer261" class="IMG---Figure">
					<img src="image/B17827_20_10.jpg" alt="Figure 20.10 – Configuring your Enterprise application&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 20.10 – Configuring your Enterprise application</p>
			<p>Use the <a id="_idIndexMarker1298"/>organization or enterprise URL as the identifier. You<a id="_idIndexMarker1299"/> can use the first part of the URL you have seen in <em class="italic">Figure 20.8</em>, only without <strong class="source-inline">/saml/consume</strong>. Use this URL as <strong class="bold">Entity ID</strong>. Add <strong class="source-inline">/saml/consume</strong> for <strong class="bold">Reply URL</strong> and <strong class="source-inline">/sso</strong> for <strong class="bold">Sign on URL</strong>. The result should look like <em class="italic">Figure 20.11</em>: </p>
			<div>
				<div id="_idContainer262" class="IMG---Figure">
					<img src="image/B17827_20_11.jpg" alt="Figure 20.11 – Basic SAML configuration in AAD Enterprise application&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 20.11 – Basic SAML configuration in AAD Enterprise application</p>
			<p>The attributes and claims can be used to adjust the mappings for the fields in AAD. The default settings should work if your AAD was not customized (see <em class="italic">Figure 20.12</em>):</p>
			<div>
				<div id="_idContainer263" class="IMG---Figure">
					<img src="image/B17827_20_12.jpg" alt="Figure 20.12 – Configure the attributes and claims for the SAML token&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 20.12 – Configure the attributes and claims for the SAML token</p>
			<p>Download the <strong class="bold">Base64</strong> certificate used to sign the SAML token (see <em class="italic">Figure 20.13</em>):</p>
			<div>
				<div id="_idContainer264" class="IMG---Figure">
					<img src="image/B17827_20_13.jpg" alt="Figure 20.13 – Download the SAML signing certificate&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 20.13 – Download the SAML signing certificate</p>
			<p>Copy<a id="_idIndexMarker1300"/> the <strong class="bold">Login URL</strong> and <strong class="bold">Azure AD Identifier</strong> URLs (see <em class="italic">Figure 20.14</em>):</p>
			<div>
				<div id="_idContainer265" class="IMG---Figure">
					<img src="image/B17827_20_14.jpg" alt="Figure 20.14 – Get Login URL and Azure AD Identifier&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 20.14 – Get Login URL and Azure AD Identifier</p>
			<p>You can now head back<a id="_idIndexMarker1301"/> to GitHub and fill in the data. Then, paste the <strong class="bold">Login URL</strong> information into the <strong class="bold">Sign on URL</strong> field and the <strong class="bold">Azure AD Identifier</strong> URL into the <strong class="bold">Issuer</strong> field. Open the certificate in a text editor and paste the content in the <strong class="bold">Public certificate</strong> field. The result looks like <em class="italic">Figure 20.15</em>:</p>
			<div>
				<div id="_idContainer266" class="IMG---Figure">
					<img src="image/B17827_20_15.jpg" alt="Figure 20.15 – Configure SAML SSO in GitHub&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 20.15 – Configure SAML SSO in GitHub</p>
			<p>Click <strong class="bold">Test SAML configuration</strong> and log in with your AAD credentials. If everything was <a id="_idIndexMarker1302"/>successful, you can check <strong class="bold">Require SAML authentication</strong> to<a id="_idIndexMarker1303"/> enforce the access with SAML. GitHub will then check which users have not been granted access through the IdP and remove them after your confirmation.</p>
			<p>Note that only authorized PAT tokens and SSH keys can access content that is protected by SSO. Each user must go to their PAT tokens/SSH keys and authorize them as in the example in <em class="italic">Figure 20.16</em>:</p>
			<div>
				<div id="_idContainer267" class="IMG---Figure">
					<img src="image/B17827_20_16.jpg" alt="Figure 20.16 – Authorize a PAT token for SSO protected organizations&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 20.16 – Authorize a PAT token for SSO protected organizations</p>
			<p>Of course, the<a id="_idIndexMarker1304"/> configuration for every IdP is different, and the<a id="_idIndexMarker1305"/> values vary slightly depending on whether you configure an enterprise, an organization, or a server. But with the documentation of your IdP, the setup should be straightforward.</p>
			<h2 id="_idParaDest-386"><a id="_idTextAnchor389"/>SCIM</h2>
			<p>If you enable <a id="_idIndexMarker1306"/>SAML SSO, users will not be <a id="_idIndexMarker1307"/>automatically deprovisioned when you deactivate a user in your IdP. You can implement <strong class="bold">SCIM</strong> in GHEC to automatically add, manage, and remove access based on the information of your IdP. </p>
			<p>SCIM is an API endpoint (see <a href="mailto:https://docs.github.com/en/enterprise-cloud@latest/rest/reference/scim">https://docs.github.com/en/enterprise-cloud@latest/rest/reference/scim</a>) that is used by your IdP to manage the users in GitHub. Compatible IdPs are, for example, <strong class="bold">Azure AD</strong>, <strong class="bold">Okta</strong>, and <strong class="bold">OneLogin</strong>. To configure SCIM, you must follow the documentation of your IdP if they are compatible. Here is the tutorial for AAD: <a href="https://docs.microsoft.com/en-us/azure/active-directory/saas-apps/github-provisioning-tutorial">https://docs.microsoft.com/en-us/azure/active-directory/saas-apps/github-provisioning-tutorial</a>.</p>
			<p class="callout-heading">Disable Third-Party Access Restrictions</p>
			<p class="callout">Note that you have to disable third-party access restrictions in the settings of your organization before authorizing your IdP. You can do this under <strong class="bold">Settings</strong> | <strong class="bold">Third-party access</strong> | <strong class="bold">Disable access restrictions</strong>.</p>
			<h2 id="_idParaDest-387"><a id="_idTextAnchor390"/>Automatic team synchronization</h2>
			<p>If you use SAML SSO on <a id="_idIndexMarker1308"/>GHEC, you can<a id="_idIndexMarker1309"/> set up <strong class="bold">team synchronization</strong> to automatically sync team membership with your IdP. Currently, team synchronization only supports <strong class="bold">AAD</strong> and <strong class="bold">Okta</strong>.</p>
			<p>You can enable team synchronization in the settings of your organization under <strong class="bold">Authentication security</strong> (<strong class="source-inline">/settings/security</strong>). There, you can then see how many teams are synchronized and jump to the filtered audit log to see all relevant events (see <em class="italic">Figure 20.17</em>):</p>
			<div>
				<div id="_idContainer268" class="IMG---Figure">
					<img src="image/B17827_20_17.jpg" alt="Figure 20.17 – Enabling team synchronization for an organization&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 20.17 – Enabling team synchronization for an organization</p>
			<p>Once enabled, you can create new teams and select one or more groups from your IdP that get synchronized with your team, as you can see in <em class="italic">Figure 20.18</em>:</p>
			<div>
				<div id="_idContainer269" class="IMG---Figure">
					<img src="image/B17827_20_18.jpg" alt="Figure 20.18 – Creating teams with automatic synchronization&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 20.18 – Creating teams with automatic synchronization</p>
			<p>You can add <a id="_idIndexMarker1310"/>these teams inside other <a id="_idIndexMarker1311"/>teams (<strong class="bold">Parent team</strong>), but you cannot sync nested groups to GitHub.</p>
			<h2 id="_idParaDest-388"><a id="_idTextAnchor391"/>Enterprise Managed Users</h2>
			<p>In GHEC, even if you set up SAML SSO for your enterprise or organization, every user still needs a user account on GitHub.com. The GitHub user account is basically the identity of the user, and the SAML authorization is the access granted to certain Enterprise resources. The user could contribute to open source and other organizations using their identity, and must authenticate using SSO to access Enterprise resources. But many organizations <a id="_idIndexMarker1312"/>don't want that. They want complete control over the identity of their users. The solution for<a id="_idIndexMarker1313"/> that is <strong class="bold">Enterprise Managed Users</strong> (<strong class="bold">EMU</strong>). With EMU, the identity of users gets completely managed in the IdP. A new user gets created if a user logs in for the first time using the identity from the IdP. This user cannot contribute to open source or be added as an outside collaborator to other repositories. Also, the <a id="_idIndexMarker1314"/>contributions only count to the profile of that user.</p>
			<p>EMU gives your enterprise a lot of control over the identities, but it comes with a lot of restrictions, as shown in the following examples:</p>
			<ul>
				<li>Users cannot <strong class="bold">collaborate</strong> on, <strong class="bold">star</strong>, <strong class="bold">watch</strong>, or <strong class="bold">fork</strong> repositories outside of the enterprise. They cannot create issues or pull requests, <strong class="bold">push code</strong>, comment, or add reactions to these repositories.</li>
				<li>Users are only visible to other members of the same enterprise, and they cannot follow other users outside of the enterprise.</li>
				<li>They cannot install <strong class="bold">GitHub Apps</strong> on their user accounts.</li>
				<li>Users can only create <strong class="bold">private</strong> and <strong class="bold">internal</strong> repositories.</li>
			</ul>
			<p>These restrictions make a lot of things difficult. One of the main benefits of GitHub is its integration of open source repositories. But if EMU allows you to use the cloud instead of a server instance, it might be worth giving it a shot.</p>
			<p>Currently, EMU-supported IdPs are <strong class="bold">AAD</strong> and <strong class="bold">Okta</strong>.</p>
			<p>If you want to try EMU, you must contact GitHub's sales team and they will create a new enterprise for you. </p>
			<p>To learn more about <a id="_idIndexMarker1315"/>EMU, see <a href="mailto:https://docs.github.com/en/enterprise-cloud@latest/admin/identity-and-access-management/managing-iam-with-enterprise-managed-users/about-enterprise-managed-users">https://docs.github.com/en/enterprise-cloud@latest/admin/identity-and-access-management/managing-iam-with-enterprise-managed-users/about-enterprise-managed-users</a>.</p>
			<h2 id="_idParaDest-389"><a id="_idTextAnchor392"/>Authentication with GHES</h2>
			<p>On the server, things<a id="_idIndexMarker1316"/> work differently. You can configure SSO for <strong class="bold">SAML</strong>, <strong class="bold">LDAP</strong>, or <strong class="bold">CAS</strong>. The configuration is straightforward and not so different from GHEC. Users do not need a <a href="http://GitHub.com">GitHub.com</a> account; they can sign in directly to the server using the IdP, similar to EMU. But if GitHub Connect is configured, users can connect their GitHub account in <strong class="bold">User Settings</strong> | <strong class="bold">GitHub Connect</strong> and share the number of contributions with their public GitHub profile. This way, they can connect multiple corporate identities to their GitHub profile if they choose to do so.</p>
			<h2 id="_idParaDest-390"><a id="_idTextAnchor393"/>The Audit API</h2>
			<p>GHEC, as well as <a id="_idIndexMarker1317"/>GHES, supports audit<a id="_idIndexMarker1318"/> logging. The log contains log entries for all security-relevant events. Each audit log entry shows applicable information about an event, such as the following:</p>
			<ul>
				<li>The enterprise or organization an action was performed in</li>
				<li>The user (<strong class="source-inline">actor</strong>) who performed the action</li>
				<li>The user affected by the action</li>
				<li>Which repository an action was performed in</li>
				<li>The action that was performed</li>
				<li>Which country the action took place in</li>
				<li>The date and time the action occurred</li>
			</ul>
			<p><em class="italic">Figure 20.19</em> shows a sample audit log in GHEC at the enterprise level. You can search and filter the audit log. You can pick predefined filters and click on the title elements of the log entries to create a filter statement:</p>
			<div>
				<div id="_idContainer270" class="IMG---Figure">
					<img src="image/B17827_20_19.jpg" alt="Figure 20.19 – The audit log of a GHEC instance&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 20.19 – The audit log of a GHEC instance</p>
			<p>On GHEC, you can <a id="_idIndexMarker1319"/>enable log streaming and configure automatic <a id="_idIndexMarker1320"/>streaming of all events to one of the following targets:</p>
			<ul>
				<li>Amazon S3</li>
				<li>Azure Blob storage</li>
				<li>Azure Event Hubs</li>
				<li>Google Cloud Storage</li>
				<li>Splunk</li>
			</ul>
			<p>You can forward the events with Azure Event Hubs to other tools such as Log Analytics or Sentinel.</p>
			<p>You can also access the audit log using the audit log API. You can query the audit log using GraphQL or the REST API. The following example shows how you could retrieve all events for a specific date using the REST API:</p>
			<pre class="source-code">$ curl -H "Authorization: token <strong class="bold">TOKEN</strong>" \</pre>
			<pre class="source-code">--request GET \</pre>
			<pre class="source-code">"https://api.github.com/enterprises/<strong class="bold">name</strong>/audit-log?phrase=created:2022-01-01&amp;page=1&amp;per_page=100"</pre>
			<p>For more information about <a id="_idIndexMarker1321"/>querying audit logs using the API, see <a href="mailto:https://docs.github.com/en/enterprise-cloud@latest/admin/monitoring-activity-in-your-enterprise/reviewing-audit-logs-for-your-enterprise/using-the-audit-log-api-for-your-enterprise">https://docs.github.com/en/enterprise-cloud@latest/admin/monitoring-activity-in-your-enterprise/reviewing-audit-logs-for-your-enterprise/using-the-audit-log-api-for-your-enterprise</a>.</p>
			<h1 id="_idParaDest-391"><a id="_idTextAnchor394"/>GitHub Learning Lab</h1>
			<p>One of the big advantages of <a id="_idIndexMarker1322"/>GitHub is that most developers already know how it works. This means less time for training and onboarding. But, of course, there are still developers that are new to GitHub. GitHub offers the GitHub <a id="_idIndexMarker1323"/>Learning Lab (https://lab.github.com/) for free. It contains many learning paths that use GitHub issues and a bot to provide you with a hands-on experience to learn GitHub.</p>
			<p>There are also many free learning paths available on Microsoft Learn if you prefer this way of learning. Just go to Microso<a id="_idTextAnchor395"/>ft Learn and filter by product, GitHub: <a href="https://docs.microsoft.com/en-us/learn/browse/?products=github">https://docs.microsoft.com/en-us/learn/browse/?products=github</a>.</p>
			<h1 id="_idParaDest-392"><a id="_idTextAnchor396"/>Summary</h1>
			<p>In this chapter, you learned about the different pricing and hosting options for GitHub. You learned about enterprise security and how you can integrate GitHub into your enterprise.</p>
			<p>In the next chapter, I'll show you how you can migrate from your existing source control system or DevOps solution to GitHub.</p>
			<h1 id="_idParaDest-393"><a id="_idTextAnchor397"/>Further reading</h1>
			<p>Use the following links to get more information on the topics:</p>
			<ul>
				<li><em class="italic">Pricing</em>: <a href="https://github.com/pricing">https://github.com/pricing</a></li>
				<li><em class="italic">GitHub AE</em>: <a href="mailto:https://docs.github.com/en/github-ae@latest/admin/overview/about-github-ae">https://docs.github.com/en/github-ae@latest/admin/overview/about-github-ae</a></li>
				<li><em class="italic">SCIM</em>: <a href="mailto:https://docs.github.com/en/enterprise-cloud@latest/rest/reference/scim">https://docs.github.com/en/enterprise-cloud@latest/rest/reference/scim</a></li>
				<li><em class="italic">Enterprise Managed Users</em>: https://docs.github.com/en/enterprise-cloud@latest/admin/identity-and-access-management/managing-iam-with-enterprise-managed-users/about-enterprise-managed-users</li>
				<li><em class="italic">Audit logs</em>: https://docs.github.com/en/enterprise-cloud@latest/admin/monitoring-activity-in-your-enterprise/reviewing-audit-logs-for-your-enterprise/about-the-audit-log-for-your-enterprise</li>
				<li><em class="italic">GitHub Learning Lab</em>: https://lab.github.com</li>
				<li><em class="italic">Microsoft Learn</em>: <a href="https://docs.microsoft.com/en-us/learn">https://docs.microsoft.com/en-us/learn</a></li>
			</ul>
		</div>
	</body></html>