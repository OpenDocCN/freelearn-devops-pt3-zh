- en: '3'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '3'
- en: How Not to Get Confused about Security
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何避免对安全产生困惑
- en: This chapter covers anti-patterns related to securing your Salesforce org. We’ll
    begin by examining a key anti-pattern around the shared security model that is
    integral to Salesforce. Then, we will look at anti-patterns that can occur when
    you mistake other things for security. We will continue by looking at how not
    to make a mess of your sharing model and once again finish up with a review of
    the key takeaways. As Salesforce continues to integrate AI technologies, new security
    considerations are emerging. This chapter will also touch on how AI impacts the
    security landscape within Salesforce.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 本章讨论与确保Salesforce组织安全相关的反模式。我们将首先研究围绕Salesforce共享安全模型的关键反模式。然后，我们将探讨在将其他事物误认为是安全时可能出现的反模式。接着，我们将继续讨论如何避免搞砸共享模型，并再次总结关键要点。随着Salesforce不断整合AI技术，新的安全考虑因素不断涌现。本章还将涉及AI如何影响Salesforce中的安全格局。
- en: 'In this chapter, we’re going to cover the following main topics:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 本章将涵盖以下主要主题：
- en: The *Shared Belongs to Salesforce* anti-pattern and how people get the shared
    responsibility model wrong
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*共享属于Salesforce* 反模式以及人们如何错误理解共享责任模型'
- en: How the *Compliant Is Secure* anti-pattern lulls you into a false sense of security
    and what you can do about it
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*合规即安全* 反模式如何使你产生虚假的安全感，以及你可以采取的应对措施'
- en: The *Declarative Is Always Safe* anti-pattern and why you can’t rely on declarative
    features to always be secure
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*声明式永远安全* 反模式以及为什么你不能总是依赖声明式功能来保证安全'
- en: The *Spaghetti Sharing Model* anti-pattern – why it is deceptively easy to get
    into an overcomplicated sharing model on Salesforce and how you can prevent it
    from happening to your org
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*意大利面共享模型* 反模式——为什么在Salesforce上很容易进入一个过于复杂的共享模型，以及如何防止这种情况发生在你的组织中'
- en: After completing this chapter, you will have a good idea of how to avoid common
    security anti-patterns on Salesforce and what steps you can take to implement
    better security practices on the platform.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 完成本章后，你将清楚如何避免Salesforce上常见的安全反模式，并了解可以采取哪些步骤来实施更好的安全实践。
- en: Getting confused about shared responsibility
  id: totrans-9
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 对共享责任感到困惑
- en: Almost all SaaS and PaaS platforms use a security model called shared responsibility.
    That is to say, the vendor takes responsibility for certain parts of the security
    architecture and other parts remain the responsibility of the customer. In this
    section, we will see how misunderstanding this model can lead to issues in Salesforce.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 几乎所有的SaaS和PaaS平台都采用一种名为共享责任的安全模型。也就是说，供应商负责安全架构的某些部分，而其他部分则由客户负责。在这一部分中，我们将看到误解这一模型如何在Salesforce中引发问题。
- en: Shared Belongs to Salesforce
  id: totrans-11
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 共享属于Salesforce
- en: '*The Shared Belongs to Salesforce anti-pattern* *holds that security on the
    Salesforce platform is always the primary responsibility* *of Salesforce.*'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: '*共享属于Salesforce反模式* *认为Salesforce平台上的安全始终是Salesforce的首要责任*'
- en: Example
  id: totrans-13
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 示例
- en: SmallCo is a provider of specialty lenses for optical instruments. They sell
    globally and have recently adopted Salesforce Sales Cloud, Order Management, and
    B2B Commerce to drive electronic commerce directly to the business instead of
    selling exclusively via distributors.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: SmallCo是一家为光学仪器提供特殊镜头的供应商。他们在全球销售，最近已采用Salesforce Sales Cloud、订单管理和B2B商务，以直接推动电子商务，而不是仅通过分销商销售。
- en: When they did their implementation, the Salesforce platform went through a security
    review with James, the dedicated security professional that SmallCo has on staff.
    He evaluated the platform as a whole and was satisfied that the Salesforce platform,
    including how Salesforce secures their data centers, platform, and web application,
    met all the standards that SmallCo would expect.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 当他们进行实施时，Salesforce平台经过了James这位SmallCo内部专职安全专家的安全审查。他对平台进行了整体评估，并确认Salesforce平台，包括Salesforce如何保障其数据中心、平台和Web应用程序的安全，符合SmallCo的所有标准。
- en: James evaluates the shared responsibility model that Salesforce uses for security
    and determines that for the initial project, there shouldn’t be any need for additional
    security controls from SmallCo’s side. Salesforce will ensure security adequately
    without additional work required by SmallCo.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: James评估了Salesforce在安全方面使用的共享责任模型，并认为在初始项目中，SmallCo方面无需额外的安全控制措施。Salesforce将充分确保安全，SmallCo无需额外工作。
- en: After a period of successful running, SmallCo wants to extend the digital experience
    and online community adjacent to their web store and also bring in a much larger
    number of customers onto the web store itself. Mika, a Salesforce Product Owner
    at SmallCo, is given the task of running this extension project.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 在一段时间的顺利运行后，SmallCo 想要扩展其数字体验和与在线社区相邻的网络商店，并且还希望吸引更多客户进入网络商店。Mika，作为 SmallCo
    的 Salesforce 产品负责人，被赋予了这个扩展项目的任务。
- en: Because of the limited budget, Mika agrees with the implementation partner that
    they will extend a lot of functionality to anonymous users so that many tasks
    can be performed without a login. That way, SmallCo can opt for a relatively small
    login-based license SKU.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 由于预算有限，Mika 同意与实施伙伴达成一致，将大量功能扩展给匿名用户，以便许多任务无需登录即可完成。这样，SmallCo 可以选择一个相对较小的基于登录的许可
    SKU。
- en: The system goes live without issue and, as hoped, user numbers go up by more
    than a factor of 10. Mika and the team celebrate and, after completing the last
    outstanding minor improvements, start gearing up for the next project.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 系统顺利上线，并且如预期，用户数量增长了十倍以上。Mika 和团队庆祝成功，并在完成最后一些待改进的小问题后，开始为下一个项目做准备。
- en: Just then, Mika receives a security advisory from a Salesforce consultancy that
    helped with SmallCo’s original Salesforce implementation. They point out that
    a number of new vulnerabilities have been found in Salesforce APIs used within
    digital experiences. These potentially allow serious exploits if there is a too-open
    model toward external users.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 就在这时，Mika 收到了一份来自一个曾帮助 SmallCo 实施原始 Salesforce 方案的 Salesforce 咨询公司的安全建议。咨询公司指出，Salesforce
    APIs 中发现了一些新漏洞，这些漏洞在数字体验中被使用。如果存在对外部用户过于开放的模型，这些漏洞可能会导致严重的安全漏洞。
- en: Mika is initially worried but remembers the conversation he had with James about
    Salesforce security prior to starting his new project. APIs sound like a core
    platform feature and therefore something Salesforce will take care of. The project
    is closed and doing anything new would require finding a new budget, which is
    difficult. He, therefore, decides to ignore the warning.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: Mika 起初感到担忧，但他想起了自己在启动新项目之前与 James 讨论过的 Salesforce 安全性问题。APIs 听起来像是一个核心平台特性，因此
    Salesforce 应该会负责处理它们。项目已经关闭，做任何新工作都需要找到新的预算，而这非常困难。因此，他决定忽略这个警告。
- en: Three weeks later, an email arrives in an internal SmallCo inbox. It contains
    a data dump with all of SmallCo’s proprietary product information and lists of
    customers and orders. The data dump comes with a ransom demand to be paid in cryptocurrency
    to a specified address. Otherwise, the data will be made public.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 三周后，一封电子邮件送达了 SmallCo 的内部邮箱。邮件包含了一个数据转储，里面有 SmallCo 所有的专有产品信息以及客户和订单的列表。数据转储附带一项赎金要求，要求用加密货币支付至指定地址，否则数据将被公开。
- en: The situation quickly escalates and external consultants are brought in to help
    manage the situation. They quickly discover that some very permissive configurations
    have been made to help the process of making functionality available to external
    users. These are likely the source of the breach and are also the cause of the
    security advisory Mika received from the other partner.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 事情迅速升级，外部顾问被召入协助管理这一局面。他们很快发现，为了帮助将功能提供给外部用户，进行了一些非常宽松的配置。这些配置可能是安全漏洞的根源，也是
    Mika 收到来自另一方的安全建议的原因。
- en: SmallCo is very disappointed that Salesforce would leave such a glaring security
    hole open and raise it with their account manager, who instead points the finger
    back at the configuration SmallCo has made. SmallCo finally decides that the only
    thing to do is to pay the ransom and plug the gap.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: SmallCo 对 Salesforce 留下如此明显的安全漏洞感到非常失望，并向他们的客户经理提出了这一问题，然而客户经理却把责任推给了 SmallCo
    的配置。SmallCo 最终决定，唯一的办法就是支付赎金并修补漏洞。
- en: The external consultants facilitate both of these actions and the external configuration
    is locked down. SmallCo has to change their license package, but at this point,
    it has become a small price to pay to avoid a recurrence of the recent events.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 外部顾问协助了这两个操作，并且外部配置被锁定。SmallCo 必须更改其许可包，但此时，考虑到避免近期事件的再次发生，这笔费用已经变得微不足道。
- en: On the suggestion of the external consultants, SmallCo sets up a process and
    some software to continuously monitor the security of their Salesforce environment.
    In addition, Salesforce-related personnel and James from security receive a number
    of education sessions on the Salesforce security model. Mika breathes a sigh of
    relief and gets ready for the next project.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 根据外部顾问的建议，SmallCo 设置了一个流程并使用一些软件持续监控其 Salesforce 环境的安全性。此外，与 Salesforce 相关的人员以及来自安全部门的
    James 还接受了一系列关于 Salesforce 安全模型的教育课程。Mika 松了口气，准备迎接下一个项目。
- en: Problem
  id: totrans-27
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 问题
- en: The Shared Belongs to Salesforce anti-pattern is fundamentally about who is
    responsible for maintaining system and platform security. When you’re dealing
    with cloud systems, there is always a level of shared responsibility in play.
    That means the system or platform provider will maintain some parts of the security
    and you are responsible for others.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: '"共享属于 Salesforce" 反模式本质上涉及谁负责维护系统和平台的安全性。在处理云系统时，总会有一定程度的共享责任。这意味着系统或平台提供商将负责一些安全部分，而你则负责其他部分。'
- en: '![img](img/B30991_03_1.jpg)'
  id: totrans-29
  prefs: []
  type: TYPE_IMG
  zh: '![img](img/B30991_03_1.jpg)'
- en: Figure 3.1 – Shared responsibility model
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.1 – 共享责任模型
- en: In Salesforce terms, Salesforce maintains infrastructure and platform security
    and helps you a lot with application-layer security. Salesforce Shield, including
    Platform Encryption, Event Monitoring, and Field Audit Trail, provides additional
    layers of security but requires proper configuration and management by the customer.
    However, when you configure or code something yourself, the responsibility for
    its security is ultimately on you. The now mandatory multi-factor authentication
    requirement shifts further security responsibility to customers, who must ensure
    proper implementation and user adoption. Finally, Einstein’s features introduce
    new considerations to the shared responsibility model, particularly around data
    usage, model training, and prediction explanations. While I’m discussing it in
    the context of Salesforce, it is relevant to all SaaS and PaaS providers, although
    the specific boundaries defining the shared responsibility will differ.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Salesforce 的术语中，Salesforce 负责维护基础设施和平台的安全性，并在应用层安全方面为你提供了很多帮助。Salesforce Shield，包括平台加密、事件监控和字段审计跟踪，提供了额外的安全层，但需要客户进行正确的配置和管理。然而，当你自己配置或编写某些内容时，最终其安全性仍由你负责。现在，强制性的多因素身份验证要求将更多的安全责任转移给客户，客户必须确保正确的实施和用户采纳。最后，Einstein
    的功能引入了新的考虑因素，尤其是在数据使用、模型训练和预测解释方面，影响了共享责任模型。虽然我在这里讨论的是 Salesforce，但它同样适用于所有 SaaS
    和 PaaS 提供商，尽管具体的共享责任边界会有所不同。
- en: It is, however, very easy to get confused about this boundary and that leads
    to this anti-pattern. The problem that the Shared Belongs to Salesforce anti-pattern
    seeks to solve is the general security problem. That is to say, *“How can we keep
    our system secure?”* As we will see in the next section, it proposes to solve
    the problem by assuming that everything, or at least as much as possible, is the
    software provider’s problem, even when it isn’t.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，关于这个边界很容易产生混淆，从而导致这种反模式的出现。"共享属于 Salesforce" 反模式试图解决的就是这个普遍的安全问题。也就是说，*“我们如何保持系统安全？”*
    正如我们将在下一部分中看到的，它提出的解决方案是通过假设一切，或至少尽可能多的事情，都是软件提供商的问题，即使这并非如此。
- en: Proposed solution
  id: totrans-33
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 提出的解决方案
- en: Shared Belongs to Salesforce proposes to solve the problem of system security
    by assuming that Salesforce as a world-leading software provider has already thought
    of all the issues and therefore will keep the platform secure. That way, you can
    safely ignore security as an aspect of your solution and move forward with the
    real work of getting configurations done.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: '"共享属于 Salesforce" 提出的解决方案是通过假设 Salesforce 作为世界领先的软件提供商已经考虑到了所有问题，因此会保持平台的安全性，从而解决系统安全问题。这样，你可以安全地忽略安全性作为解决方案的一部分，并专注于完成实际的配置工作。'
- en: It effectively means that you don’t seriously engage with the shared responsibility
    model, although there are gradations of this. Most organizations, for example,
    will accept that they have a responsibility for the user permissions that they
    give the users who access the system.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 这实际上意味着你没有认真参与共享责任模型，尽管其中存在不同的层次。例如，大多数组织会接受他们对授予用户的系统访问权限负责。
- en: However, this might extend to how you configure your sharing model; who you
    give access to APIs or custom-coded classes or who is allowed to run reports is
    much murkier. When it gets murky, the adopters of this anti-pattern make the simplifying
    choice that they don’t have to bother with the complexities because Salesforce
    will already have thought about it. That, unfortunately, is not and cannot always
    be true.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，这可能会延伸到你如何配置共享模型；你给谁访问API或自定义编码类的权限，或者谁被允许运行报告的问题变得更加模糊。当情况变得复杂时，采用这种反模式的人会做出简化的选择，因为他们认为Salesforce已经考虑过了这些复杂性。不幸的是，这并非总是如此，也不能总是如此。
- en: 'This anti-pattern is attractive for a number of reasons:'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 这种反模式之所以吸引人，有几个原因：
- en: You don’t have to engage seriously with complex security issues, which means
    you don’t need to hire or develop specialist skills
  id: totrans-38
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你不必认真处理复杂的安全问题，这意味着你不需要雇佣或开发专业技能
- en: It reduces your internal effort when doing work on Salesforce
  id: totrans-39
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在处理Salesforce时减少了你的内部工作量
- en: It gives you a story to communicate to stakeholders that you are in good hands
    and don’t have to worry about security
  id: totrans-40
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它让你有一个故事可以向利益相关者传达，说明你手上有问题并且不必担心安全性
- en: It gives you someone to blame or hold responsible should things go wrong
  id: totrans-41
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它让你有人可以指责或追究责任，如果事情出了问题
- en: While you can easily understand why people might be inclined to make their own
    lives easier by adopting this anti-pattern, the results are not generally optimal.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管你可以理解为什么人们可能倾向于通过采用这种反模式来简化自己的生活，但结果通常并不理想。
- en: Results
  id: totrans-43
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 结果
- en: Humans tend to seek to reduce cognitive load by making simplifications and taking
    shortcuts. Therefore, the Shared Belongs to Salesforce anti-pattern is a naturally
    occurring phenomenon and it takes active security awareness to counter it.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 人类倾向于通过简化和采取捷径来减少认知负荷。因此，共享属于Salesforce的反模式是一种自然现象，需要积极的安全意识来对抗它。
- en: It’s, therefore, not surprising that the first and most serious result of this
    anti-pattern is a reinforcement of low security awareness within the organization.
    If you aren’t aware of security issues, it is just a matter of time before something
    happens. This anti-pattern sets you up for something bad to happen.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，这种反模式的第一个和最严重的结果是加强了组织内的低安全意识。如果你不意识到安全问题，问题迟早会发生。这种反模式会让你陷入麻烦。
- en: 'Other typical negative results include the following:'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 其他典型的负面结果包括以下几点：
- en: Giving everyone from end users to senior management a false sense of security
    about their Salesforce system, leading to even more serious fallout when an incident
    occurs and a missing understanding that you actually have to do something, rather
    than Salesforce just fixing it for you.
  id: totrans-47
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 让所有人，从终端用户到高级管理人员，对其Salesforce系统的安全性产生虚假的安全感，导致事故发生时后果更严重，并且缺乏意识到实际上需要采取行动，而不是指望Salesforce来修复问题。
- en: Not keeping up with the evolving security landscape on the Salesforce platform.
    This includes not just ignoring new security advisories, as in our example, but
    also not looking into new security updates or features that would improve your
    security stance.
  id: totrans-48
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 没有跟上Salesforce平台上不断变化的安全格局。这不仅包括忽视新的安全警报，正如我们的例子中所示，还包括不查看新的安全更新或功能，这些将提升你的安全状态。
- en: Ultimately, the anti-pattern leads to an increased organization risk profile
    that would be intolerable to most senior managers, had they fully understood it.
  id: totrans-49
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 最终，这种反模式导致组织的风险增加，这对大多数高级管理人员来说是无法容忍的，如果他们完全理解了它的话。
- en: It’s worth noting that you can run with this anti-pattern for years and years
    without discovering the negative consequences. It’s only when a security incident
    that has substantial enough consequences to get senior management’s attention
    occurs and is discovered that you really have to confront this anti-pattern.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 值得注意的是，你可以多年来一直采用这种反模式而不发现其负面后果。只有在发生足够严重的安全事故并且被发现时，才会真正不得不面对这种反模式。
- en: It can, therefore, be a bit of a thankless task to point out that this anti-pattern
    is occurring and you may not get anywhere initially. There are, nonetheless, things
    that should be done, as we’ll discuss in the next section.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，指出这种反模式的存在可能会显得有点无功而返，起初可能不会有所进展。然而，我们将在下一节讨论到，确实有些事情是应该做的。
- en: Better solutions
  id: totrans-52
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 更好的解决方案
- en: The solutions to this anti-pattern are fairly obvious to anyone who has spent
    at least a bit of time on information security. First and foremost, this is about
    raising awareness about the security issues that are in play and getting the internal
    acceptance that something needs to be done about Salesforce security in an active
    way rather than assuming the vendor will take care of it.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 解决这一反模式的方案对于任何至少在信息安全领域有些经验的人来说都是显而易见的。首先，这关系到提高对所面临的安全问题的意识，并获得内部的认可，采取积极措施解决
    Salesforce 安全问题，而不是假设供应商会自动处理。
- en: 'Some of the main points include the following:'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 主要要点包括以下内容：
- en: Engaging actively with the shared responsibility model, getting a clear understanding
    of where the boundaries are, how to ensure your own parts are secure, and how
    to continuously remain vigilant about the parts that you aren’t directly responsible
    for but that still directly affect you.
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 积极参与共享责任模型，清楚了解边界在哪里，如何确保你负责的部分安全，以及如何持续保持对那些你不直接负责但仍直接影响你的部分的警惕。
- en: Investing in the required skills to perform your parts of the security task
    both initially and on an ongoing basis. You can build this internally or use consultants;
    however you do it, the responsibility is on you to get it done.
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 投资所需的技能，以便初期和持续执行你的安全任务。你可以在内部构建这些能力，也可以使用顾问；无论你如何做，责任在你，确保任务完成。
- en: Leveraging modern DevOps practices with Salesforce DX or third-party tools to
    implement version control and CI/CD practices, enhancing security through consistent
    and auditable deployment processes.
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 利用现代 DevOps 实践，结合 Salesforce DX 或第三方工具，实施版本控制和 CI/CD 实践，通过一致且可审计的部署流程增强安全性。
- en: Assessing new risks whenever you extend your solution in significant ways. This
    does not just mean when you are adding new modules. Major extensions to existing
    functionality can also lead to new security threats being introduced.
  id: totrans-58
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 每当你在重要方面扩展你的解决方案时，评估新风险。这不仅仅是指添加新模块时。对现有功能的重大扩展也可能引入新的安全威胁。
- en: Shifting the company’s mindset. Fundamentally, you need to shift the mindset
    of your organization to one where security is seen as fundamental to organizational
    resilience and growth. That may be beyond what most of us as architects can accomplish.
    However, pushing where we can in our sphere of influence is also helpful.
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 转变公司的思维方式。从根本上讲，你需要将组织的思维方式转变为将安全视为组织韧性和增长的基础。这可能超出了我们大多数架构师能够实现的范围。然而，在我们能影响的范围内推动变化也是有帮助的。
- en: Considering the principle of least privilege, which is crucial for preventing
    security vulnerabilities by ensuring that users and processes have only the minimum
    access rights necessary to perform their tasks. This approach limits the potential
    damage from compromised accounts or malicious insiders, reduces the attack surface,
    simplifies auditing and compliance, and helps contain the spread of malware. By
    avoiding overprivileged accounts and unnecessary permissions, organizations can
    significantly mitigate risks associated with data breaches, unauthorized access,
    and privilege escalation attacks, ultimately strengthening their overall security
    posture and reducing the likelihood of falling victim to common security anti-patterns.
  id: totrans-60
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 考虑最小权限原则，这对于防止安全漏洞至关重要，它确保用户和进程仅拥有执行任务所需的最小访问权限。这种方法限制了被破坏账户或恶意内部人员可能造成的潜在损害，减少了攻击面，简化了审计和合规性，并有助于遏制恶意软件的传播。通过避免权限过高的账户和不必要的权限，组织可以显著降低与数据泄露、未经授权访问和权限升级攻击相关的风险，最终增强整体安全态势，并减少成为常见安全反模式的受害者的可能性。
- en: Continuously monitoring your orgs to evaluate Salesforce security recommendations
    and critical updates. Consider implementing Event Monitoring to track user activities,
    API usage, and other critical events. This helps in the early detection of potential
    security breaches or misuse.
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 持续监控你的组织，以评估 Salesforce 安全建议和关键更新。考虑实施事件监控，以跟踪用户活动、API 使用情况和其他关键事件。这有助于及早发现潜在的安全漏洞或滥用行为。
- en: We have now completed the discussion of the first anti-pattern in this chapter
    and will move on to another take on the general security problem, Compliant Is
    Secure.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经完成了本章第一个反模式的讨论，将进入另一个关于一般安全问题的讨论——“合规即安全”。
- en: Mistaking other things for security
  id: totrans-63
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 将其他事物误认为是安全
- en: Security is a complex and multi-faceted domain. This complexity can be so profound
    in many cases that there arises a strong temptation to simplify it to something
    more manageable. In this section, we will see two examples of how this can occur
    and what the negative consequences can be.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 安全是一个复杂且多维的领域。这种复杂性在许多情况下可能是如此深刻，以至于人们有强烈的诱惑将其简化为更易管理的形式。在本节中，我们将看到如何发生这种情况的两个例子，以及其可能带来的负面后果。
- en: Compliant Is Secure
  id: totrans-65
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 合规即安全
- en: '*Compliant Is Secure holds that security for an organization can be upheld
    by strict adherence to one or more specified* *compliance regimes.*'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: '*合规即安全* 认为，通过严格遵守一个或多个指定的*合规性框架*，组织的安全性可以得到保障。'
- en: Example
  id: totrans-67
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 示例
- en: Alexandra works as an architect for LifeCo, a major provider of medical devices
    for the continuous measurement of vital statistics. They sell devices across a
    number of global markets and as a consequence are subjected to a number of different
    regulatory regimes. It is fair to say that a big part of LifeCo’s culture is focused
    on meeting these regulatory requirements and maintaining compliance.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: Alexandra在LifeCo担任架构师，LifeCo是一家主要提供用于连续测量生命体征的医疗设备的公司。他们在多个全球市场销售设备，因此需要遵守多种不同的监管体系。可以公平地说，LifeCo文化的重要部分就是专注于满足这些监管要求并保持合规。
- en: When it comes to IT security, LifeCo has also adopted a compliance-centric approach
    combining the ISO 27001, HIPAA, and GxP protocols in a comprehensive set of checks
    and controls that are documented thoroughly at the beginning of each project and
    audited subsequently on a yearly basis. While there are processes to maintain
    compliance throughout the year, LifeCo focuses most of its attention on the initial
    documentation and audit events.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 在IT安全方面，LifeCo也采用了一种以合规性为中心的方法，将ISO 27001、HIPAA和GxP协议结合成一个全面的检查和控制集，这些内容会在每个项目开始时进行详细记录，并随后每年进行审计。虽然在一年中有维护合规性的流程，LifeCo将大部分注意力集中在初始文档和审计事件上。
- en: LifeCo has adopted Salesforce for field sales and care programs, using the Sales,
    Service, and Health Cloud components. As part of the implementation, Alexandra
    works closely with stakeholders across the business from IT, security, legal,
    and the data protection office.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: LifeCo采用Salesforce进行现场销售和护理程序，使用Sales、Service和Health Cloud组件。在实施过程中，Alexandra与来自IT、安全、法律和数据保护办公室的业务相关方密切合作。
- en: They perform a thorough evaluation of all the controls Salesforce has in place
    at both the platform level and the level of each individual cloud. They spend
    considerable time with Salesforce security representatives to understand the details
    of the security implementation, pushing hard to get real answers to sensitive
    questions.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 他们对Salesforce在平台层面以及每个单独云层面的所有控制措施进行了彻底评估。他们与Salesforce的安全代表花费了大量时间，深入了解安全实施的细节，努力获得关于敏感问题的真实答案。
- en: Additionally, they require comprehensive checklists and documentation from the
    implementation partner to ensure that all configuration work meets the necessary
    standards. This adds considerable overhead during both implementation and testing,
    but LifeCo is adamant that Salesforce meets the same standards that they apply
    to all internal systems.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，他们要求实施合作伙伴提供详细的检查表和文档，以确保所有配置工作符合必要的标准。这在实施和测试期间增加了相当大的开销，但LifeCo坚信Salesforce符合他们对所有内部系统所施加的相同标准。
- en: The system documentation is finally signed off as compliant after a long period
    of adjustment to meet the detailed requirements. Alexandra keeps working in the
    Salesforce space but mainly focuses on preparing requirements for new releases
    and updating technical standards unrelated to security.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 系统文档在经过长时间的调整以满足详细要求后，最终被签署为合规。Alexandra继续在Salesforce领域工作，但主要专注于为新版本准备需求并更新与安全无关的技术标准。
- en: Then, after nine months, the unthinkable happens. The CEO receives a phone call
    from a popular news site that asks what their response is to the fact that thousands
    of the company’s patients’ personal information has been dumped online on the
    dark web. There is no doubt that the data comes from LifeCo as it contains the
    company’s proprietary information about device usage.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，九个月后，难以想象的事情发生了。首席执行官接到一个来自流行新闻网站的电话，询问他们对公司成千上万名患者个人信息被泄露到暗网一事的回应。毫无疑问，这些数据来自LifeCo，因为其中包含了公司关于设备使用的专有信息。
- en: The CEO gives a rushed response, but the damage is done. LifeCo suffers a major
    blow to its reputation and is battered in mainline news, social media, and the
    stock market. Alexandra takes a leading role in the investigation and cleanup
    after the incident.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 首席执行官匆忙作出回应，但损害已经造成。LifeCo的声誉遭遇重大打击，成为主流新闻、社交媒体和股市的攻击目标。亚历山德拉在事件发生后担任调查和清理的主导角色。
- en: The investigation is not entirely conclusive, but there is good circumstantial
    evidence pointing toward a disgruntled employee exporting a report file with personal
    information and uploading it online. There isn’t enough evidence to bring any
    formal charges, however.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 调查结果并不完全定论，但有良好的间接证据指向一名心怀不满的员工导出了含有个人信息的报告文件并将其上传到网上。然而，现有证据不足以提起正式指控。
- en: The root cause analysis concludes that the incident occurred because a special
    procedure to give users reporting rights to patient data had been used to extend
    the privileges to a team of 50 people, many quite junior and relatively untrained
    in IT security or compliance. This had been done with the blessing of several
    senior managers to work around a number of management reporting issues in the
    system. By exporting and manually processing the data in Excel, the team was able
    to compensate for certain functional shortcomings in the Salesforce implementation.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 根本原因分析得出结论，事件发生是因为将一种特殊程序用于赋予用户患者数据报告权限，从而扩展了50人团队的权限，其中许多人相对较初级，且在IT安全或合规方面的训练较少。这一做法得到了几位高级经理的支持，用以绕过系统中的多个管理报告问题。通过导出并手动在Excel中处理数据，团队能够弥补Salesforce实施中的某些功能缺陷。
- en: The problem is remediated, and an investigation is carried out to find other
    similar cases where a process might have been used to circumvent good practice.
    At audit time, Salesforce passes the audit with no serious reservations. However,
    in Alexandra’s mind there still lingers a doubt that maybe they never really got
    to the bottom of the issue.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 问题已经得到修复，并进行了调查，以寻找其他类似的案例，看看是否有使用某种流程规避良好实践的情况。在审计时，Salesforce通过了审计，没有严重的保留意见。然而，亚历山德拉心中仍然存在一个疑问，或许他们并没有真正弄清楚问题的根源。
- en: Problem
  id: totrans-79
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 问题
- en: You might be tempted to think that the problem Compliant Is Secure seeks to
    resolve is the same as for Shared Belongs to Salesforce. That is to say, what
    the anti-pattern seeks to resolve is the general security problem of how to keep
    data and systems secure. That is, however, subtly wrong.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 你可能会倾向于认为“合规即安全”试图解决的问题与“共享属于Salesforce”相同。也就是说，这个反模式试图解决的是如何保持数据和系统安全的通用安全问题。然而，这种理解是微妙地错误的。
- en: While our last anti-pattern sought to solve security in general, Compliant Is
    Secure sidesteps the problem of actually being secure with the practices required
    to demonstrate to certain external parties that you are secure. That is to say,
    the documentation and checklists become the point rather than the actual security
    practices they are meant to encourage.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然我们上一条反模式试图解决的是一般性的安全问题，但“合规即安全”回避了真正的安全问题，转而关注的是如何通过所需的实践向某些外部方展示你是安全的。也就是说，文档和检查清单成为了焦点，而不是它们应当推动的实际安全实践。
- en: This is similar to Shared Belongs to Salesforce in that we aim to reduce the
    complex, wicked problem of actually staying secure with the much simpler problem
    of ticking all the right boxes. The strategy of reducing cognitive load by simplifying
    to a set of well-understood, repeatable processes, as we’ll see in the next section,
    is quite attractive to certain kinds of organizations.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 这与“共享属于Salesforce”类似，因为我们旨在将实际上保持安全的复杂、棘手问题，简化为勾选所有正确选项的简单问题。正如我们将在下一节看到的，通过将其简化为一组易于理解、可重复的流程来减少认知负担，这种策略对某些类型的组织具有很大吸引力。
- en: Proposed solution
  id: totrans-83
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 提议的解决方案
- en: Compliant Is Secure proposes to substitute and thereby resolve the problem of
    keeping systems and data secure with the simpler problem of staying compliant
    with a set of clearly defined standards. That way, you can move forward in confidence
    that you have followed good practices and, therefore, are as secure as you are
    likely to get.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: “合规即安全”提议用遵循一套明确定义的标准来代替并从而解决保持系统和数据安全的问题。这样，你可以放心前进，确信自己已经遵循了良好的实践，因此，自己是尽可能安全的。
- en: A good image to keep in mind for this anti-pattern is a checklist.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 对于这个反模式，脑海中可以想象一个检查清单的形象。
- en: Let’s be very clear, compliance is a great thing! Compliance with the standards
    that define good practice in your industry and in general is indeed crucial. This
    applies to information security, and it applies in general.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们非常明确，合规性是一件好事！遵守那些定义行业和一般良好实践的标准确实至关重要。这适用于信息安全，也适用于一般情况。
- en: Compliance with standards can be an extremely good way to encourage good practice
    within your organization and embed it within its culture. What makes this scenario
    an anti-pattern is that compliance becomes the end goal, whereas the end goal
    should in fact be the awareness and improvement in practice that the compliance
    exercise is meant to encourage.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 遵守标准确实是鼓励组织内良好实践并将其嵌入文化中的一种极好方式。使这一情境成为反模式的原因在于，合规性变成了最终目标，而最终目标应该是合规活动所旨在促进的实践意识和改进。
- en: 'Put in another way, for information security, you should aim to use compliance
    as a tool to become more secure and more security aware, not as a way to get security
    out of the way because you’ve ticked all the boxes. It is, however, not difficult
    to understand why it is attractive to organizations to focus principally on compliance:'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 换句话说，对于信息安全，你应该将合规性作为一种工具，旨在变得更安全、更具安全意识，而不是把它当作一个通过打勾所有框框就能摆脱安全问题的方式。然而，不难理解为什么组织会倾向于将重点放在合规性上：
- en: Compliance turns the fuzzy and wicked problem of information security into a
    manageable and governable one. Managers tend to like problems that are easy to
    understand and clearly measurable. Compliance is easy to understand; security
    is not.
  id: totrans-89
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 合规性将信息安全这一模糊而复杂的问题转化为一个可以管理和治理的问题。管理者通常喜欢那些容易理解和清晰可衡量的问题。合规性容易理解，而安全性则不是。
- en: The processes needed to establish and maintain compliance tend to fit well with
    existing processes and skills, especially in companies that operate in regulated
    industries such as life sciences or the defense sector.
  id: totrans-90
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为了建立和维持合规性所需的流程，往往与现有流程和技能相契合，特别是在那些运营于受监管行业的公司，如生命科学或国防部门。
- en: When things go wrong, you have clear and unambiguous documentation that you
    have followed the rules. That helps both in terms of explaining incidents externally
    and protecting relevant stakeholders internally.
  id: totrans-91
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当事情出错时，你有明确且不含糊的文档证明你已经遵循了规则。这对于外部解释事件和保护相关利益相关者都有帮助。
- en: You have to stay compliant anyway. For most large organizations, a certain level
    of compliance is mandatory and embedded in law or industry standards. Given that
    you have to be compliant, there is a clear temptation to make that the end goal.
  id: totrans-92
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 反正你必须保持合规。对于大多数大型组织，某种程度的合规性是强制性的，并且已经嵌入法律或行业标准中。既然你必须合规，那么将其作为最终目标的诱惑显而易见。
- en: The results you get from falling into this anti-pattern, however, are frequently
    problematic, as we’ll discuss in the next section.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，从这种反模式中得到的结果往往是有问题的，正如我们将在下一部分讨论的那样。
- en: Results
  id: totrans-94
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 结果
- en: What you achieve with the Compliant Is Secure anti-pattern is, generally speaking,
    point-in-time compliance with a standard. You will be compliant at each audit
    point, and in between, people will follow the necessary processes that are required
    of them.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 一般来说，通过“合规即安全”的反模式，你获得的是与某一标准的时点合规。你将在每次审计时保持合规，在审计之间，人们将遵循他们必须遵守的必要流程。
- en: However, you have not instituted any deeper sense of the importance of security
    within the organization or given people the training and tools to engage meaningfully
    with it. That means that you will often find many workarounds like the one described
    in our example, where people do something that is technically compliant but completely
    circumvents the spirit of security that inspired the rules of the compliance standard.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，你并没有在组织内建立起更深层次的安全重要性意识，也没有为人们提供进行有意义安全操作的培训和工具。这意味着你常常会发现许多解决方法，比如我们例子中描述的情况，人们做出某些在技术上合规的行为，却完全绕过了激发合规标准规则的安全精神。
- en: 'You often see two patterns emerge in compliance-centric organizations:'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 在以合规为中心的组织中，你常常会看到两种模式出现：
- en: '**Drift and remediation** : In this pattern, you have ongoing drift away from
    the standards that have been implemented, because people see compliance as a point-in-time
    exercise. This is corrected periodically to bring the organization back into compliance
    for an audit.'
  id: totrans-98
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**漂移与修正**：在这种模式下，标准实施后，你会看到组织逐渐偏离标准，因为人们将合规性视为一个时点的活动。这会定期进行修正，以使组织在审计时重新回到合规状态。'
- en: '**Structured circumvention** : In this pattern, you continuously follow the
    rules, but you have included within your compliance system certain ways of granting
    exceptions, which get exploited systematically to make the lives of workers within
    the organization easier in one way or another. This is the pattern we saw in the
    preceding example.'
  id: totrans-99
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**结构化规避**：在这种模式中，你持续遵循规则，但在你的合规系统中包含了一些授予例外的方式，这些方式被系统性地利用，以在某种程度上使组织内的工作人员的工作变得更加轻松。这就是我们在前面例子中看到的模式。'
- en: Fundamentally, with the Compliant Is Secure anti-pattern, your organization
    is missing the “why” of security. They are doing certain things to check the boxes,
    but do not engage with them beyond that exercise. That points toward the key interventions
    that will help with this pattern, which we’ll discuss next.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 从根本上讲，使用“合规即安全”反模式时，贵组织缺失了安全的“为什么”。他们做某些事情只是为了勾选合规框，但在那之后并没有进一步参与。这指向了帮助解决这个问题的关键干预措施，我们将在接下来的内容中讨论。
- en: Better solutions
  id: totrans-101
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 更好的解决方案
- en: There is a famous book by business author Simon Sinek called *Start with Why*
    . In it, Sinek posits that the most successful organizations, Apple being the
    canonical example, do not start with what products they are selling, or how they
    make them, but with a fundamental purpose expressed in an answer to why the company
    exists in the first place.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 商业作家西蒙·西内克有一本著名的书叫做*从“为什么”开始*。在书中，西内克认为，最成功的组织（以苹果公司为典型例子）并不是从他们销售什么产品或如何生产它们开始，而是从一个基本的目的开始，这个目的体现在对公司为何存在的回答中。
- en: While I won’t make any comments on the merits of this position relative to business
    in general, when it comes to information security, it is entirely correct. The
    reason why Compliant Is Secure is an anti-pattern is that it neglects the underlying
    “why” of information security.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然我不会对这个立场相对于商业的普遍性发表评论，但就信息安全而言，这个立场完全正确。“合规即安全”是一个反模式，因为它忽视了信息安全的根本“为什么”。
- en: The cure to this problem is, of course, to start from the answer to why keeping
    information secure not only is essential to avoid threats but actually enables
    the organization to remain resilient and grow in a safe manner. Then, you can
    move on to the how and what of compliance regimes and specific controls.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 解决这个问题的办法，当然是从回答“为什么保持信息安全不仅仅是为了避免威胁，而且实际上使组织能够保持韧性并以安全的方式成长”开始。然后，你可以继续处理合规制度和具体控制的“如何”和“什么”。
- en: 'That is a big task for most Salesforce professionals to take on. Helpfully,
    there are smaller, more practical things we can also do to help:'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 对大多数Salesforce专业人员来说，这是一个庞大的任务。幸运的是，我们也可以做一些更小、更实用的事情来帮助：
- en: Continuously make other stakeholders aware that ticking the boxes does not mean
    the organization will remain secure.
  id: totrans-106
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 持续让其他利益相关者意识到，勾选合规框并不意味着组织将保持安全。
- en: Train people in Salesforce security and the threats that can occur despite compliance.
  id: totrans-107
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 培训人员了解Salesforce安全以及尽管合规，仍然可能发生的威胁。
- en: Find champions to take on security awareness on an ongoing basis.
  id: totrans-108
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 找到“倡导者”来持续关注安全意识。
- en: Advocate for ongoing monitoring of the Salesforce org on the security level
    by these trained and motivated people.
  id: totrans-109
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 倡导这些经过培训和激励的人员持续对Salesforce组织的安全进行监控。
- en: On the technical level, regularly use Salesforce’s Security Health Check or
    third-party tools to identify and address potential vulnerabilities in your org’s
    security settings. Consider using Salesforce’s Privacy Center to manage consent,
    track data subject requests, and maintain compliance with privacy regulations
    such as GDPR and CCPA. Tool support can sometimes help keep people engaged in
    ongoing activities.
  id: totrans-110
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在技术层面，定期使用Salesforce的安全健康检查或第三方工具来识别并解决你组织安全设置中的潜在漏洞。考虑使用Salesforce的隐私中心来管理同意、跟踪数据主体请求，并保持对隐私法规（如GDPR和CCPA）的合规性。工具支持有时有助于让人们持续参与活动。
- en: Spread knowledge and awareness throughout the organization by regularly bringing
    up the topic at meetings and dedicated sessions.
  id: totrans-111
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过定期在会议和专门的讨论中提出这个话题，在组织内传播知识和意识。
- en: Of course, also remember that compliance is important, and you should do your
    part to stay compliant. For instance, Salesforce’s compliance with ISO 27001 for
    information security and 27701 for privacy management demonstrates their commitment
    to data protection, but organizations must still ensure their own processes align
    with these standards. Having now considered a very general security anti-pattern,
    we will once again zoom in on a specific Salesforce security anti-pattern, Declarative
    Is Always Safe.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，还需要记住合规性很重要，您应该尽自己的一份责任保持合规。例如，Salesforce 在信息安全方面符合 ISO 27001 标准，在隐私管理方面符合
    ISO 27701 标准，展示了他们对数据保护的承诺，但组织仍然必须确保自身流程与这些标准保持一致。在考虑过一个非常通用的安全反模式之后，我们将再次聚焦于
    Salesforce 安全的一个具体反模式——“声明式功能始终安全”。
- en: Declarative Is Always Safe
  id: totrans-113
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 声明式功能始终是安全的
- en: '*Falling into the Declarative Is* *Always Safe anti-pattern implies having
    an over-optimistic attitude toward the security of declarative* *customization
    features.*'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: '*陷入“声明式功能始终安全”的反模式意味着对声明式* *自定义功能的安全性抱有过于乐观的态度。*'
- en: Example
  id: totrans-115
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 示例
- en: Rakesh is the technical lead for Salesforce at BigCo. BigCo is a long-term user
    of Salesforce with a big footprint across half a dozen different clouds. They
    expanded usage massively during the COVID pandemic to facilitate a number of processes
    being carried out remotely.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: Rakesh 是 BigCo 公司 Salesforce 的技术负责人。BigCo 是 Salesforce 的长期用户，在多个不同云平台上有着广泛的应用。他们在
    COVID 大流行期间大幅扩展了使用规模，以便推动许多远程进行的工作流程。
- en: Rakesh and his team worked with several smaller partners on the creation of
    these processes. Because of the time pressure involved, they built the processes
    using a combination of out-of-the-box features and flows, leaving out any complex
    requirements for a later time. The flow-based approach was recommended by the
    architects from both a speed of development and a security perspective.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: Rakesh 和他的团队与几个较小的合作伙伴一起开发了这些流程。由于时间压力，他们在构建流程时结合了开箱即用的功能和流程，暂时没有考虑复杂的需求，打算以后再处理。从开发速度和安全角度来看，架构师们建议采用基于流程的方法。
- en: With the cooperation of the business, this approach proved adequate as a stopgap
    measure and BigCo managed the transition to remote work relatively seamlessly,
    partly due to this work. After the initial release, Rakesh and the team kept working
    on improving and elaborating the new flows, and some have evolved into complex,
    multi-faceted business applications with powerful features to support the business.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 在业务的合作下，这种方法作为一种权宜之计证明是足够的，BigCo 相对顺利地实现了远程工作的过渡，部分得益于这项工作。在初始发布之后，Rakesh 和团队继续致力于改进和细化这些新流程，其中一些已经发展成复杂的、多方面的业务应用，拥有强大的功能来支持业务发展。
- en: This includes the ability to carry out mass updates, creations, and deletions;
    to call other systems via APIs; and even to grant new security features to employees
    when they take on new roles or responsibilities in the business. There are also
    administrative flows that superusers can use to manage the backend functions.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 这包括执行大规模更新、创建和删除的能力；通过 API 调用其他系统的功能；甚至在员工承担新角色或职责时，授予他们新的安全权限。还有一些管理流程，超级用户可以用来管理后台功能。
- en: Functionally, this works well for the business, but on several occasions, mistakes
    by users lead to accidental record deletion. When a particularly unlucky superuser
    accidentally deletes a large number of opportunities using an administrative flow,
    the CTO decides to have a partner review the flows as they’re worried about any
    potential wider issues.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 从功能上来看，这对业务运作非常有效，但用户的多次失误导致了记录的意外删除。当一位特别不幸的超级用户在使用管理流程时不小心删除了大量机会后，CTO决定让合作伙伴审查这些流程，因为他们担心可能会存在更广泛的问题。
- en: The partner does a review of the flows and comes back with a long list of unsafe
    practices used in the flows. In particular, the flows give system administrator-level
    access to a very large number of users who do not have the requisite training
    to use them. That presents not only an issue of accidental deletion, as has already
    happened, but also a real security issue. That includes threats from both malicious
    employees and external threat agents as some of the flows are theoretically triggerable
    via API updates.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 合作伙伴对这些流程进行了审查，并反馈了一份列有不安全操作的清单。特别是，流程赋予了大量用户系统管理员级别的访问权限，而这些用户并没有接受过足够的培训来正确使用它们。这不仅带来了已经发生的意外删除问题，还存在真正的安全隐患。包括来自恶意员工和外部威胁的风险，因为部分流程理论上可以通过
    API 更新触发。
- en: The harm from the incident is easily remedied as BigCo has an advanced backup
    solution in place, but the remediation of the flows takes much longer. For all
    future development, Rakesh works with the external partner to create a clear set
    of security guidelines to be followed when creating flows.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 由于BigCo拥有先进的备份解决方案，事件带来的损害很容易得到修复，但流程的修复则需要更长的时间。为了未来的所有开发，Rakesh与外部合作伙伴共同制定了一套明确的安全指南，在创建流程时必须遵守这些指南。
- en: Problem
  id: totrans-123
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 问题
- en: The problem that Declarative Is Always Safe seeks to solve is that of secure
    development or customization. That is to say, how do we keep our code and customizations
    from creating vulnerabilities that can be exploited to get at our data and systems?
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 声明式始终安全试图解决的问题是安全开发或定制。换句话说，我们如何避免我们的代码和定制造成漏洞，进而被利用获取我们的数据和系统？
- en: It isn’t surprising that there is a tendency to consider low-code or no-code
    approaches as a cure for security headaches. Many classic and well-advertised
    vulnerabilities have been down to obscure coding errors, so avoiding code seems
    like a good idea if you want to be more secure.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 不足为奇的是，许多人倾向于认为低代码或无代码方法能解决安全问题。许多经典且广为宣传的漏洞都源自模糊的编码错误，因此如果你想要更安全，避免使用代码似乎是个好主意。
- en: Of course, low-code/no-code approaches are a relatively recent phenomenon, so
    whether this will hold good in practice is still up in the air to some extent.
    The reasoning is generally sound, however, as vendors such as Salesforce will
    spend much more time securing the low-code components they make available than
    you can spend on your own code.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，低代码/无代码方法是一种相对较新的现象，因此它在实践中是否真的有效，仍然存在一些不确定性。然而，这种推理一般是合理的，因为像Salesforce这样的供应商会花费更多的时间来确保他们提供的低代码组件的安全性，而你可能无法在自己的代码上投入相同的精力。
- en: However, as we will see when we cover the details of the proposed solution next,
    this reasoning is not airtight.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，正如我们接下来将详细讨论的提议解决方案所示，这种推理并不是完全可靠的。
- en: Proposed solution
  id: totrans-128
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 提议的解决方案
- en: The proposed solution to the problem of secure development and configuration
    that Declarative Is Always Safe proposes is to circumvent the problem by only
    using declarative features, for example, custom objects, page layouts, flows,
    and even Omnistudio, which are assumed to be secure by default. That way, we do
    not have to spend much time thinking about security and we can get our features
    created quicker.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 针对声明式始终安全提出的安全开发和配置问题的解决方案是通过只使用声明式功能来绕过问题，例如，假定默认安全的自定义对象、页面布局、流程，甚至Omnistudio。这样，我们就不需要花费太多时间考虑安全问题，可以更快速地创建功能。
- en: 'This is clearly an attractive proposition to many different stakeholders, for
    the following reasons:'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 这对于许多不同的利益相关者来说显然是一个有吸引力的提议，原因如下：
- en: It is partially true. Low-code approaches are less likely than code-based ones
    to contain security gaps
  id: totrans-131
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 这在某种程度上是正确的。低代码方法比基于代码的方法更不容易包含安全漏洞。
- en: It simplifies development and configuration by putting clear bounds around the
    art of the possible
  id: totrans-132
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它通过明确界定可能性范围，简化了开发和配置。
- en: It provides the technical team with a good way to push back on business requirements
    that are too complex
  id: totrans-133
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它为技术团队提供了一种有效的方式，以应对过于复杂的业务需求。
- en: It speeds up the delivery of features by leveraging pre-built functionality
    that can be adapted to your particular business needs
  id: totrans-134
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它通过利用可以根据特定业务需求进行调整的预构建功能，加快了功能交付的速度。
- en: A focus on declarative features, then, brings many benefits with it and is usually
    considered a good practice within the Salesforce community. However, what can
    make this focus – if taken too far – a security anti-pattern is the blindness
    to the very real threats that can be present, even in declarative solutions.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，专注于声明式功能带来了许多好处，并且通常被认为是Salesforce社区中的一种良好实践。然而，过度强调这一点，可能会使其成为一种安全反模式，因为它忽视了即使在声明式解决方案中也可能存在的真正安全威胁。
- en: Results
  id: totrans-136
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 结果
- en: The key negative result of the Declarative Is Always Safe anti-pattern, then,
    is blindness to security threats that may be present in your solution and a lack
    of awareness that such threats might even be there. This can lead to serious negative
    consequences, as in our example. The problem, however, is only getting worse day
    by day as Salesforce brings out new declarative features.
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，声明式始终安全这一反模式的关键负面结果是对解决方案中可能存在的安全威胁视而不见，甚至没有意识到这些威胁的存在。这可能导致严重的负面后果，正如我们的示例所示。然而，随着Salesforce推出新的声明式功能，这个问题只会日益加剧。
- en: It is clear from the way features are being released on the Salesforce platform,
    that Salesforce wants low-code tools such as flows and Omnistudio to be the go-to
    solutioning toolkits for customization on the platform. However, the more powerful
    these tools become, the more likely you are to be able to do something that will
    result in a security issue.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 从Salesforce平台发布功能的方式来看，Salesforce希望低代码工具，如流程和Omnistudio，成为平台上定制化解决方案的首选工具包。然而，这些工具越强大，越有可能执行一些可能导致安全问题的操作。
- en: Equally, External Services, while declarative, can introduce security risks
    if not properly configured, especially when dealing with external endpoints and
    data. This also applies to the increasingly prominent AI solutions. For instance,
    when using Einstein Prediction Builder, you need to ensure that sensitive fields
    are not inadvertently included in prediction models and that model access is appropriately
    restricted. Custom metadata types, while declarative, can store sensitive configuration
    data and should be secured with appropriate access controls.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 同样，外部服务虽然是声明式的，但如果配置不当，尤其是在处理外部端点和数据时，可能会引入安全风险。这也适用于日益突出的 AI 解决方案。例如，使用爱因斯坦预测构建器时，您需要确保敏感字段不会被无意地包含在预测模型中，并且模型访问应适当限制。自定义元数据类型虽然是声明式的，但可以存储敏感的配置数据，应通过适当的访问控制来保护。
- en: 'Flows are, however, the biggest potential risk area. Let us, therefore, consider
    some security problems that can happen with flows:'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，流程是最大的潜在风险领域。因此，让我们考虑一些可能在流程中发生的安全问题：
- en: General permissions such as Run Flows or the Flow User license can give a very
    large number of users permissions to run all flows in the org, leading to issues
    such as those in our example.
  id: totrans-141
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一般权限，如运行流程或流程用户许可，可能会赋予大量用户运行组织中所有流程的权限，从而导致类似我们示例中的问题。
- en: If users have access to the All_Flows list view, they can then run any flow
    in the org from the UI. This includes external users.
  id: totrans-142
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果用户可以访问 All_Flows 列表视图，他们就可以从 UI 运行组织中的任何流程。这包括外部用户。
- en: Flow execution contexts are complex to understand, and it is easy to end up
    running a flow in system mode by mistake, leading to a potential escalation of
    user rights.
  id: totrans-143
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 流程执行上下文很复杂，容易因错误而将流程运行在系统模式下，从而可能导致用户权限的提升。
- en: Client-side validation in flows can accidentally leak information in some cases
    by including data in the response.
  id: totrans-144
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 流程中的客户端验证在某些情况下可能会通过将数据包含在响应中，意外泄露信息。
- en: Component visibility can leak information as the component is still included
    in the HTTP response.
  id: totrans-145
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 组件可见性可能泄露信息，因为该组件仍然包含在 HTTP 响应中。
- en: Apex actions with wide-ranging effects may be called from flows without a clear
    understanding of the security implications.
  id: totrans-146
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 可能会从流程中调用具有广泛影响的 Apex 操作，而没有清晰了解其安全性影响。
- en: When using screen flows in Experience Cloud sites, ensure proper access controls
    are in place to prevent unauthorized access to sensitive data or operations.
  id: totrans-147
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在体验云站点中使用屏幕流时，确保实施适当的访问控制，以防止未经授权的访问敏感数据或操作。
- en: I recommend the article *Understanding Salesforce Flows and Common Security
    Risks* , available at [https://appomni.com/resources/aolabs/understanding-salesforce-flows-and-common-security-risks/](https://appomni.com/resources/aolabs/understanding-salesforce-flows-and-common-security-risks/)
    , as a good introduction to some common flow issues.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 我推荐阅读文章 *了解Salesforce流程和常见安全风险*，可以在[https://appomni.com/resources/aolabs/understanding-salesforce-flows-and-common-security-risks/](https://appomni.com/resources/aolabs/understanding-salesforce-flows-and-common-security-risks/)找到，这篇文章是了解一些常见流程问题的良好入门。
- en: However, the wider point is that there are real security issues that happen
    with flows, Omnistudio, and even with simpler declarative features. New flow features,
    such as Flow Orchestration, introduce additional complexity and potential security
    risks if not properly configured. Therefore, we cannot rely on them to be safe
    by default but have to take due precautions, which we’ll discuss in our next section.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，关键问题在于，流程、Omnistudio，甚至更简单的声明式功能，确实存在一些实际的安全问题。新的流程功能，如流程编排，如果配置不当，可能会增加额外的复杂性和潜在的安全风险。因此，我们不能默认它们是安全的，而必须采取适当的预防措施，这将在下一节中讨论。
- en: Better solutions
  id: totrans-150
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 更好的解决方案
- en: The first and most important piece of advice for avoiding this anti-pattern
    is to treat your declarative solutions every bit as seriously as you would your
    code-based ones. Tools such as flows and Omnistudio are increasingly as powerful
    as Apex and solve complex business requirements.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 避免这一反模式的第一条也是最重要的建议是：像对待基于代码的解决方案一样，认真对待你的声明式解决方案。像流程和 Omnistudio 这样的工具越来越强大，已与
    Apex 一样，能够解决复杂的业务需求。
- en: 'That means that for solutions based on these tools, you should follow a software
    development process that is fit for purpose in relation to the complexity and
    importance of the solution in question. Specifically, when it comes to security,
    you should keep the following things in mind:'
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 这意味着，对于基于这些工具的解决方案，你应当遵循适合目的的软件开发流程，以符合解决方案的复杂性和重要性。具体来说，涉及安全性时，你应牢记以下几点：
- en: Standards and guidelines for declarative solutions should be in place as they
    would be if you were writing code
  id: totrans-153
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 应该为声明式解决方案制定标准和指南，就像你在编写代码时会制定一样
- en: Make risk and threat assessments upfront for declarative solutions that deal
    with sensitive data or deploy a lot of power
  id: totrans-154
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在处理敏感数据或部署大量功能的声明式解决方案时，提前进行风险和威胁评估
- en: Train developers and configurators to understand the issues and create general
    awareness about what relying on declarative tools does and does not accomplish
  id: totrans-155
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 培训开发人员和配置人员理解相关问题，并提高他们对依赖声明式工具所能实现和无法实现的目标的普遍认知
- en: Keep an eye on the long-term trend toward declarative tools and update your
    guidelines as needed
  id: totrans-156
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 关注声明式工具的长期发展趋势，并根据需要更新你的指南
- en: Monitor the external environment for issues or exploits related to declarative
    functionality on Salesforce
  id: totrans-157
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 监控外部环境，关注与 Salesforce 中声明式功能相关的问题或漏洞
- en: With that said, we will finish our discussion of security-related anti-patterns
    by taking a look at how you can really muck up your sharing model in Salesforce.
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 话虽如此，我们将通过查看如何真正搞砸 Salesforce 中的共享模型，来结束我们关于安全相关反模式的讨论。
- en: Sharing isn’t always caring
  id: totrans-159
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 共享并不总是代表关怀
- en: Salesforce has one of the most powerful and complicated sharing architectures
    known to man. This is both a blessing and a curse. In this section, however, we
    will focus on showing how it can go wrong and what to do to prevent it.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: Salesforce 拥有世界上最强大且最复杂的共享架构之一。这既是福也是祸。然而，在本节中，我们将重点展示它如何出错以及如何防止这种情况发生。
- en: Spaghetti Sharing Model
  id: totrans-161
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 意大利面共享模型
- en: '*Spaghetti Sharing Model does to the security of a Salesforce org what spaghetti
    code does to the maintainability of* *an application.*'
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: '*意大利面共享模型对 Salesforce 组织的安全性，就如同意大利面代码对应用程序可维护性所做的影响一样。*'
- en: Example
  id: totrans-163
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 示例
- en: GlobalCo is a conglomerate with numerous different business lines selling products
    across a number of B2B verticals. Most of GlobalCo’s organization is run within
    the business units, but IT has become a strong global function, as it has made
    it possible to collaborate effectively across business units using simple tools
    such as Slack for collaboration.
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: GlobalCo 是一家跨多个 B2B 行业销售产品的多元化企业。GlobalCo 大部分组织运行在各业务单元内，但 IT 已成为强大的全球职能部门，它使得各业务单元之间能够通过
    Slack 等简单工具高效协作。
- en: A few years back, GlobalCo adopted Salesforce Sales Cloud and Service Cloud
    as their corporate CRM. Huan was the lead architect on that project and now sits
    in the global Salesforce Center of Excellence. While some subsidiaries still use
    other CRMs operationally, all basic data about customer transactions must make
    its way to Salesforce. To encourage the standardization of processes and data,
    GlobalCo adopted a strong single-org strategy for its Salesforce environment.
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 几年前，GlobalCo 采用了 Salesforce Sales Cloud 和 Service Cloud 作为其企业 CRM。Huan 是该项目的首席架构师，现在在全球
    Salesforce 卓越中心担任职务。尽管一些子公司在操作上仍然使用其他 CRM，但所有关于客户交易的基本数据都必须传输到 Salesforce。为了促进流程和数据的标准化，GlobalCo
    采用了强有力的单组织战略来管理其 Salesforce 环境。
- en: 'Unfortunately, while GlobalCo would like to be able to share as much data as
    possible globally, a number of regulations prevent them from going as far as they
    would like. There are a number of problems:'
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 不幸的是，尽管 GlobalCo 希望能够全球共享尽可能多的数据，但许多法规阻止他们实现理想的共享范围。存在一些问题：
- en: Some countries require their data to be isolated from others, creating country
    data silos
  id: totrans-167
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一些国家要求将其数据与其他国家的数据隔离，形成国家数据孤岛
- en: Competition law in a variety of jurisdictions also prevents some subsidiaries
    from sharing data with specific other subsidiaries to prevent collusion
  id: totrans-168
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 许多司法管辖区的竞争法也阻止某些子公司与特定其他子公司共享数据，以防止串通。
- en: Salespeople in some jurisdictions are somewhat paranoid about who can see their
    opportunities for fear of someone else stealing them, leading to a number of extra
    protections being put in place
  id: totrans-169
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在某些司法管辖区，销售人员对谁可以查看他们的机会感到有些偏执，担心其他人会窃取这些机会，因此采取了很多额外的保护措施。
- en: Finally, executives in certain business units are used to keeping sensitive
    opportunities and customer support cases secret and only sharing among a select
    few, which has also been at least partially accommodated
  id: totrans-170
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 最终，某些业务单元的高管习惯于将敏感的机会和客户支持案例保密，并只在少数人之间共享，这一要求也至少部分得到满足。
- en: After go-live, there have been a lot of complaints that the structure GlobalCo
    put in place to meet these requirements was excessively rigid. There is a call
    for a number of exceptions from at least half a dozen countries.
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 在上线后，很多人抱怨GlobalCo为满足这些需求而设立的结构过于僵化。至少有六个国家要求进行一系列例外处理。
- en: '![img](img/B30991_03_2.jpg)'
  id: totrans-172
  prefs: []
  type: TYPE_IMG
  zh: '![img](img/B30991_03_2.jpg)'
- en: Figure 3.2 – Sharing mechanisms
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 图3.2 – 共享机制
- en: Huan leads the team to investigate the requirements. Initially, he thinks the
    problem is solvable by making minor adjustments to the organizational hierarchy
    and enterprise territory management. This, however, proves too simplistic and
    so he devises a number of additional public groups to capture more refinements
    to the model.
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: Huan带领团队调查需求。最初，他认为通过对组织层级和企业区域管理进行小的调整可以解决问题。然而，这种方法过于简单，因此他设计了多个额外的公共组，以便捕捉到更多模型的细化调整。
- en: Users, however, are still complaining, so Huan gets creative with the use of
    Account and Opportunity teams. However, because the process needed would be too
    onerous to manage manually, the team ends up implementing a number of automations
    to automatically add team members to Account and Opportunity teams based on certain
    criteria.
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，用户仍然在抱怨，于是Huan开始发挥创造力，利用账户和机会团队。由于所需的流程过于繁琐，无法手动管理，团队最终实施了一些自动化功能，根据特定标准自动将团队成员添加到账户和机会团队中。
- en: Even that, however, turns out to not be able to capture the full extent of the
    business requirements for when certain records should and shouldn’t be shared
    between specified business units and countries. Huan specifies an Apex-based sharing
    mechanism and gives it to the development team to implement.
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，即便如此，这种方式仍然无法完全捕捉到何时应共享和不应共享特定记录的业务需求，尤其是在指定的业务单元和国家之间。Huan指定了一种基于Apex的共享机制，并将其交给开发团队实施。
- en: The complete adjustment to the sharing model goes live, globally, over a weekend.
    Smoke testing is fine, but everyone is holding their breath as the testing of
    the model is difficult and no one has been able to definitively say that all the
    important scenarios have been tested.
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 共享模型的完整调整在一个周末内全球上线。烟雾测试通过，但每个人都屏息以待，因为模型的测试非常困难，没有人能明确表示所有重要场景都已被测试。
- en: While there is no disaster, a steady trickle of access issues makes its way
    to the team over the week following go-live. There are a lot of cases, where either
    someone has access who shouldn’t have or someone lacks access they should have.
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管没有发生灾难，但在上线后的一个星期内，团队还是收到了持续不断的访问问题。很多情况下，要么某些人拥有不该有的访问权限，要么某些人缺少应该有的访问权限。
- en: What’s much worse, however, is that the team is finding it nearly impossible
    to pinpoint the errors. There are just so many moving parts that figuring out
    what goes wrong in specific cases becomes too complex. Every time the team thinks
    they’ve fixes one issue, it seems another two appear as a consequence.
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 更糟糕的是，团队发现几乎无法定位错误。由于涉及的因素太多，确定具体案例中的错误变得非常复杂。每次团队认为解决了一个问题，似乎又会有两个新问题作为后果出现。
- en: After several frustrating weeks of trying to resolve the problem, the change
    management board makes a decision to roll back the changes to the sharing model
    and find a set of manual workarounds until a more stable technical solution can
    be found.
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 在几周的尝试解决问题的过程中，变更管理委员会决定回滚共享模型的更改，并找到一套手动的替代方案，直到找到更稳定的技术解决方案。
- en: Problem
  id: totrans-181
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 问题
- en: In classical software applications, there is a well-known concept called **spaghetti
    code** . It happens when programmers work without design practices or the necessary
    experience to implement a system. Instead, they just do one thing at a time in
    a way that works for now with no thought for the larger picture.
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 在传统的软件应用中，有一个著名的概念叫做**意大利面条代码**。它发生在程序员在没有设计实践或必要经验的情况下编写系统时。相反，他们一次做一件事，只是当前能用的做法，而没有考虑整体框架。
- en: Over time, this leads to code that resembles a portion of spaghetti on a plate.
    Everything is tangled up with everything else, changes to one part of the system
    impact other parts in seemingly random ways, and even the original writers of
    the code don’t really understand what is going on.
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 随着时间的推移，这会导致代码看起来像盘子里的意大利面条。一切都纠缠在一起，系统的某一部分发生变化会以看似随机的方式影响其他部分，即使是代码的原作者也无法真正理解发生了什么。
- en: Luckily, on Salesforce, we rarely see spaghetti code to this extent. It can
    occur, but in my experience, it is quite rare. What does occur frequently is the
    Spaghetti Sharing Model anti-pattern. That is, sharing models are so complicated
    that even their designers can’t reliably tell in a specific case why someone has
    or hasn’t got access to a given record.
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 幸运的是，在Salesforce上，我们很少看到如此程度的意大利面条代码。它是可能发生的，但根据我的经验，它是相当罕见的。频繁发生的是“意大利面条共享模型”反模式。也就是说，共享模型复杂到即使是其设计者也无法可靠地告诉你在特定情况下某人是否能够访问某条记录。
- en: The Spaghetti Sharing Model anti-pattern arises from an honest attempt to give
    the business what it wants in terms of record sharing. The problem is that for
    large, global organizations, the level of complexity experienced in this area
    is so large that it is nearly impossible to get right.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: “意大利面条共享模型”反模式源于真诚地尝试按照记录共享的需求满足业务需求。问题在于，对于大型的全球性组织而言，这一领域的复杂度如此之大，以至于几乎不可能做到完全正确。
- en: 'In our example, we saw some of the reasons why:'
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们的例子中，我们看到了一些原因：
- en: Privacy laws differ between countries and determine what can and cannot be shared
  id: totrans-187
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 隐私法律在不同国家之间有所不同，决定了哪些数据可以共享，哪些不能共享
- en: Competition law can restrict visibility between subsidiaries
  id: totrans-188
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 竞争法可能会限制子公司之间的可见性
- en: Concerns about bonuses and commissions are extremely important to sales teams
    and can lead to serious concerns about data sharing
  id: totrans-189
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 销售团队对奖金和佣金的关注极为重要，这可能导致关于数据共享的严重顾虑
- en: Executives often want to keep certain data a secret for a variety of business
    reasons, while sharing other data that is less sensitive of the same type
  id: totrans-190
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 高层管理人员通常因各种商业原因希望保密某些数据，同时共享其他类型的、不太敏感的数据
- en: There are more scenarios than this concerning, for instance, the protection
    of sensitive health or financial data according to certain laws and standards
    or internal political factors within the organization that may impact sharing
    requirements.
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 除了这一场景外，还有更多与特定法律和标准或组织内部政治因素有关的场景，例如保护敏感的健康或财务数据，可能会影响数据共享要求。
- en: Overall, if you find yourself in an organization with this kind of requirements
    setup for data sharing, you are in danger of ending up in the Spaghetti Sharing
    Model anti-pattern, simply by trying to accommodate the requirements you are given.
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 总体来说，如果你发现自己身处一个具有这种数据共享需求设置的组织中，你很可能会陷入“意大利面条共享模型”的反模式，单纯为了适应给定的需求而陷入其中。
- en: Proposed solution
  id: totrans-193
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 提出的解决方案
- en: The Spaghetti Sharing Model anti-pattern suggests that you address sharing requirements
    in an incremental, iterative way, seeking as closely as possible to meet the business
    needs.
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: “意大利面条共享模型”反模式建议以增量和迭代的方式解决共享需求，尽可能接近地满足业务需求。
- en: 'This seems eminently sensible because of the following:'
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 这看起来十分合理，原因如下：
- en: It is exactly what we would do for most other types of requirements
  id: totrans-196
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 这正是我们为大多数其他类型的需求所做的事情
- en: It fits with the dominant agile approaches to software development that are
    used by most Salesforce implementation teams
  id: totrans-197
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 这与大多数Salesforce实施团队所采用的主流敏捷软件开发方法相符
- en: You can nearly always achieve your goal in the short term
  id: totrans-198
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你几乎总能在短期内实现目标
- en: It takes a long time before the complexity reaches a level to make the process
    go off the rails
  id: totrans-199
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 需要很长时间，复杂度才会达到使过程偏离轨道的程度
- en: Unfortunately, this process can break down in organizations of a certain size
    and complexity and results in the anti-pattern we are discussing, as we’ll see
    in the next section.
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 不幸的是，这一过程在某些规模和复杂度的组织中可能会崩溃，并导致我们正在讨论的反模式，正如我们在下一节中所看到的那样。
- en: Results
  id: totrans-201
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 结果
- en: 'The results of the Spaghetti Sharing Model anti-pattern are a situation where
    some or more of the following characteristics are present:'
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: “意大利面共享模型”反模式的结果是，某些或更多以下特征的情况出现：
- en: Records are shared with some users without anyone fully understanding why
  id: totrans-203
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 记录与某些用户共享，但没有人完全理解原因
- en: Record access is missing from some users without anyone fully understanding
    why
  id: totrans-204
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 记录访问缺失，某些用户无法完全理解原因
- en: Pinpointing access issues is extremely difficult
  id: totrans-205
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 确定访问问题非常困难
- en: Making changes to the sharing model is considered entirely off-limits due to
    complexity
  id: totrans-206
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 由于复杂性，修改共享模型被认为是完全禁止的
- en: Changes to sharing often lead to new issues that are difficult to understand
    and fix
  id: totrans-207
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 共享的变化往往会导致新的问题，这些问题难以理解和解决
- en: It is worth reflecting on why sharing is more prone to the Spaghetti Sharing
    Model anti-pattern than other configuration areas. The answer lies mostly in the
    vast number of mechanisms that are available to control sharing on Salesforce
    and their interactions. Depending on how you count, there are more than 20 different
    ways of extending the sharing of objects and records in Salesforce.
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 值得反思的是，为什么共享更容易出现“意大利面共享模型”反模式，而其他配置领域则不然。答案主要在于Salesforce中控制共享的机制数量庞大且复杂，以及它们之间的相互作用。根据不同的统计方法，Salesforce中有超过20种不同的方式来扩展对象和记录的共享。
- en: 'The following table shows a sampling of mechanisms that can be used to control
    sharing:'
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 下表展示了一些可以用于控制共享的机制示例：
- en: '| **Mechanism** | **What it’s** **used for** |'
  id: totrans-210
  prefs: []
  type: TYPE_TB
  zh: '| **机制** | **用途** |'
- en: '| Ownership | Access to the record owner, user, or queue |'
  id: totrans-211
  prefs: []
  type: TYPE_TB
  zh: '| 所有权 | 记录所有者、用户或队列的访问权限 |'
- en: '| Profile | Access (or not) to an object at the basic level |'
  id: totrans-212
  prefs: []
  type: TYPE_TB
  zh: '| 配置文件 | 对对象的基本访问（或不访问） |'
- en: '| Permission Set | Access (or not) to an object at the basic level |'
  id: totrans-213
  prefs: []
  type: TYPE_TB
  zh: '| 权限集 | 对对象的基本访问（或不访问） |'
- en: '| Org-Wide Default (Internal) | Default internal sharing level |'
  id: totrans-214
  prefs: []
  type: TYPE_TB
  zh: '| 全组织默认（内部） | 默认的内部共享级别 |'
- en: '| Org-Wide Default (External) | Default external sharing level |'
  id: totrans-215
  prefs: []
  type: TYPE_TB
  zh: '| 全组织默认（外部） | 默认的外部共享级别 |'
- en: '| Role Hierarchy | Access to subordinates’ records |'
  id: totrans-216
  prefs: []
  type: TYPE_TB
  zh: '| 角色层级 | 访问下属记录 |'
- en: '| Grant Access Using Hierarchies | Share (or not) with role hierarchy |'
  id: totrans-217
  prefs: []
  type: TYPE_TB
  zh: '| 使用层级授予访问权限 | 根据角色层级共享（或不共享） |'
- en: '| Public Groups | Share with a defined group of users |'
  id: totrans-218
  prefs: []
  type: TYPE_TB
  zh: '| 公共组 | 与特定用户组共享 |'
- en: '| Ownership-Based Sharing Rule | Share based on a configured rule based on
    record ownership |'
  id: totrans-219
  prefs: []
  type: TYPE_TB
  zh: '| 基于所有权的共享规则 | 根据记录所有权配置的规则进行共享 |'
- en: '| Criteria-Based Sharing Rule | Share based on a configured rule based on record
    field values |'
  id: totrans-220
  prefs: []
  type: TYPE_TB
  zh: '| 基于条件的共享规则 | 根据记录字段值配置的规则进行共享 |'
- en: '| Guest User Sharing Rule | Special sharing with the guest user |'
  id: totrans-221
  prefs: []
  type: TYPE_TB
  zh: '| 来宾用户共享规则 | 与来宾用户的特殊共享 |'
- en: '| Account Teams | Share based on membership in an account team |'
  id: totrans-222
  prefs: []
  type: TYPE_TB
  zh: '| 账户团队 | 根据是否为账户团队成员共享 |'
- en: '| Opportunity Teams | Share based on membership in an opportunity team |'
  id: totrans-223
  prefs: []
  type: TYPE_TB
  zh: '| 商机团队 | 根据是否为商机团队成员共享 |'
- en: '| Case Teams | Share based on membership in a case team |'
  id: totrans-224
  prefs: []
  type: TYPE_TB
  zh: '| 案例团队 | 根据是否为案例团队成员共享 |'
- en: '| Manual Sharing | Share records manually |'
  id: totrans-225
  prefs: []
  type: TYPE_TB
  zh: '| 手动共享 | 手动共享记录 |'
- en: '| Implicit Sharing | Automated sharing between parents and children for certain
    standard objects |'
  id: totrans-226
  prefs: []
  type: TYPE_TB
  zh: '| 隐式共享 | 对某些标准对象，在父子之间自动共享 |'
- en: '| Territory Hierarchy | Share based on configured territories and territory
    membership |'
  id: totrans-227
  prefs: []
  type: TYPE_TB
  zh: '| 领域层级 | 根据配置的领域和领域成员共享 |'
- en: '| External Account Hierarchy | Grant access based on account hierarchy |'
  id: totrans-228
  prefs: []
  type: TYPE_TB
  zh: '| 外部账户层级 | 根据账户层级授予访问权限 |'
- en: '| Sharing Group | Share records owned by portal users |'
  id: totrans-229
  prefs: []
  type: TYPE_TB
  zh: '| 共享组 | 与门户用户共享记录 |'
- en: '| Sharing Set | Share records with portal users based on matches between the
    Account or Contact field |'
  id: totrans-230
  prefs: []
  type: TYPE_TB
  zh: '| 共享集 | 根据账户或联系人字段的匹配与门户用户共享记录 |'
- en: '| Manager Groups | Share records with the management chain |'
  id: totrans-231
  prefs: []
  type: TYPE_TB
  zh: '| 管理组 | 与管理链共享记录 |'
- en: '| Apex Sharing | Share programmatically |'
  id: totrans-232
  prefs: []
  type: TYPE_TB
  zh: '| Apex共享 | 通过编程共享 |'
- en: '| Restriction Rule | Restrict access to specific types of records |'
  id: totrans-233
  prefs: []
  type: TYPE_TB
  zh: '| 限制规则 | 限制访问特定类型的记录 |'
- en: Table 3.1 – Salesforce sharing mechanisms
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: 表3.1 – Salesforce共享机制
- en: Ultimately, this vast number of mechanisms, if used injudiciously, can lead
    to the Spaghetti Sharing Model anti-pattern, simply because their interaction
    becomes opaque to a human-level intelligence.
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: 如果这些大量机制使用不当，最终会导致“意大利面共享模型”反模式，因为它们的相互作用对于人类智能而言变得不透明。
- en: Better solutions
  id: totrans-236
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 更好的解决方案
- en: As we have seen, the Spaghetti Sharing Model anti-pattern can occur just from
    people doing their jobs and incrementally seeking to create value for the business
    by meeting their requirements. That means this anti-pattern can occur without
    anyone doing anything wrong or making a specifically wrong decision. Someone needs
    to step outside the day-to-day work in order to spot this issue prior to it occurring.
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我们所见，意大利面条共享模型反模式可能仅仅是因为人们在做他们的工作，并且逐步努力通过满足要求为企业创造价值。这意味着，这种反模式可能在没有任何人做错事情或做出特别错误决策的情况下发生。需要有人从日常工作中抽身出来，才能在问题发生之前发现这一点。
- en: At the risk of provoking severe retaliation from agile fundamentalists, I will
    suggest that if you find yourself in an organization where there are highly complex
    sharing requirements, you need to stop, take a step back, and put in place an
    upfront design for the sharing architecture along with governance mechanisms to
    enforce it over time. For instance, you might introduce a principle that it is
    best to be parsimonious in using sharing mechanisms and make the adoption of new
    types of sharing subject to approval by an architecture review board or design
    authority.
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: 冒着激怒敏捷主义者的风险，我建议，如果你发现自己身处一个共享需求非常复杂的组织中，你需要停下来，退后一步，并为共享架构制定一个前期设计，同时建立治理机制来长期执行。例如，你可以引入一个原则：在使用共享机制时最好保持节俭，并且将新类型共享的采用纳入架构评审委员会或设计权威的批准范围。
- en: This concludes our presentation of security anti-patterns. We will now look
    at the key things to take away from the discussion.
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: 这篇文章已经结束了关于安全反模式的介绍。接下来，我们将重点讨论从本次讨论中可以得出的关键点。
- en: Knowing the takeaways
  id: totrans-240
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 了解重点要点
- en: In this section, we will abstract a bit from the specific patterns and instead
    try to pull out the wider learning points you can use in your day-to-day work
    as a Salesforce architect or in preparing for the CTA Review Board exam.
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将从具体模式中抽象出来，尝试提取出你作为Salesforce架构师在日常工作中或准备CTA评审委员会考试时可以运用的更广泛的学习要点。
- en: 'When architecting Salesforce solutions, you should be mindful of the following:'
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: 在架构Salesforce解决方案时，你应该注意以下事项：
- en: Security is not just a technical issue; the way you frame the problems and create
    awareness is even more important.
  id: totrans-243
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安全问题不仅仅是技术问题；你如何构建问题框架和提高意识更加重要。
- en: It is easy to assume away complex security issues in various ways. While you
    may not be able to singlehandedly change this as an architect, you can be a part
    of raising awareness.
  id: totrans-244
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 很容易通过各种方式忽视复杂的安全问题。虽然作为架构师你可能无法单独改变这一点，但你可以成为提高意识的一部分。
- en: Instituting sharing sessions and sending out relevant material is one good way
    that you can help make things better.
  id: totrans-245
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 组织共享会议并发送相关材料是一种可以帮助改善情况的好方法。
- en: You can also ensure that security guidelines and practices on the technical
    level reflect the full threat picture.
  id: totrans-246
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你还可以确保技术层面的安全指南和实践能够反映出全面的威胁情况。
- en: Do not assume that something is Salesforce’s responsibility without good evidence.
  id: totrans-247
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 不要在没有充分证据的情况下认为某些事情是Salesforce的责任。
- en: Do not assume that because you are using a declarative feature, you cannot have
    a security gap.
  id: totrans-248
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 不要认为因为你使用的是声明性功能，就不能存在安全漏洞。
- en: Find ways of monitoring the security stance of your Salesforce orgs on a frequent
    basis and act on the intelligence.
  id: totrans-249
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 寻找方法，定期监控你的Salesforce组织的安全状况，并根据情报采取行动。
- en: Make security matters a recurring discussion in governance forums where you
    can influence the agenda.
  id: totrans-250
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在治理论坛中定期讨论安全问题，在那里你可以影响议程。
- en: Don’t build sharing models incrementally unless your requirements are very simple.
  id: totrans-251
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 除非你的需求非常简单，否则不要逐步构建共享模型。
- en: Instead, take the pain upfront and come up with a set of mechanisms that can
    work in your scenario.
  id: totrans-252
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 相反，提前解决问题，制定一套在你的场景中可行的机制。
- en: Regularly assess and update your understanding of the shared responsibility
    model as Salesforce introduces new features and services, especially AI-driven
    capabilities.
  id: totrans-253
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 定期评估和更新你对共享责任模型的理解，特别是在Salesforce推出新的功能和服务，尤其是AI驱动的能力时。
- en: Implement a continuous security monitoring strategy that includes automated
    tools and periodic manual reviews to stay ahead of evolving threats in your Salesforce
    environment.
  id: totrans-254
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 实施持续的安全监控策略，包括自动化工具和定期的手动审查，以便在Salesforce环境中跟踪不断演化的威胁。
- en: Develop a comprehensive security training program for your Salesforce team that
    covers both declarative and programmatic development, emphasizing the potential
    risks in both areas.
  id: totrans-255
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为你的Salesforce团队制定一项全面的安全培训计划，涵盖声明式和编程式开发，重点强调这两个领域中的潜在风险。
- en: Establish a security-first culture within your Salesforce team by incorporating
    security considerations into your development life cycle, from requirements gathering
    to deployment.
  id: totrans-256
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在你的Salesforce团队中建立安全优先的文化，将安全考虑融入到开发生命周期的各个环节，从需求收集到部署。
- en: Regularly audit and optimize your sharing model, using tools such as Salesforce
    Health Check and Optimizer, to prevent the gradual accumulation of unnecessary
    complexity.
  id: totrans-257
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 定期审计和优化你的共享模型，使用如Salesforce Health Check和Optimizer等工具，以防止不必要复杂性的逐渐积累。
- en: 'In preparing for the CTA Review Board exam, you should be mindful of the following:'
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: 在准备CTA评审委员会考试时，应注意以下事项：
- en: Security is embedded in a lot of areas, so even though it is a distinct domain,
    you should still cover security matters concisely where relevant in your solution
    run-through.
  id: totrans-259
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安全嵌入在许多领域中，因此即使它是一个独立的领域，你仍然应当在相关的解决方案演练中简明扼要地涵盖安全问题。
- en: Security is a complex area, so be as clear and concise as possible. It is very
    easy to get drawn into long discussions on security matters and you don’t have
    the time for that at a review board.
  id: totrans-260
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安全是一个复杂的领域，因此要尽可能清晰简明。很容易陷入长时间的安全讨论，但在评审委员会上你没有时间做这个。
- en: Consider including some comments on security when reviewing your governance
    model and potential risks.
  id: totrans-261
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在审查治理模型和潜在风险时，考虑加入一些关于安全的评论。
- en: Be parsimonious when picking security mechanisms. Having fewer mechanisms will
    make them easier to explain and make it less likely that you will have interactions
    that lead to unforeseen consequences.
  id: totrans-262
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在选择安全机制时要节俭。机制越少，就越容易解释，也更不容易出现导致意外后果的交互。
- en: Utilize permission set groups to organize and manage complex permission structures
    more efficiently, reducing the risk of overly complicated security models.
  id: totrans-263
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 利用权限集组来更高效地组织和管理复杂的权限结构，从而减少过于复杂的安全模型的风险。
- en: Of course, don’t oversimplify or make assumptions that would point in the direction
    of not appreciating how things can go wrong in the security domain.
  id: totrans-264
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当然，不要过度简化或做出假设，以免忽视在安全领域中可能出现的问题。
- en: Sharing is particularly easy to get wrong, so be quite careful about designing
    exotic sharing solutions.
  id: totrans-265
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 分享特别容易出错，因此在设计复杂的共享解决方案时要非常小心。
- en: Don’t invent additional security requirements where it isn’t stated in the scenario.
    You can easily think yourself into additional implied requirements when reading
    many scenarios.
  id: totrans-266
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 不要在场景中没有明确提到的地方发明额外的安全要求。在阅读许多场景时，你很容易会误以为存在额外的隐含要求。
- en: The one exception to this rule is dealing with privacy law, such as GDPR, if
    you have an org in a jurisdiction where it applies.
  id: totrans-267
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 唯一的例外是处理隐私法，例如GDPR，如果你的组织位于适用该法律的司法管辖区内。
- en: When integrating with external systems, ensure proper API security measures,
    such as OAuth 2.0, IP restrictions, and regular token rotation, are followed.
  id: totrans-268
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在与外部系统集成时，确保遵循适当的API安全措施，例如OAuth 2.0、IP限制和定期令牌轮换。
- en: Be prepared to discuss how you would approach security in a multi-cloud Salesforce
    implementation, considering the unique security challenges of each cloud.
  id: totrans-269
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 准备好讨论在多云Salesforce实施中如何处理安全问题，考虑每个云的独特安全挑战。
- en: Practice explaining complex security concepts, such as the implications of AI
    on data security, in a clear and concise manner suitable for the time constraints
    of the review board.
  id: totrans-270
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 练习用清晰简洁的方式解释复杂的安全概念，例如人工智能对数据安全的影响，以适应评审委员会的时间限制。
- en: Be ready to explain how you would balance security requirements with other architectural
    concerns, such as performance and user experience, in a large-scale Salesforce
    implementation.
  id: totrans-271
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 准备好解释在大规模Salesforce实施中，如何平衡安全需求与其他架构问题，如性能和用户体验。
- en: We have now covered the material for this chapter and are ready to proceed to
    the next one. First, however, we will summarize our learning.
  id: totrans-272
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经覆盖了本章的内容，现在可以继续下一章了。不过，首先，我们将总结一下我们的学习成果。
- en: Summary
  id: totrans-273
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: In this chapter, we have seen how there are many ways to compromise your security
    by following seemingly innocuous courses of action or failing to realize subtle
    distinctions in responsibilities and approaches.
  id: totrans-274
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们已经看到，通过采取看似无害的行动或未能意识到职责和方法上的微妙区别，存在多种方式可能会危及你的安全。
- en: These include both general security anti-patterns that affect many different
    platforms, such as Shared Belongs to Salesforce and Compliant Is Secure, and unique-to-Salesforce
    anti-patterns such as Declarative Is Always Safe and Spaghetti Sharing Model.
    These underscore the particular complexity of the security domain.
  id: totrans-275
  prefs: []
  type: TYPE_NORMAL
  zh: 这些包括了许多不同平台的通用安全反模式，例如“属于Salesforce的共享”和“合规即安全”，以及Salesforce特有的反模式，例如“声明式总是安全的”和“意大利面分享模型”。这些反映了安全领域的特殊复杂性。
- en: When it comes to security, you have to attend both to high-level issues of organizational
    culture and to the minutiae of how mechanisms are designed specifically for the
    technology you are using. That is what makes it both frustrating and highly interesting
    at the same time.
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
  zh: 在安全问题上，你既要关注组织文化的高层次问题，也要关注技术设计的细节，特别是如何为你所使用的技术量身定制机制。这正是让它既让人沮丧又极具趣味性的原因。
- en: Having covered the security domain, we will move on to have a look at data next.
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: 在涵盖了安全领域之后，我们将继续深入了解数据。
